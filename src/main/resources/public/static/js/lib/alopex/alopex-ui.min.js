/**
 * Alopex UI v2.10.7-dev
 * http://ui.alopex.io
 *
 * Copyright (c) 2018 SK Holdings C&C. All rights reserved.
 *
 * This software is the confidential and proprietary information of SK Holdings C&C
 * You shall not disclose such confidential information and shall use it only in
 * accordance with the terms of the license agreement you entered into with SK Holdings C&C.
 *
 * Date : 2018-05-24 13:49:08 GMT+0900 (대한민국 표준시)
 **/
var __ALOPEX_DEBUG=!1,__ALOG=function(){};if(__ALOPEX_DEBUG)try{__ALOG=Function.prototype.bind?console.log.bind(console):function(){console.log(jQuery.makeArray(arguments).join(" "))}}catch(e){}function isAlopexWindowPopup(){try{return!!$.alopex.util.isValid(window.opener)&&(!window.opener.closed&&(!!$.alopex.util.isValid(window.opener.$)&&!!$.alopex.util.isValid(window.opener.$.alopex)))}catch(e){return!1}}function checkAlopexWindowParent(){try{return!!($.alopex.util.isValid(window.parent)&&$.alopex.util.isValid(window.parent.$)&&$.alopex.util.isValid(window.parent.$.alopex))||(window.parent=window,!1)}catch(e){return!1}}function isAlopexIframeChild(e){try{return!!$.alopex.util.isValid(e)&&(!!$.alopex.util.isValid(e.$)&&!!$.alopex.util.isValid(e.$.alopex))}catch(e){return!1}}!function(e){e.alopex=e.extend(e.alopex,{configMethods:{},widget:{},util:{},config:{pressedClassName:"af-pressed",hoveredClassName:"af-hover",selectedClassName:"af-selected Selected",disabledClassName:"af-disabled Disabled",themeName:"af-default",classLoader:!0,defaultComponentClass:{autocomplete:"Autocomplete",accordion:"Accordion",button:"Button",carousel:"Carousel",checkbox:"Checkbox",combobox:"Combobox",dateinput:"Dateinput",daterange:"Daterange",dialog:"Dialog",divselect:"Divselect",dropdown:"Dropdown",dropdownbutton:"Dropdownbutton",group:"Group",groupbutton:"Groupbutton",icon:"Icon",list:"List",navmenu:"Navmenu",overlay:"Overlay",paging:"Paging",panel:"Panel",progressbar:"Progressbar",radio:"Radio",scrollview:"Scrollview",select:"Select",slider:"Slider",spinner:"Spinner",table:"Table",tabs:"Tabs",textarea:"Textarea",textinput:"Textinput",togglebutton:"Toggle",tooltip:"Tooltip",tree:"Tree"},componentSelector:{".Paging > .link":"button"},language:{ko:{validator:{required:"반드시 입력해야 하는 항목입니다.",checkOnlySpace:"공백만을 입력할 수 없습니다.",required_select:"반드시 선택해야 하는 항목입니다.",minlength:"최소 {0}글자 이상 입력하십시오.",maxlength:"최대 {0}글자 까지 입력 가능합니다.",rangelength:"{0}에서 {1} 글자 사이로 입력하십시오.",minblength:"최소 {0}바이트 이상 입력하십시오.",maxblength:"최대 {0}바이트 까지 입력 가능합니다.",rangeblength:"{0}에서 {1} 바이트 사이로 입력하십시오.",min:"최소 입력가능 값은 {0}입니다.",max:"최대 입력가능 값은 {0}입니다.",range:"{0}에서 {1} 사이의 값을 입력해 주십시오.",email:"이메일 형식에 맞게 입력해 주십시오.",url:"url 형식에 맞게 입력해 주십시오.",date:"날짜를 YYYY/MM/DD 또는 YYYY-MM-DD 형식에 맞게 입력해 주십시오.",mindate:"{0} 또는 {0} 이후의 날짜를 입력해 주십시오.",maxdate:"{0} 또는 {0} 이전의 날짜를 입력해 주십시오.",daterange:"{0}에서 {1} 사이의 날짜를 입력해 주십시오.",oneof:"다음중 하나의 값을 입력해 주십시오 : {param}.",number:"실수를 입력해 주십시오.",integer:"정수를 입력해 주십시오.",digits:"숫자만 입력 가능합니다.",alphabet:"알파벳만 입력 가능합니다.",equalTo:"{0} 값만 가능합니다.",numalpha:"숫자 또는 영문자만 입력 가능합니다.",nospace:"스페이스는 입력할 수 없습니다.",hangul:"한글만 입력 가능합니다.",numhan:"숫자 또는 한글만 입력 가능합니다.",phone:"대시(-)가 들어간 전화번호 형태를 입력해 주십시오.",mobile:"대시(-)가 들어간 휴대전화번호 형태를 입력해 주십시오.",decimal:"소숫점 {1}자리를 포함하여 최대 {0}자리까지 허용됩니다."},datepicker:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["일","월","화","수","목","금","토"],datePostfix:["년","월","일"],descPrevYear:"이전년도",descNextYear:"다음년도",descPrevMonth:"이전 월",descNextMonth:"다음 월",descClose:"닫기",descYearSelect:"년도 선택",descMonthSelect:"월 선택",descMonthSummary:"월을 선택할 수 있는 달력입니다.",descMonthCaption:"월 달력",descDaySummary:"날짜를 선택할 수 있는 달력입니다.",descDayCaption:"달력",descTodayBtn:"오늘"},spinner:{ampm:["오전","오후"]},multiselect:{noneSelectedText:"선택하세요",checkAllText:"전체선택",uncheckAllText:"전체해제",selectedText:"#개 선택됨",label:"필터",placeholder:"검색어를 입력하세요"},fileupload:{dragDropStr:"<div class='fileupload-box'>여기에 파일을 끌어다 놓으세요</div>",multiDragErrorStr:"멀티 파일 Drag &amp; Drop 실패입니다.",duplicateErrorStr:"이미 존재하는 파일입니다.",extErrorStr:"허용되지 않는 확장자입니다.허용되는 확장자 : ",sizeErrorStr:"허용 파일 용량을 초과하였습니다. 최대 파일 용량 : ",maxFileCountErrorStr:"허용 파일 갯수를 초과하였습니다. 최대 파일 갯수 : ",uploadErrorStr:"업로드가 실패하였습니다.",uploadStr:"파일 추가",checkAllStr:"전체 선택",unCheckAllStr:"전체 해제",checkedDeleteStr:"선택 삭제"},webeditor:{font:{bold:"굵게",italic:"기울임꼴",underline:"밑줄",clear:"글자 효과 없애기",height:"줄간격",name:"글꼴",superscript:"위 첨자",subscript:"아래 첨자",strikethrough:"취소선",size:"글자 크기"},image:{image:"사진",insert:"사진 추가",resizeFull:"100% 크기로 변경",resizeHalf:"50% 크기로 변경",resizeQuarter:"25% 크기로 변경",floatLeft:"왼쪽 정렬",floatRight:"오른쪽 정렬",floatNone:"정렬하지 않음",shapeRounded:"스타일: 둥근 모서리",shapeCircle:"스타일: 원형",shapeThumbnail:"스타일: 액자",shapeNone:"스타일: 없음",dragImageHere:"텍스트 혹은 사진을 이곳으로 끌어오세요",dropImage:"텍스트 혹은 사진을 내려놓으세요",selectFromFiles:"파일 선택",url:"사진 URL",remove:"사진 삭제"},video:{video:"동영상",videoLink:"동영상 링크",insert:"동영상 추가",url:"동영상 URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku 사용 가능)"},link:{link:"링크",insert:"링크 추가",unlink:"링크 삭제",edit:"수정",textToDisplay:"링크에 표시할 내용",url:"이동할 URL",openInNewWindow:"새창으로 열기"},table:{table:"테이블",cell:"셀",width:"너비",height:"높이",tableStyle:"테이블 스타일",cellStyle:"셀 스타일",text:"텍스트",align:"정렬",border:"테두리",target:"대상",style:"스타일",thickness:"두께",color:"색",apply:"적용",confirm:"확인",close:"닫기"},hr:{insert:"구분선 추가"},style:{style:"스타일",normal:"본문",blockquote:"인용구",pre:"코드",h1:"제목 1",h2:"제목 2",h3:"제목 3",h4:"제목 4",h5:"제목 5",h6:"제목 6"},lists:{unordered:"글머리 기호",ordered:"번호 매기기"},options:{help:"도움말",fullscreen:"전체 화면",codeview:"코드 보기"},paragraph:{paragraph:"문단 정렬",outdent:"내어쓰기",indent:"들여쓰기",left:"왼쪽 정렬",center:"가운데 정렬",right:"오른쪽 정렬",justify:"양쪽 정렬"},color:{recent:"마지막으로 사용한 색",more:"다른 색 선택",background:"배경색",foreground:"글자색",transparent:"투명",setTransparent:"투명",reset:"취소",resetToDefault:"기본 값으로 변경"},shortcut:{shortcuts:"키보드 단축키",close:"닫기",textFormatting:"글자 스타일 적용",action:"기능",paragraphFormatting:"문단 스타일 적용",documentStyle:"문서 스타일 적용"},help:{insertParagraph:"줄바꿈",undo:"실행 취소",redo:"다시 실행",tab:"탭",untab:"탭 취소",bold:"굵게",italic:"기울임꼴",underline:"밑줄",removeFormat:"폰트 스타일 취소",strikethrough:"취소선",justifyLeft:"왼쪽 정렬",justifyCenter:"중앙 절렬",justifyRight:"오른쪽 정렬",justifyFull:"양쪽 정렬",insertUnorderedList:"글머리 기호",insertOrderedList:"번호 매기기",outdent:"내어쓰기",indent:"들여쓰기",formatPara:"P tag",formatH1:"제목 1",formatH2:"제목 2",formatH3:"제목 3",formatH4:"제목 4",formatH5:"제목 5",formatH6:"제목 6",insertHorizontalRule:"가로줄","linkDialog.show":"다이얼로그 "},history:{undo:"실행 취소",redo:"다시 실행"},specialChar:{specialChar:"특수문자",select:"특수문자를 선택하세요"}}},en:{validator:{required:"This is an entry you must enter.",checkOnlySpace:"Only spaces can not be entered.",required_select:"This item must be selected.",minlength:"Please enter at least {0} characters.",maxlength:"You can enter up to {0} characters.",rangelength:"Please enter between {0} and {1} characters.",minblength:"Please enter at least {0} bytes.",maxblength:"Up to {0} bytes can be input.",rangeblength:"Please enter between {0} and {1} bytes.",min:"The minimum possible input value is {0}.",max:"The maximum possible input value is {0}.",range:"Please enter a value between {0} and {1}.",email:"Please enter it according to the email format.",url:"Please enter it according to the url format.",date:"Please enter the date in the format YYYY / MM / DD or YYYY-MM-DD.",mindate:"Please enter a date after {0} or {0}.",maxdate:"Please enter a date before {0} or {0}.",daterange:"Please enter a date between {0} and {1}.",oneof:"Please enter one of the following values: {param}.",number:"Please enter a real number.",integer:"Please enter an integer.",digits:"Only numbers can be entered.",alphabet:"Only alphabets can be entered.",equalTo:"Only the value {0} is possible.",numalpha:"Only numeric or alphabetic characters can be entered.",nospace:"No spaces are allowed.",hangul:"Only Korean characters can be entered.",numhan:"Only numbers or Korean characters can be entered.",phone:"Please enter a phone number that contains the dash .",mobile:"Please enter the mobile phone number that contains the dash .",decimal:"Up to {0} digits, including the decimal point {1}, are allowed."},datepicker:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],datePostfix:["","",""],descPrevYear:"previous year",descNextYear:"next year",descPrevMonth:"previous month",descNextMonth:"next month",descClose:"close",descYearSelect:"year select",descMonthSelect:"month select",descMonthSummary:"you can select month.",descMonthCaption:"month picker",descDaySummary:"you can select a day.",descDayCaption:"datepicker",descTodayBtn:"Today"},spinner:{ampm:["AM","PM"]},multiselect:{noneSelectedText:"Choose",checkAllText:"Select All",uncheckAllText:"Deselect All",selectedText:"# selected",label:"Filter",placeholder:"Enter search term"},fileupload:{dragDropStr:"<div class='fileupload-box'>Drag and drop files here.</div>",multiDragErrorStr:"Multi-file Drag &amp; Drop failure.",duplicateErrorStr:"This file already exists.",extErrorStr:"This is an unacceptable extension. Allowed extensions : ",sizeErrorStr:"The allowable file capacity has been exceeded.. Allowed Max size: ",maxFileCountErrorStr:"The number of allowed files has been exceeded. Maximum number of files: ",uploadErrorStr:"Upload failed",uploadStr:"Add files",checkAllStr:"Select All",unCheckAllStr:"Deselect All",checkedDeleteStr:"Delete selected"},webeditor:{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}},zh:{validator:{required:"这是您必须输入的条目。",checkOnlySpace:"只有空格不能输入。",required_select:"这个项目必须被选中。",minlength:"请输入至少{0}个字符。",maxlength:"您最多可以输入{0}个字符。",rangelength:"请在{0}和{1}个字符之间输入。",minblength:"请输入至少{0}个字节。",maxblength:"最多可以输入{0}个字节。",rangeblength:"请在{0}和{1}字节之间输入。",min:"最小可能的输入值是{0}。",max:"最大可能的输入值是{0}。",range:"请在{0}和{1}之间输入一个值。",email:"请按照电子邮件格式输入。",url:"根据它请输入URL的格式。",date:"请以YYYY / MM / DD或YYYY-MM-DD的格式输入日期。",mindate:"请在{0}或{0}之后输入日期。",maxdate:"请在{0}或{0}之前输入日期。",daterange:"请在{0}和{1}之间输入一个日期。",oneof:"请输入以下值之一：{param}。",number:"请输入一个實數。",integer:"请输入一个整数。",digits:"只能输入数字。",alphabet:"只能输入英文字母。",equalTo:"只有值{0}是可能的。",numalpha:"只能输入数字或英文字母字符。",nospace:"不允许有空格。",hangul:"只能输入韩文字符。",numhan:"只能输入数字或韩文字符。",phone:"请输入包含破折号（ - ）的电话号码。",mobile:"请输入包含破折号（ - ）的手机号码。",decimal:"最多允许（0）数字，包括小数点（1）数字。"},datepicker:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["日","一","二","三","四","五","六"],datePostfix:["年","月","日"],descPrevYear:"前一年",descNextYear:"明年",descPrevMonth:"上个月",descNextMonth:"下个月",descClose:"关闭",descYearSelect:"年份选择",descMonthSelect:"月份选择",descMonthSummary:"选择月份的日历.",descMonthCaption:"月份日历",descDaySummary:"选择日期的日历.",descDayCaption:"日历",descTodayBtn:"今天"},spinner:{ampm:["上午","下午"]},multiselect:{noneSelectedText:"选择吧。",checkAllText:"全部选择",uncheckAllText:"全部解除",selectedText:"# 已选",label:"过滤",placeholder:"请输入搜索词。"},fileupload:{dragDropStr:"<div class='fileupload-box'>请把文件放在这里。</div>",multiDragErrorStr:"多文件拖放失败",duplicateErrorStr:"该文件已存在",extErrorStr:"这是一个不可接受的延伸。允许的扩展 : ",sizeErrorStr:"超过了允许的文件容量。 允许最大尺寸： ",maxFileCountErrorStr:"已超过允许的文件数量。最大文件数量： ",uploadErrorStr:"上传失败。",uploadStr:"添加文件",checkAllStr:"全部选择",unCheckAllStr:"全部解除",checkedDeleteStr:"删除选中"},webeditor:{font:{bold:"粗体",italic:"斜体",underline:"下划线",clear:"清除格式",height:"行高",name:"字体",strikethrough:"删除线",subscript:"下标",superscript:"上标",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"缩放至 100%",resizeHalf:"缩放至 50%",resizeQuarter:"缩放至 25%",floatLeft:"靠左浮动",floatRight:"靠右浮动",floatNone:"取消浮动",shapeRounded:"形状: 圆角",shapeCircle:"形状: 圆",shapeThumbnail:"形状: 缩略图",shapeNone:"形状: 无",dragImageHere:"将图片拖拽至此处",selectFromFiles:"从本地上传",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"图片地址",remove:"移除图片"},video:{video:"视频",videoLink:"视频链接",insert:"插入视频",url:"视频地址",providers:"(优酷, Instagram, DailyMotion, Youtube等)"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},table:{table:"表格",cell:"Cell",width:"Width",height:"Height",tableStyle:"Table Style",cellStyle:"Cell Style",text:"Text",align:"Align",border:"Border",target:"Target",style:"Style",thickness:"Width",color:"Color",apply:"Apply",confirm:"Confirm",close:"Close"},hr:{insert:"水平线"},style:{style:"样式",normal:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式",extraKeys:"额外按键"},help:{insertParagraph:"插入段落",undo:"撤销",redo:"重做",tab:"增加缩进",untab:"减少缩进",bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",removeFormat:"清除格式",justifyLeft:"左对齐",justifyCenter:"居中对齐",justifyRight:"右对齐",justifyFull:"两端对齐",insertUnorderedList:"无序列表",insertOrderedList:"有序列表",outdent:"减少缩进",indent:"增加缩进",formatPara:"设置选中内容样式为 普通",formatH1:"设置选中内容样式为 标题1",formatH2:"设置选中内容样式为 标题2",formatH3:"设置选中内容样式为 标题3",formatH4:"设置选中内容样式为 标题4",formatH5:"设置选中内容样式为 标题5",formatH6:"设置选中内容样式为 标题6",insertHorizontalRule:"插入水平线","linkDialog.show":"显示链接对话框"},history:{undo:"撤销",redo:"重做"}}},ja:{validator:{required:"これはあなたが入力しなければならない項目です。",checkOnlySpace:"空白だけを入力できません。",required_select:"この項目を選択する必要があります。",minlength:"少なくとも{0}文字を入力してください。",maxlength:"最大{0}文字を入力できます。",rangelength:"{0}文字と{1}文字の間で入力してください。",minblength:"少なくとも{0}バイトを入力してください。",maxblength:"最大{0}バイトを入力できます。",rangeblength:"{0}〜{1}バイトの間で入力してください。",min:"入力可能な最小値は{0}です。",max:"可能な最大入力値は{0}です。",range:"{0}から{1}の間の値を入力してください。",email:"メール形式に合わせて入力してください。",url:"URL形式で入力してください。",date:"YYYY / MM / DDまたはYYYY-MM-DDの形式で日付を入力してください。",mindate:"{0}または{0}の後に日付を入力してください。",maxdate:"{0}か{0}の前に日付を入力してください。",daterange:"{0}から{1}の間の日付を入力してください。",oneof:"次のいずれかの値を入力してください。： {param}",number:"実数を入力してください。",integer:"整数を入力してください。",digits:"数字のみ入力できます。",alphabet:"アルファベットのみを入力できます。",equalTo:"値{0}のみが可能です。",numalpha:"数字またはアルファベットの文字のみを入力できます。",nospace:"スペースは使用できません。",hangul:"韓国語のみ入力できます。",numhan:"数字または韓国語の文字のみを入力できます。",phone:"ダッシュ（ - ）を含む電話番号を入力してください。",mobile:"ダッシュ（ - ）を含む携帯電話番号を入力してください。",decimal:"小数点{1}を含めて{0}桁まで可能です。"},datepicker:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["日","月","火","水","木","金","土"],datePostfix:["年","月","日"],descPrevYear:"前年",descNextYear:"翌年",descPrevMonth:"先月",descNextMonth:"来月",descClose:"終了",descYearSelect:"年を選択",descMonthSelect:"月選択",descMonthSummary:"月を 選べるカレンダーです.",descMonthCaption:"月カレンダー",descDaySummary:"日にちを選べるカレンダーです.",descDayCaption:"カレンダー",descTodayBtn:"今日"},spinner:{ampm:["午前","午後"]},multiselect:{noneSelectedText:"選択してください",checkAllText:"全体選択",uncheckAllText:"全体解除",selectedText:"# 選択された",label:"フィルタ",placeholder:"検索語を入力してください"},fileupload:{dragDropStr:"<div class='fileupload-box'>ここにファイルをドラッグしてください。</div>",multiDragErrorStr:"マルチファイルDrag &amp; Dropの失敗です。",duplicateErrorStr:"すでに存在するファイルです。",extErrorStr:"許容されていない拡張子です。許容される拡張子: ",sizeErrorStr:"許容ファイル容量を超えています。 許可最大サイズ： ",maxFileCountErrorStr:"許容ファイル数を超過しました。 最大ファイル数: ",uploadErrorStr:"アップロードが失敗しました。",uploadStr:"ファイル追加",checkAllStr:"全体選択",unCheckAllStr:"全体解除",checkedDeleteStr:"選択削除"},webeditor:{font:{bold:"太字",italic:"斜体",underline:"下線",clear:"クリア",height:"文字高",name:"フォント",strikethrough:"取り消し線",size:"大きさ"},image:{image:"画像",insert:"画像挿入",resizeFull:"最大化",resizeHalf:"1/2",resizeQuarter:"1/4",floatLeft:"左寄せ",floatRight:"右寄せ",floatNone:"寄せ解除",dragImageHere:"ここに画像をドラッグしてください",selectFromFiles:"画像ファイルを選ぶ",url:"URLから画像を挿入する",remove:"画像を削除する"},video:{video:"動画",videoLink:"動画リンク",insert:"動画挿入",url:"動画のURL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku)"},link:{link:"リンク",insert:"リンク挿入",unlink:"リンク解除",edit:"編集",textToDisplay:"リンク文字列",url:"URLを入力してください",openInNewWindow:"新しいウィンドウで開く"},table:{table:"テーブル",cell:"Cell",width:"Width",height:"Height",tableStyle:"Table Style",cellStyle:"Cell Style",text:"Text",align:"Align",border:"Border",target:"Target",style:"Style",thickness:"Width",color:"Color",apply:"Apply",confirm:"Confirm",close:"Close"},hr:{insert:"水平線の挿入"},style:{style:"スタイル",normal:"標準",blockquote:"引用",pre:"コード",h1:"見出し1",h2:"見出し2",h3:"見出し3",h4:"見出し4",h5:"見出し5",h6:"見出し6"},lists:{unordered:"通常リスト",ordered:"番号リスト"},options:{help:"ヘルプ",fullscreen:"フルスクリーン",codeview:"コード表示"},paragraph:{paragraph:"文章",outdent:"字上げ",indent:"字下げ",left:"左寄せ",center:"中央寄せ",right:"右寄せ",justify:"均等割付"},color:{recent:"現在の色",more:"もっと見る",background:"背景色",foreground:"文字色",transparent:"透過率",setTransparent:"透過率を設定",reset:"標準",resetToDefault:"標準に戻す"},shortcut:{shortcuts:"ショートカット",close:"閉じる",textFormatting:"文字フォーマット",action:"アクション",paragraphFormatting:"文章フォーマット",documentStyle:"ドキュメント形式"},help:{insertParagraph:"改行挿入",undo:"一旦、行った操作を戻す",redo:"最後のコマンドをやり直す",tab:"Tab",untab:"タブ戻し",bold:"太文字",italic:"斜体",underline:"下線",strikethrough:"取り消し線",removeFormat:"装飾を戻す",justifyLeft:"左寄せ",justifyCenter:"真ん中寄せ",justifyRight:"右寄せ",justifyFull:"すべてを整列",insertUnorderedList:"行頭に●を挿入",insertOrderedList:"行頭に番号を挿入",outdent:"字下げを戻す（アウトデント）",indent:"字下げする（インデント）",formatPara:"段落(P tag)指定",formatH1:"H1指定",formatH2:"H2指定",formatH3:"H3指定",formatH4:"H4指定",formatH5:"H5指定",formatH6:"H6指定",insertHorizontalRule:"&lt;hr /&gt;を挿入","linkDialog.show":"リンク挿入"},history:{undo:"元に戻す",redo:"やり直す"}}}}},inherit:function(t,a){var n=e.extend({},t,a);return n.eventHandlers=e.extend({},t.eventHandlers,a.eventHandlers),t.getters=t.getters||[],t.setters=t.setters||[],a.getters=a.getters||[],a.setters=a.setters||[],n.getters=t.getters.concat(a.getters),n.setters=t.setters.concat(a.setters),n.properties=e.extend({},t.properties,a.properties),n.parent=t,n.markup=a.markup,n.style=a.style,n.event=a.event,n.init=a.init,n.defer=a.defer,n},setup:function(t,a){if("string"==typeof t){if(e.alopex.widget[t])e.extend(e.alopex.widget[t].properties,a);else if(e.isFunction(e.alopex.configMethods[t])){var n=e.makeArray(arguments).slice(1);e.alopex.configMethods[t].apply(null,n)}}else a=t,e.extend(!0,e.alopex.config,a)},registerSetup:function(t,a){e.alopex.configMethods[t]=a},convert:function(t){var a={markup:[],style:[],event:[],init:[],defer:[]};if(e.alopex.util.isValid(t)||(t="body"),e.alopex.config.classLoader){for(var n in e.alopex.config.defaultComponentClass)e(t).findAll("."+e.alopex.config.defaultComponentClass[n]).each(function(t,a){e(a).attr({"data-type":n,"data-classinit":"true"})});for(var n in e.alopex.config.componentSelector)e(t).findAll(n).each(function(t,a){e.alopex.widget[e.alopex.config.componentSelector[n]]&&e(a).attr({"data-type":e.alopex.config.componentSelector[n],"data-classinit":"true"})})}e(t).findAll("[data-type]").each(function(){var t=e.alopex.widget.object._getInitHandlers(this);a.markup=a.markup.concat(t.markup),a.style=a.style.concat(t.style),a.event=a.event.concat(t.event),a.init=a.init.concat(t.init),a.defer=a.defer.concat(t.defer)});for(n=0;n<a.markup.length;n++){var i=a.markup[n];e.alopex.util.isConverted(i.element)||i.constructor.call(i.widget,i.element,e.alopex.util.getOptions(i.element))}for(n=0;n<a.style.length;n++){i=a.style[n];e.alopex.util.isConverted(i.element)||i.constructor.call(i.widget,i.element,e.alopex.util.getOptions(i.element))}for(n=0;n<a.init.length;n++){i=a.init[n];e.alopex.util.isConverted(i.element)||i.constructor.call(i.widget,i.element,e.alopex.util.getOptions(i.element))}for(n=0;n<a.event.length;n++){i=a.event[n];e.alopex.util.isConverted(i.element)||i.constructor.call(i.widget,i.element,e.alopex.util.getOptions(i.element))}for(n=0;n<a.defer.length;n++){i=a.defer[n];e.alopex.util.isConverted(i.element)||i.constructor.call(i.widget,i.element,e.alopex.util.getOptions(i.element))}},checkBrowser:function(){window.browser=e.alopex.util.getBrowserName()},_getter:function(t,a){if(this.length<1)return this;var n=this[0],i=this.prop("alopextype")?this.prop("alopextype"):[];if(e.alopex.util.isValid(n.getAttribute("data-type"))&&(i=e.alopex.util.arrayjoin(new Array(n.getAttribute("data-type")),i)),e.alopex.util.isValid(i))for(var r=0;r<i.length;r++){var o=e.alopex.widget[i[r]],s=o[t];if(s&&"function"==typeof s&&e.alopex.util.isValid(o)){var l=[n];for(r=0;r<a.length;r++)l.push(a[r]);if(e.alopex.util.isValid(n.alopex)){if(!e.alopex.util.isConverted(this)){var d=o,c=l;e(n).one("initcomplete.alopexui",function(){return d[t].apply(d,c)})}}else o._constructor.apply(o,[this,e.extend(e.alopex.util.getOptions(this),a.length>0?a[0]:void 0)]);return o[t].apply(o,l)}}},_setter:function(t,a){return this.each(function(){var n=e(this).prop("alopextype")?e(this).prop("alopextype"):[];if(e.alopex.util.isValid(this.getAttribute("data-type"))&&(n=e.alopex.util.arrayjoin(new Array(this.getAttribute("data-type")),n)),n.length>0){for(var i=[this],r=0;r<a.length;r++)i.push(a[r]);for(r=0;r<n.length;r++){var o=(d=e.alopex.widget[n[r]])[t];if(n[r]==t){if(d&&d._constructor){d._constructor.apply(d,[this,e.extend(e.alopex.util.getOptions(this),a.length>0?a[0]:void 0)]);break}}else if(o&&"function"==typeof o&&e.alopex.util.isValid(d)){if(e.alopex.util.isValid(this.alopex))if(e.alopex.util.isConverted(this))d[t].apply(d,i);else{var s=d,l=i;e(this).one("initcomplete.alopexui",function(){s[t].apply(s,l)})}else d._constructor.apply(d,[this,e.extend(e.alopex.util.getOptions(this),a.length>0?a[0]:void 0)]),d[t].apply(d,i);break}}}else if(e.alopex.widget[t]){var d;(d=e.alopex.widget[t]).pre&&d.pre.apply(d,[this])}})}}),e.fn.convert=function(){return this.each(function(){e.alopex.convert(this)})},e.fn.setEnabledAll=function(t){this.find("input[data-type], select[data-type], button[data-type], textarea[data-type]").each(function(){e(this).setEnabled(t)})}}(jQuery),function(e){window.didKeyupHandler="Y";var t={digits:"0-9",lowercase:"a-z",uppercase:"A-Z",english:"a-zA-Z",korean:"ㄱ-ㅣ가-힣",singlespace:" ",decimal:"0-9.-"},a={},n={0:t.digits,a:t.lowercase,A:t.uppercase,b:t.digits+t.lowercase,B:t.digits+t.uppercase,E:t.english,"*":t.digits+t.english},i={0:new RegExp("["+n[0]+"]",""),a:new RegExp("["+n.a+"]",""),A:new RegExp("["+n.A+"]",""),b:new RegExp("["+n.b+"]",""),B:new RegExp("["+n.B+"]",""),E:new RegExp("["+n.E+"]",""),"*":new RegExp("["+n["*"]+"]","")},r={digits:"0-9",lowercase:"A-Z",uppercase:"A-Z",english:"A-Z",korean:"å",singlespace:" ",decimal:"0-9.-"},o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pausebreak",20:"capslock",21:"han/young",25:"chinese",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"win-left",92:"win-right",93:"function",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock"},s={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45",96:"48",97:"49",98:"50",99:"51",100:"52",101:"53",102:"54",103:"55",104:"56",105:"57",109:"45",110:"46",111:"47"},l={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:"'",44:"<",46:">",47:"?"},d="keyfilter",c="maskedinput";function p(e,t){var a=e.match(t);return""==e||null!=a&&a[0]==e}function u(e,t){if(t.value=e,"number"==typeof t.selectionStart)t.selectionStart=t.selectionEnd=t.value.length;else if(void 0!==t.createTextRange){var a=t.createTextRange();a.collapse(!1),a.select()}}function h(e,a){for(var n,i="",o="keydown"===a.toLowerCase()?r:t,s=(e=-1!==(n=e).indexOf("korean")&&-1===n.indexOf("singlespace")?n+"|singlespace":n).split("|"),l=0;l<s.length;l++){var d=s[l];o[d]&&(i+=o[d])}return i}var f=function(e,t){"keypress"!==t.type&&s.hasOwnProperty(e)&&(e=s[e]);var a=String.fromCharCode(e),n=e>=65&&e<=90,i=t.shiftKey?t.shiftKey:16==e;return a.toUpperCase()===a&&a.toLowerCase()!==a&&!i||a.toUpperCase()!==a&&a.toLowerCase()===a&&i||((a.toLowerCase()===a&&a.toUpperCase()!==a&&!i||a.toLowerCase()!==a&&a.toUpperCase()===a&&i)&&n&&!i?a=String.fromCharCode(e+32):i&&l.hasOwnProperty(e)&&(a=l[e])),a},g=function(t){e(t.currentTarget).off("mouseleave.datafilter"),e(t.currentTarget).trigger("keyup")};e(document).on("keydown.datafilter","[data-"+d+"-rule],[data-"+d+"]",function(t){var a=e(t.currentTarget.parentNode),n=t.which||t.charCode||t.keyCode;if((!t.ctrlKey&&!t.metaKey||67!==n&&86!==n)&&(a.hasClass("alopexgrid-cell")||!o[n])){e(t.currentTarget).off("blur.datafilter"),e(t.currentTarget).on("blur.datafilter",m);var i=e(t.currentTarget).attr("data-"+d+"-rule");if("string"==typeof i){var r=h(i,t.type);if(""!==r){r=new RegExp("["+r+"]","g");var s=f(n,t);if(!e(t.currentTarget).attr("data-"+d)&&!p(s,r))return t.preventDefault(),!1}}a.hasClass("alopexgrid-cell")&&(v(t),e(t.currentTarget).trigger("keyup"),e(t.currentTarget).off("mouseleave.datafilter"),e(t.currentTarget).on("mouseleave.datafilter",g))}});var m=function(t){e(t.currentTarget).off("blur.datafilter"),v(t),e(t.currentTarget).trigger("keyup")},v=function(t){if(window.didKeyupHandler="Y",e(t.currentTarget.parentNode).hasClass("alopexgrid-cell")||!o[t.which]){var n="",i=e(t.currentTarget),r=i.attr("data-"+d+"-rule");if($a.util.isValid(a[r]))n=a[r],function(t,a){if(a){var n,i;n=i=e(t).val();for(var r="";!p(n,a);)n=(r=n).substr(0,r.length-1);n!==i&&u(n,t)}}(t.currentTarget,n);else{"string"==typeof r&&(n=h(r,t.type));var s=i.attr("data-"+d);"string"==typeof s&&(n+=s),""!==n&&(n=new RegExp("["+n+"]","g"),function(t,a){if(a){var n,i;n=i=e(t).val();for(var r="",o="";!p(n,a);){n=(r=n).substr(0,r.length-1);var s=r.substr(r.length-1);p(s,a)&&(o=s+o)}n+o!=i&&u(n+o,t)}}(t.currentTarget,n))}}};e(document).on("keyup.datafilter","[data-"+d+"-rule],[data-"+d+"]",v);e(document).on("keydown.maskedinput","[data-"+c+"-rule]",function(e){var t=e.currentTarget,a=e.which||e.charCode||e.keyCode;if((e.ctrlKey||e.metaKey)&&86===a)return t.maskedinputOptions.previousValue=t.value,void setTimeout(function(){t.value=$a.maskedinputRegExpCheck(t)},100);if(!t.maskedinputOptions.isRegExp){if(229===a)return e.preventDefault(),!1;if(t.maskedinputOptions.isDigitAndDigitEnglishOnly&&(!e.ctrlKey&&!e.metaKey||65!==a&&67!==a&&86!==a&&88!==a&&82!==a)&&!o[a])return!t.maskedinputOptions.reverse||((t=e.currentTarget).value.length>=t.maskedinputOptions.format.length||!p(f(a,e),t.maskedinputOptions.reverseOneRegExp)?(e.preventDefault(),!1):void 0)}});e(document).on("keypress.maskedinput","[data-"+c+"-rule]",function(t){var a=t.currentTarget,n=t.which||t.charCode||t.keyCode;return a.maskedinputOptions.reverse?(function(e,t,a){if(e.value.length>=e.maskedinputOptions.format.length)return a.preventDefault(),!1;if(!p(f(t,a),e.maskedinputOptions.reverseOneRegExp))return a.preventDefault(),!1;for(var n=e.value,i=x(e),r=f(t,a),o=n.slice(0,i)+r+n.slice(i,n.length),s=e.maskedinputOptions,l=o.replace(s.reverseOneRegExpOpposite,""),d=l.length,c=s.format,u=c.length-1,h=null,g="",m=d-1;m>=0;m--)(h=c.charAt(u))===s.reverseOneChar?g=l.charAt(m)+g:(g=l.charAt(m)+h+g,u--),u--;e.value=g,b(e,i+(g.length-n.length))}(a,n,t),t.preventDefault(),!1):function(t,a,n){var i=e(t).attr("data-"+c+"-rule");if("string"==typeof i){var r=(t=n.currentTarget).value,o=r.length;if(o>=i.length)return n.preventDefault(),!1;var s=t.maskedinputOptions.indexInfo,l=r,d=!1,u=null,h=f(a,n),g=x(t);if(g===r.length){for(;s[o]&&!d;){if((u=s[o].regexp)instanceof RegExp){if(!p(h,u))break;d=!0}else l+=u;o++}if(d){for(var m="",v=!0;s[o];){if((u=s[o].regexp)instanceof RegExp){v=!1;break}m+=u,o++}return v?(t.value=l+h+m,n.preventDefault(),!1):(t.value=l,!0)}return n.preventDefault(),!1}if(t.value=e.alopex.maskedinputRegExpCheck(t,r.slice(0,g)+h+r.slice(g,r.length)),t.value!==r){for(var w=g,y=0;s[w]&&!((u=s[w].regexp)instanceof RegExp);)y++,w++;b(t,g+1+y)}return n.preventDefault(),!1}}(a,n,t)});var x=function(e){if(e&&"INPUT"===e.nodeName){if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),a=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-a}}},b=function(e,t){if(e&&"INPUT"===e.nodeName)if(e.createTextRange){var a=e.createTextRange();a.move("character",t),a.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()};e.alopex||(e.alopex={}),e.alopex.keyfilter={add:function(e,a,n){e&&(a&&(r[e]=a),n&&(t[e]=n))},addKeyUpRegexpRule:function(e,n){"string"==typeof arguments[0]&&""!==arguments[0]&&("string"==typeof arguments[1]&&""!==arguments[1]?t[arguments[0]]=arguments[1]:arguments[1]instanceof RegExp&&(a[arguments[0]]=arguments[1]))},addKeyDownKeycodeRule:function(e,t){"string"==typeof arguments[0]&&""!==arguments[0]&&"string"==typeof arguments[1]&&""!==arguments[1]&&(r[arguments[0]]=arguments[1])}},e.alopex.maskedinput=function(t,a,r){var o=e(t);if(0!==o.length&&("string"==typeof a||a instanceof RegExp)){if(t.maskedinputOptions||(t.maskedinputOptions={}),t.maskedinputOptions=e.extend(!0,{},t.maskedinputOptions,e.alopex.maskedinput.setup,r),t.maskedinputOptions.previousValue=t.value,t.maskedinputOptions.format=a,a instanceof RegExp)t.maskedinputOptions.isRegExp=!0;else if("string"==typeof a){t.maskedinputOptions.indexInfo=[];var s=null,l=!0,d="",c="";if(e.each(a.split(""),function(e,r){var o=function(e,t){var a=null;for(var r in n)if(t.charAt(e)===r.toString()){a=i[r];break}return a}(e,a);o?(0===e?s=r:null!==s&&s!==r&&(s=!1),"0"!==r&&"*"!==r&&l&&(l=!1),-1===d.indexOf(n[r])&&(d+=n[r]),t.maskedinputOptions.indexInfo.push({index:e,regexp:o}),c+="["+o+"]{1}"):t.maskedinputOptions.indexInfo.push({index:e,regexp:r})}),t.maskedinputOptions.regExpFromFormat=new RegExp(c),""!==d&&(t.maskedinputOptions.everyRule=d,t.maskedinputOptions.everyRuleRegExpOpposite=new RegExp("[^"+t.maskedinputOptions.everyRule+"]","g")),t.maskedinputOptions.isDigitAndDigitEnglishOnly=l,t.maskedinputOptions.reverse&&s)t.maskedinputOptions.reverseOneChar=s,t.maskedinputOptions.reverseOneRegExp=new RegExp("["+n[s]+"]","g"),t.maskedinputOptions.reverseOneRegExpOpposite=new RegExp("[^"+n[s]+"]","g");else if(t.maskedinputOptions.reverse&&!s)return void console.error("reverse:true property needs a format with only one charactor")}o.attr("data-maskedinput-rule",a);var p=o.val();""!==p&&o.val(e.alopex.maskedinputRegExpCheck(t,p)),o.off("focus.maskedinput, blur.maskedinput"),o.on("focus.maskedinput",function(t){var a=this.value;""!==a&&(this.value=e.alopex.maskedinputRegExpCheck(this,a),b(this,this.value.length))}),o.on("blur.maskedinput",function(t){var a=this.value;""!==a&&(this.value=e.alopex.maskedinputRegExpCheck(this,a))})}},e.alopex.maskedinput.setup={reverse:!1,lengthCheck:!1},e.alopex.maskedinput.notAllowStartZeroFn=function(e){return 0!==e.length&&e.length===e.match(/^0*/)[0].length?"0":e.replace(/^0*/,"")},e.alopex.maskedinput.getUserOption=function(e){return{format:e.maskedinputOptions.format,reverse:e.maskedinputOptions.reverse,lengthCheck:e.maskedinputOptions.lengthCheck}},e.alopex.maskedinputRegExpCheck=function(t,a){var n=null,i=null;a?(n=a,i=a):(n=t.value,i=t.value),i=i.toString(),t.maskedinputOptions.everyRuleRegExpOpposite instanceof RegExp&&(i=i.replace(t.maskedinputOptions.everyRuleRegExpOpposite,""),t.maskedinputOptions.notAllowStartZero&&(i=e.alopex.maskedinput.notAllowStartZeroFn(i)));var r=!0;if(t.getAttribute("data-maskedinput-rule")&&t.maskedinputOptions.isRegExp){t.maskedinputOptions.format.test(i)||(r=!1,i=t.maskedinputOptions.previousValue)}else{t.maskedinputOptions.indexInfo.length;var o=0;if(e.each(t.maskedinputOptions.indexInfo,function(e,t){t.regexp instanceof RegExp&&o++}),i.length===o||!1===t.maskedinputOptions.lengthCheck){var s=0,l="",d="";t.maskedinputOptions.reverse&&(i=i.split("").reverse().join(""),t.maskedinputOptions.indexInfo.reverse()),e.each(t.maskedinputOptions.indexInfo,function(e,a){var n=a.regexp,o=i.charAt(s);if(n instanceof RegExp){if(!n.test(o))return r=!1,i=t.maskedinputOptions.previousValue,!1;l+=d+o,d="",s++}else d+=n}),i=l,r=!0}else r=!1}if(t.maskedinputOptions.reverse&&(i=i.split("").reverse().join(""),t.maskedinputOptions.indexInfo.reverse()),!r&&""!==n){var c=e.alopex.maskedinput.getUserOption(t);console.error("User Value '"+n+"' is mismatched with MaskedInput Option : "+JSON.stringify(c)),i=t.maskedinputOptions.previousValue}return i}}(jQuery),function(e){e.alopex.widget.object={widgetName:"object",parent:null,defaultClassName:"af-object",getters:["getEnabled"],setters:["addPressHighlight","addHoverHighlight","setEnabled","refresh"],properties:{enabled:!0,_markup:null,_wrapper:null},eventHandlers:{},refresh:function(t){var a=this._getProperty(t,"_wrapper"),n=this._getProperty(t,"_markup");a&&n&&(n=e(n)[0],e(a).replaceWith(n),e(n)[this.widgetName]())},markup:function(t,a){t.alopex=e.extend({},this.properties,a),t.alopexoptions||(t.alopexoptions={}),t.alopexoptions=e.extend(t.alopexoptions,this.properties,a),this._setProperty(t,"_markup",t.outerHTML);var n=this.renderTo(t,a);if(n){var i=e(n),r=this._generateMarkup(i[0],t);this._setProperty(t,"_wrapper",r)}},style:function(e,t){this._addDefaultClass(e)},event:function(e,t){this._addEventListener(e)},init:function(t,a){var n=e(t).prop("alopextype")?e(t).prop("alopextype"):[];n.push(e(t).attr("data-type")),e(t).prop("alopextype",n)},defer:function(t,a){this.setEnabled&&(this.setEnabled(t,e.alopex.util.parseBoolean(t.alopexoptions.enabled)),e.alopex.util.isValid(t.alopexoptions.disabled)&&this.setEnabled(t,!e.alopex.util.parseBoolean(t.alopexoptions.disabled))),e(t).attr("data-converted","true"),e(t).trigger("initcomplete.alopexui")},_getInitHandlers:function(t){function a(e,t,a){this.element=e,this.widget=t,this.constructor=a}var n=[],i=[],r=[],o=[],s=[],l=e(t).attr("data-type"),d=e.alopex.widget[l];if(d)for(var c=d;c;)c.markup&&n.unshift(new a(t,d,c.markup)),c.style&&i.unshift(new a(t,d,c.style)),c.event&&r.unshift(new a(t,d,c.event)),c.init&&o.unshift(new a(t,d,c.init)),c.defer&&s.push(new a(t,d,c.defer)),c=c.parent;return{markup:n,style:i,event:r,init:o,defer:s}},_constructor:function(t,a){if(t){for(var n=e.alopex.widget.object._getInitHandlers(t),i=[],r=1;r<arguments.length;r++)i[r]=arguments[r];for(r=0;r<n.markup.length;r++)i[0]=n.markup[r].element,n.markup[r].constructor.apply(n.markup[r].widget,i);for(r=0;r<n.style.length;r++)i[0]=n.style[r].element,n.style[r].constructor.apply(n.style[r].widget,i);for(r=0;r<n.init.length;r++)i[0]=n.init[r].element,n.init[r].constructor.apply(n.init[r].widget,i);for(r=0;r<n.event.length;r++)i[0]=n.event[r].element,n.event[r].constructor.apply(n.event[r].widget,i);for(r=0;r<n.defer.length;r++)i[0]=n.defer[r].element,n.defer[r].constructor.apply(n.defer[r].widget,i)}},_addEventListener:function(t){var a=e(t);for(var n in this.eventHandlers){var i=[this.eventHandlers[n].event];this.eventHandlers[n].selector&&i.push(this.eventHandlers[n].selector),this.eventHandlers[n].data&&i.push(this.eventHandlers[n].data),i.push(this[this.eventHandlers[n].handler]),a.on.apply(a,i)}},_addDefaultClass:function(t){var a,n=" "+e.alopex.config.themeName;if(t.getAttribute("data-theme")&&(n=" "+t.getAttribute("data-theme")),t.getAttribute("data-classinit"));else{if(a=void 0!==t.className&&""!==t.className?" af-default"!==n?t.className+n:t.className:this.defaultClassName+n,e.alopex.util.isValid(t.getAttribute("data-style"))||e.alopex.util.isValid(t.getAttribute("data-addclass")))a+=" "+(t.getAttribute("data-addclass")||t.getAttribute("data-style"));e(t).addClass(a)}},addPressHighlight:function(t,a){a?(e(t).on("move",a,{classname:e.alopex.config.pressedClassName},this._removeClassName),e(t).on("pressed",a,{classname:e.alopex.config.pressedClassName},this._addClassName),e(t).on("unpressed",a,{classname:e.alopex.config.pressedClassName},this._removeClassName)):(e(t).on("move",{classname:e.alopex.config.pressedClassName},this._removeClassName),e(t).on("pressed",{classname:e.alopex.config.pressedClassName},this._addClassName),e(t).on("unpressed",{classname:e.alopex.config.pressedClassName},this._removeClassName))},addHoverHighlight:function(t,a){a?(e(t).on("mouseenter focusin",a,{classname:e.alopex.config.hoveredClassName},this._addClassName),e(t).on("mouseleave focusout",a,{classname:e.alopex.config.hoveredClassName},this._removeClassName)):(e(t).on("mouseenter focusin",{classname:e.alopex.config.hoveredClassName},this._addClassName),e(t).on("mouseleave focusout",{classname:e.alopex.config.hoveredClassName},this._removeClassName))},removePressHighlight:function(t,a){a?(e(t).off("move",a,this._removeClassName),e(t).off("pressed",a,this._addClassName),e(t).off("unpressed",a,this._removeClassName)):(e(t).off("move",this._removeClassName),e(t).off("pressed",this._addClassName),e(t).off("unpressed",this._removeClassName))},removeHoverHighlight:function(t,a){a?(e(t).off("mouseenter focusin",a,this._addClassName),e(t).off("mouseleave focusout",a,this._removeClassName)):(e(t).off("mouseenter focusin",this._addClassName),e(t).off("mouseleave focusout",this._removeClassName))},_eventBlockHandler:function(e){return e.preventDefault(),e.stopPropagation(),!1},_setProperty:function(e,t,a){e.alopex&&(e.alopex[t]=a)},_getProperty:function(e,t){return e.alopex[t]},setEnabled:function(t,a){var n=e(t);"boolean"!=typeof a&&(a=e.alopex.util.parseBoolean(a)),a?(this._setProperty(t,"enabled",!0),this._removeDisabledStyle(t),t.removeAttribute("disabled"),t.attributes.tabindex&&-1==n.attr("tabindex")&&(t.originalTabIndex?t.setAttribute("tabindex",t.originalTabIndex):t.setAttribute("tabindex","0"))):(this._setProperty(t,"enabled",!1),this._addDisabledStyle(t),t.setAttribute("disabled","disabled"),t.attributes.tabindex&&-1!=n.attr("tabindex")&&(t.originalTabIndex=n.attr("tabindex"),t.setAttribute("tabindex","-1")))},getEnabled:function(e){return this._getProperty(e,"enabled")},_addClassName:function(t){var a=t.currentTarget;switch(a.getAttribute("data-type")){case 0:break;default:e(a).addClass(t.data.classname)}},_removeClassName:function(t){var a=t.currentTarget;switch(a.getAttribute("data-type")){case 0:break;default:e(a).removeClass(t.data.classname)}},_addDisabledStyle:function(t){e(t).addClass(e.alopex.config.disabledClassName),(e(t).hasClass("Checkbox")||e(t).hasClass("Radio"))&&e(t).parent().get(0)&&"LABEL"===e(t).parent().get(0).tagName&&(e(t).parent().hasClass("ImageRadio")||e(t).parent().hasClass("ImageCheckbox"))&&e(t).parent().addClass(e.alopex.config.disabledClassName)},_removeDisabledStyle:function(t){e(t).removeClass(e.alopex.config.disabledClassName),(e(t).hasClass("Checkbox")||e(t).hasClass("Radio"))&&e(t).parent().get(0)&&"LABEL"===e(t).parent().get(0).tagName&&(e(t).parent().hasClass("ImageRadio")||e(t).parent().hasClass("ImageCheckbox"))&&e(t).parent().removeClass(e.alopex.config.disabledClassName)},_cancelEventHandler:function(e){return e.preventDefault(),e.stopPropagation(),!1},renderTo:function(){return null},markupIdentifier:"af-dynamic",_generateMarkup:function(t,a){var n;t.attributes[this.markupIdentifier]&&((n=t.cloneNode(!0)).innerHTML="",t.removeAttribute(this.markupIdentifier),e(a).wrap(n),a=a.parentNode);for(var i=0;i<t.children.length;i++){var r=t.children[i];if(r.attributes[this.markupIdentifier]){if(i>0){var o=r.cloneNode(!0);e(o).insertAfter(a.children[i-1])}else{if(1===t.children.length)break;o=r.cloneNode(!0);e(a).prepend(o)}r.removeAttribute(this.markupIdentifier)}}for(i=0;i<t.children.length;i++)this._generateMarkup(t.children[i],a.children[i]);return n||a}}}(jQuery),function(e){if(!e.alopex.util.regexp){var t=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(/\+/g," "))};e.extend(e.alopex.util,{isPlusInt:function(e){return null!=e&&void 0!=e&&""!=e&&Number(e)===e&&e%1==0&&e>-1},regexp:{number:/^[0-9]+$/,float:/\d+(\.\d+)?/gi,date:/(^\d{1,2}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{4}$)|(^\d{4}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{1,2}$)/,divider:/^\-|\/|\./},delayFunction:function(t,a){var n=e.makeArray(arguments).slice(2);return setTimeout(function(){return t.apply(null,n)},a)},isValid:function(e){return null!==e&&void 0!==e&&""!==e&&"undefined"!==e},parseBoolean:function(e){switch(String(e).toLowerCase()){case"true":case"1":case"yes":case"y":return!0;case"false":case"0":case"no":case"n":default:return!1}},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(t,a){e.alopex.util.hasClass(t,a)||(t.className+=" "+a)},removeClass:function(t,a){if(e.alopex.utilhasClass(t,a)){var n=new RegExp("(\\s|^)"+a+"(\\s|$)");t.className=t.className.replace(n," ")}},getWindowHeight:function(){return e(window).height()},getWindowWidth:function(){return e(window).width()},getDocumentHeight:function(){return e(document).height()},getDocumentWidth:function(){return e(document).width()},getPagePosition:function(e){var t={},a=0,n=0;if(e.offsetParent)for(n=e.offsetTop,a=e.offsetLeft;e=e.offsetParent;){if("fixed"==e.style.position&&"body"==e.tagName.toLowerCase()){n+=e.style.top?parseInt(e.style.top):0,a+=e.style.left?parseInt(e.style.left):0;break}n+=e.offsetTop,a+=e.offsetLeft}return t.top=n,t.left=a,t},getRelativePosition:function(e){var t={},a=0,n=0;if(e&&e.offsetParent)for(n=e.offsetTop,a=e.offsetLeft,e=e.offsetParent;e;)n+=e.offsetTop,a+=e.offsetLeft,e=e.offsetParent;return t.top=n,t.left=a,t},getScrolledPosition:function(e){var t={},a=0,n=0;if(e.offsetParent)for(n=e.offsetTop-e.scrollTop,a=e.offsetLeft-e.scrollLeft;e=e.offsetParent;)n+=e.offsetTop-e.scrollTop,a+=e.offsetLeft-e.scrollLeft;return t.top=n,t.left=a,t},getScrollbarWidth:function(){var t,a,n;return void 0===n&&(n=(a=(t=e('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children()).innerWidth()-a.height(99).innerWidth(),t.remove()),n},isStringType:function(e){return"[object String]"===Object.prototype.toString.call(e)},isNumberType:function(t){return e.alopex.util.regexp.number.test(t)},isDateType:function(t){return e.alopex.util.regexp.date.test(t)},formatDate:function(t){for(var a,n,i="ddmm",r=0;r<t.length;r++)if(a=t[r].match(e.alopex.util.regexp.divider),4===(n=t[r].split(a))[0].length&&(n.push(n[0]),n.shift(),t[r]=n.join("/")),parseInt(n[0],10)>12){i="mmdd";break}if("mmdd"===i)for(r=0;r<t.lengh;r++){a=t[r].match(e.alopex.util.regexp.divider);var o=(n=t[r].split(a))[0];n[0]=n[1],n[1]=o,t[r]=n.join("/")}return t},copyNode:function(t,a){void 0===a&&(a=t.tagName);for(var n=document.createElement(a),i=0;i<t.attributes.length;i++){var r=t.attributes[i];e(n).attr(r.name,r.value)}return n},insertSort:function(e,t,a,n,i){if(!e||!e.length)return e;if(e.length<2)return e;if(n=n||0,(i=i||e.length)-n<2)return e;var r,o,s=e.slice(n,i);for(l=1;l<s.length;l++){if(o=s[l],r=l,a)for(;r>0&&t(s[r-1],o)>0;)s[r]=s[r-1],r--;else for(;r>0&&t(s[r-1],o)<0;)s[r]=s[r-1],r--;s[r]=o}for(var l=0;l<s.length;l++)e[n+l]=s[l];return e},mergeSort:function e(t,a,n,i,r){if(!t||!t.length)return t;if(t.length<2)return t;i=i||0;var o=(r=r||t.length)-i;if(o<2)return t;var s=i+Math.floor(o/2),l=function(e,t,a,n){for(var i=new Array;e.length>0&&t.length>0;)a(e[0],t[0])<=0&&n?i.push(e.shift()):i.push(t.shift());for(;e.length>0;)i.push(e.shift());for(;t.length>0;)i.push(t.shift());return i}(e(t.slice(i,s),a,n),e(t.slice(s,r),a,n),a,n);return l.unshift(i,l.length),t.splice.apply(t,l),t},sort_default:function(e,t){return e>t?1:e<t?-1:0},sort_numeric:function(e,t){var a=parseFloat(e[0].replace(/[^0-9.-]/g,""));isNaN(a)&&(a=0);var n=parseFloat(t[0].replace(/[^0-9.-]/g,""));return isNaN(n)&&(n=0),a-n},sort_date:function(t,a){var n=e.alopex.util.getDate(t[0]),i=e.alopex.util.getDate(a[0]);return n>i?1:n===i?0:-1},getDate:function(e,t){var a,n,i,r;void 0===t&&(t="mmdd"),r=e.match(/\-|\/|\./);var o=e.split(r);return a=o[2],"ddmm"===t?(n=o[1],i=o[0]):(n=o[0],i=o[1]),new Date(a,n,i)},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},erase:function(){var t=[];return e(document).find(":hidden").each(function(){if(this.parentNode){switch(this.tagName.toLowerCase()){case"head":case"meta":case"link":case"script":case"option":case"style":return}t.push({node:this,parent:this.parentNode}),this.parentNode.removeChild(this)}}),t},restore:function(e){for(var t=0;t<e.length;t++)e[t].parent&&e[t].parent.appendChild(e[t].node)},getOptions:function(t){for(var a={},n=0;n<t.attributes.length;n++)if(0===t.attributes[n].name.indexOf("data-")){var i=t.attributes[n].name.replace("data-","").replace("-","");if("type"===i)continue;var r=t.attributes[n].value;a[i]=r}for(var n in a)"true"!==a[n]&&"false"!==a[n]||(a[n]=e.alopex.util.parseBoolean(a[n])),e.alopex.util.isNumberType(a[n])&&(a[n]=parseInt(a[n],10));return a},isConverted:function(t){return"true"===e(t).attr("data-converted")},addFloat:function(e,t){var a=(""+e).split("."),n=(""+t).split("."),i=0;return a[1]&&(i=a[1].length),n[1]&&n[1].length>i&&(i=n[1].length),0==(i=Math.pow(10,i))?e+t:parseFloat(Math.round(e*i+t*i))/i},arrayjoin:function(t,a){for(var n=e.extend([],t),i=0;i<a.length;i++){for(var r=!1,o=0;o<t.length;o++)if(t[i]==a[o]){r=!0;break}r||n.push(a[i])}return n},arrayremove:function(e,t){if(e instanceof Array)for(var a=0;a<e.length;a++)e[a]==t&&e.splice(a,1)},parseQuerystring:function(n){var i,r={};if(n)for("?"==n.substr(0,1)&&(n=n.substr(1));i=t.exec(n);){var o=a(i[1]),s=a(i[2]);void 0!==r[o]?(e.isArray(r[o])||(r[o]=[r[o]]),r[o].push(s)):r[o]=s}return r},getDateString:function(e,t){if(e instanceof Date){var a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=(n<10?"0":"")+n,i=(i<10?"0":"")+i,t.replace("yyyy",a).replace("MM",n).replace("dd",i)}},getOSName:function(){var e={"Windows NT 6.3":"Windows 8.1","Windows NT 6.2":"Windows 8","Windows NT 6.1":"Windows 7","Windows NT 6.0":"Windows Vista","Windows NT 5.2":"Windows Server 2003; Windows XP x64 Edition","Windows NT 5.1":"Windows XP","Windows NT 5.01":"Windows 2000, Service Pack 1 (SP1)","Windows NT 5.0":"Windows 2000","Windows NT 4.0":"Microsoft Windows NT 4.0","Windows 98; Win 9x 4.90":"Windows Millennium Edition (Windows Me)","Windows 98":"Windows 98","Windows 95":"Windows 95","Windows CE":"Windows CE","Open BSD":"OpenBSD","Sun OS":"SunOS",Linux:"Linux",x11:"Linux",Mac_PowerPC:"Mac OS",Macintosh:"Mac OS",QNX:"QNX",BeOS:"BeOS","OS/2":"OS/2",Search:"Search Bot",nuhk:"Search Bot",Googlebot:"Search Bot",Yammybot:"Search Bot",Openbot:"Search Bot",Slurp:"Search Bot",MSNBot:"Search Bot","Ask Jeeves/Teoma":"Search Bot",ia_archiver:"Search Bot"};for(var t in e)if(-1!=navigator.userAgent.indexOf(t))return e[t];return"Others"},getBrowserName:function(){var e,t,a,n=navigator.userAgent;return"ontouchstart"in document.documentElement||"ontouchstart"in window?window.browser="mobile":-1!=(a=n.indexOf("Opera"))?(e="Opera",t=n.substring(a+6),-1!=(a=n.indexOf("Version"))&&(t=n.substring(a+8))):-1!=(a=n.indexOf("Trident"))?(e="Microsoft Internet Explorer",t="11.0"+n.substring(a+12)):-1!=(a=n.indexOf("MSIE"))?(e="Microsoft Internet Explorer",t=n.substring(a+5)):-1!=(a=n.indexOf("Chrome"))?(e="Chrome",t=n.substring(a+7)):-1!=(a=n.indexOf("Safari"))?(e="Safari",t=n.substring(a+7),-1!=(a=n.indexOf("Version"))&&(t=n.substring(a+8))):-1!=(a=n.indexOf("Firefox"))?(e="Firefox",t=n.substring(a+8)):(nameOffset=n.lastIndexOf(" ")+1)<(a=n.lastIndexOf("/"))&&(e=n.substring(nameOffset,a),t=n.substring(a+1),e.toLowerCase()==e.toUpperCase()&&(e=navigator.appName)),e+" "+t},setValueOnObject:function(e,t,a){var n=t.split("."),i=e;if(n.length<1)return!1;for(var r=0;r<n.length-1;r++){var o=n[r];i[o]||(i[o]={}),i=i[o]}return null!=a&&void 0!=a&&(i[n[n.length-1]]=a),!0},getValueOnObject:function(e,t){if(""==t)return e;var a=t.split("."),n=e;if(!(a.length<1)){for(var i=0;i<a.length-1;i++){var r=a[i];if(!n[r])return;n=n[r]}return n[a[a.length-1]]}},getElementSelector:function(e){var t=e.tagName.toLowerCase();return e.id?t+="#"+e.id:(e.getAttribute("data-id")||e.setAttribute("data-id",this.generateRandomName()),t+='[data-id="'+e.getAttribute("data-id")+'"]'),e.className&&e.className.replace&&(t+="."+e.className.replace(/ /gi,".")),t},parseJsonWithValidation:function(e){try{return JSON.parse(e)}catch(t){return console.error("JSON.parse() error : "+e),!1}},stringifyJsonWithValidation:function(e){try{return JSON.stringify(e)}catch(t){return console.error("JSON.stringify() error"),console.error(e),!1}},isMobileOrTablet:function(){return void 0!==window.isMobileOrTablet?window.isMobileOrTablet:(window.isMobileOrTablet=!1,function(e){try{(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(window.isMobileOrTablet=!0)}catch(e){window.isMobileOrTablet=!1}}(navigator.userAgent||navigator.vendor||window.opera),window.isMobileOrTablet)},debounce:function(e,t,a,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,a||e.apply(r,o)},l=a&&!i;clearTimeout(i),"function"==typeof n&&n.apply(r,o)?s():i=setTimeout(s,t),l&&e.apply(r,o)}},fnKeyCode:{8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pausebreak",20:"capslock",21:"han/young",25:"chinese",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"win-left",92:"win-right",93:"function",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock"}}),e.fn.hasEventHandler=function(t,a){var n=e._data(window,"events");if(void 0!==n&&void 0!==n[t])for(var i=n[t],r=0;r<i.length;r++)if(i[r].handler===a)return!0;return!1}}}(jQuery),function(e){function t(t,a){if(0!=e(".af-dialog-mask:hidden").length&&e(".af-dialog-mask:hidden").remove(),0==e(document).find(".messagebox").length){var n="";n="object"==typeof a?a.msg:a;var i=e('<div id="dialog_messagebox" data-type="dialog" class="messagebox container"><div class="messageWrap clearfix"><div class="msg_icon '+t+'"></div><div class="msg_txt" id="text"></div></div><div class="msgBtnWrap"><button id="msgBtn" data-type="button"><span class="btn_icon"></span><span class="btn_txt">OK</span></button></div></div>').appendTo(document.body).convert().open({modal:!0});i.find("#text").html(n.replace("\n","<br>")),e("#msgBtn").on("click",function(e){i.close().remove()}).focus(),e("#dialog_messagebox").close(function(){e("#dialog_messagebox").remove(),a.ok&&a.ok()})}}e.extend(e.alopex,{info:function(e){return t("error",e)},error:function(e){t("error",e)},confirm:function(a){!function(a){if(0!=e(".af-dialog-mask:hidden").length&&e(".af-dialog-mask:hidden").remove(),0==e(document).find(".messagebox").length){var n,i='<div id="dialog_messagebox" data-type="dialog" class="messagebox container"><div class="messageWrap clearfix"><div class="msg_icon confirm"></div><div class="msg_txt" id="text"></div></div><div class="msgBtnWrap"><button id="msgBoxOk" class="btn_common black noicon"><span class="btn_icon"></span><span class="btn_txt">OK</span></button><button id="msgBoxCancel" class="btn_common black noicon"><span class="btn_icon"></span><span class="btn_txt">Cancel</span></button></div></div>';if(void 0!=a.id)$a.service("SKENS.CM.Biz.MsgMgmtBiz#GetMsgDetail",{MESSAGEID:a.id},function(r){var o;0!=r.recordSets.table1.nc_list.length?(n=r.recordSets.table1.nc_list[0].MESSAGEBODY,e(i).appendTo(document.body).convert().open({modal:!0}).find("#text").html(n.replace("\n","<br>")),a.cancel&&(o=a.cancel),e("#msgBoxOk").on("click",function(t){a.ok?(e("#dialog_messagebox").close().remove(),a.ok()):e("#dialog_messagebox").close().remove()}).focus(),e("#msgBoxCancel").on("click",function(){e("#dialog_messagebox").close().remove()}),e("#dialog_messagebox").close(function(){e("#dialog_messagebox").remove(),o&&o()})):t("error","잘못된 Message ID를 입력했습니다.")});else if(void 0!=a.msg){var r;n=a.msg,e(i).appendTo(document.body).convert().open({modal:!0}).find("#text").html(n.replace("\n","<br>")),a.cancel&&(r=a.cancel),e("#msgBoxOk").on("click",function(t){a.ok?(e("#dialog_messagebox").close(function(){a.ok()}),e("#dialog_messagebox").close().remove()):e("#dialog_messagebox").close().remove()}).focus(),e("#msgBoxCancel").on("click",function(){e("#dialog_messagebox").close().remove()}),e("#dialog_messagebox").close(function(){e("#dialog_messagebox").remove(),r&&r()})}else t("error","잘못된 Parameter 입니다.")}}(a)}})}(jQuery),function(e){e.alopex.widget.accordion=e.alopex.inherit(e.alopex.widget.object,{widgetName:"accordion",defaultClassName:"af-accordion Accordion",setters:["accordion","expandAll","collapseAll","setDataSource","expand","collapse","expandByMenuId","collapseByMenuId"],getters:[],eventHandlers:{},init:function(t,a){var n=e(t),i=this;e.extend(t,this.options,a),n.find("li").each(function(){for(var t=0;t<this.children.length;t++)if("a"===this.children[t].tagName.toLowerCase()&&this.children.length>1){e(this).addClass("af-expandable Expandable");break}}),n.find("li > a").each(function(){i.addHoverHighlight(this),i.addPressHighlight(this),e(this).next().addClass("af-accordion-sub")}),n.find(".af-accordion-sub").each(function(){e(this).css("display","none"),e(this).parent("li.af-expandable.Expandable").removeClass("af-accordion-expand Expanded")}),n.find("li > a").on("click",e.alopex.widget.accordion._clickHandler)},_clickHandler:function(t){var a=e(t).closest(".Accordion"),n=e(t.target),i=n.next(".af-accordion-sub"),r=n.parent("li.af-expandable.Expandable");r.is("li.af-expandable.Expandable")&&(r.toggleClass("af-accordion-expand Expanded"),r.hasClass("af-accordion-expand Expanded")?(i.css("display",""),a.trigger("open",[n[0]])):(i.css("display","none"),a.trigger("close",[n[0]])))},_changeStatus:function(t,a,n){var i=e(t),r=e(a),o=r.prev("a"),s=o.parent("li.af-expandable.Expandable");if(n){for(;r.length;)r.css("display",""),s.addClass("af-accordion-expand Expanded"),r=(s=r.parent("li.af-expandable.Expandable")).parent("ul.af-accordion-sub");s.addClass("af-accordion-expand Expanded"),i.trigger("open",[o[0]])}else r.css("display","none"),i.trigger("close",[o[0]]),s.removeClass("af-accordion-expand Expanded"),r.find("li.af-expandable.Expandable").removeClass("af-accordion-expand Expanded"),r.find("ul.af-accordion-sub").css("display","none")},expand:function(t,a){e(t).find(".af-accordion-sub").eq(a).each(function(){e.alopex.widget.accordion._changeStatus(t,this,!0)})},expandAll:function(t){e(t).find(".af-accordion-sub").each(function(){e.alopex.widget.accordion._changeStatus(t,this,!0)})},collapse:function(t,a){e(t).find(".af-accordion-sub").eq(a).each(function(){e.alopex.widget.accordion._changeStatus(t,this,!1)})},collapseAll:function(t){e(t).find(".af-accordion-sub").each(function(){e.alopex.widget.accordion._changeStatus(t,this,!1)})},setDataSource:function(t,a){e(t).empty(),this._createNode(t,a),t.phase=void 0,e(t).accordion()},expandByMenuId:function(t,a){var n=e(t).find("[data-menuid="+a+"]");n.children(".af-accordion-sub").length?e.alopex.widget.accordion._changeStatus(t,n.children(".af-accordion-sub"),!0):n.parent(".af-accordion-sub").length&&e.alopex.widget.accordion._changeStatus(t,n.parent(".af-accordion-sub"),!0)},collapseByMenuId:function(t,a){var n=e(t).find("[data-menuid="+a+"]");n.children(".af-accordion-sub").length&&e.alopex.widget.accordion._changeStatus(t,n.children(".af-accordion-sub"),!1)},_createNode:function(t,a){for(var n=0;n<a.length;n++){var i=a[n],r=e("<li></li>").appendTo(t)[0];e.alopex.util.isValid(i.id)&&e(r).attr("data-id",i.id);var o=e("<a></a>").appendTo(r)[0];if(e.alopex.util.isValid(i.linkUrl)&&e(o).attr("href",i.linkUrl),e.alopex.util.isValid(i.iconUrl)&&e("<img/>").attr("src",i.iconUrl).appendTo(r),e(o).text(i.text),e.alopex.util.isValid(i.items)){var s=e("<ul></ul>").appendTo(r)[0];this._createNode(s,i.items)}}},refresh:function(t){var a=e(t);a.find("li").each(function(){for(var t=this,a=0;a<t.children.length;a++){if("a"===t.children[a].tagName.toLowerCase()&&t.children.length>1){e(t).addClass("af-expandable Expandable");break}e(t).removeClass("af-expandable").removeClass("Expandable").removeClass("af-accordion-expand").removeClass("Expanded")}}),a.find("li > a").each(function(){e.alopex.widget.object.removeHoverHighlight(this),e.alopex.widget.object.removePressHighlight(this),e(this).off("click",e.alopex.widget.accordion._clickHandler),e.alopex.widget.object.addHoverHighlight(this),e.alopex.widget.object.addPressHighlight(this),e(this).on("click",e.alopex.widget.accordion._clickHandler);var t=e(this).next();t.hasClass("af-accordion-sub")||(t.addClass("af-accordion-sub"),t.css("display","none"))})}})}(jQuery),function(e){e.alopex.widget.basebutton=e.alopex.inherit(e.alopex.widget.object,{widgetName:"basebutton",defaultClassName:"af-basebutton",setters:["basebutton"],getters:[],properties:{},eventHandlers:{cancel:{event:"dragstart selectstart",handler:"_cancelEventHandler"}},event:function(e){this.addHoverHighlight(e),this.addPressHighlight(e)},init:function(e){"a"===e.tagName.toLowerCase()&&e.setAttribute("tabindex","0"),e.getAttribute("type")||e.setAttribute("type","button")}})}(jQuery),$.alopex.widget.baseinput=$.alopex.inherit($.alopex.widget.object,{widgetName:"baseinput",eventHandlers:{},event:function(e){this.addHoverHighlight(e)},init:function(e){},properties:{}}),function(e){e.alopex.widget.carousel=e.alopex.inherit(e.alopex.widget.object,{widgetName:"carousel",defaultClassName:"af-carousel Carousel",setters:["carousel","nextSlide","prevSlide","setIndex","stopAutoSlide","startAutoSlide","setAutoSlideDuration","setSwipe"],getters:[],eventHandlers:{},properties:{width:0,currentpage:1,totalpage:0,position:0,maxPosition:0,pages:null,prevButton:null,nextButton:null,paging:null,playControlButton:null,playButton:null,pauseButton:null,slidable:null,animationDuration:400,autoSlidemode:!1,autoSlideDuration:5e3,swipemode:!0},setEnabled:null,init:function(t,a){var n=e(t);e.alopex.widget.object;if(n.css({overflow:"hidden",position:"relative"}),e.extend(t,e.alopex.widget.carousel.properties,a),t.pages=n.find('[data-role="page"], .Page'),t.pagingHeight=50,t.pageHeight=t.pages[0].offsetHeight>0?t.pages[0].offsetHeight:t.offsetHeight-t.pagingHeight,t.width=t.offsetWidth,t.totalpage=t.pages.length,t.playControlButton=n.attr("data-playControlButton"),t.prevButton=n.find('[data-role="prev"]').addClass("prev"),t.nextButton=n.find('[data-role="next"]').addClass("next"),0==t.prevButton.length&&(t.prevButton=n.find(".Prev")),0==t.nextButton.length&&(t.nextButton=n.find(".Next")),t.paging=n.find('[data-role="pagination"], .Paging'),"true"===t.playControlButton){var i=document.createElement("div");e(i).attr("class","Display-inblock"),e(i).attr("style","margin-top: -2px;");var r=document.createElement("span");e(r).attr("class","Icon Play"),i.appendChild(r);var o=document.createElement("span");e(o).attr("class","Icon Pause"),i.appendChild(o),t.paging.append(i),t.playButton=n.find(".Paging>div .Play"),t.pauseButton=n.find(".Paging>div .Pause")}if(t.maxPosition=-1*t.width*(t.totalpage-1),t.paging.attr({"data-type":"pagination","data-generatelink":"mobile","data-maxpage":t.pages.length,"data-totalpage":t.pages.length}).pagination(),t.slidable=t.querySelector(".Scroller"),t.slidable||(t.slidable=document.createElement("div")),t.slidable.element=t,t.appendChild(t.slidable),e(t.slidable).css({width:t.width*t.pages.length+"px",transform:"translate3d(0px, 0px,0px)","-ms-transform":"translateZtranslate3d(0px, 0px,0px)",padding:"0"}),e.alopex.util.isValid(t.pages)){t.pages.css({width:t.width+"px",position:"relative",float:"left"}).each(function(e){this.index=e});for(var s=0;s<t.pages.length;s++)t.slidable.appendChild(t.pages[s])}"true"===e(t).attr("data-autoSlidemode")&&(t.autoSlidemode=!0,e(t).attr("data-autoSlideDuration")>0&&(t.autoSlideDuration=e(t).attr("data-autoSlideDuration")),this._evt_autoSlide(t,!0))},event:function(t,a){var n=e.alopex.widget.carousel;t.paging.on("pagechange",n._evt_pagechange),t.prevButton.on("click",n._evt_prev_btn),t.nextButton.on("click",n._evt_next_btn),"true"===t.playControlButton&&(t.playButton.on("click",n._evt_play_btn),t.pauseButton.on("click",n._evt_pause_btn)),t.swipemode&&(e(t.slidable).on("pressed",n._evt_pressed),"mobile"==window.browser?e(t.slidable).on("touchmove",n._evt_move):(e(t.slidable).on("swipemove",n._evt_swipemove),this._addSwipeEvent(t))),e(window).on("resize",{object:t},this._evt_resize)},_evt_resize:function(t){el=t.data.object,el.width=el.offsetWidth,e(el.slidable).css("width",el.width*el.pages.length+"px"),el.pages.css("width",el.width+"px").css("position","relative"),el.position=-1*(el.currentpage-1)*el.width,e.alopex.widget.carousel._slide(el,el.position)},_addSwipeEvent:function(t,a){var n="on";a&&(n="one");var i=this._evt_swipe;t.buttons&&(i=e.alopex.widget.tabs._evt_swipe),e(t.slidable)[n]("swipecancel",this._evt_swipecancel),e(t.slidable)[n]("swipe",{distanceX:60},i)},_removeSwipeEvent:function(t){e(t.slidable).off("swipemove",this._evt_swipemove),e(t.slidable).off("swipecancel",this._evt_swipecancel),e(t.slidable).off("swipe",{distanceX:60},this._evt_swipe)},_slide:function(t,a,n){if(e.alopex.widget.carousel.transitionSupport)e(t.slidable).css({transition:"all "+n+"ms ease-in-out","-ms-transition":"all "+n+"ms ease-in-out"}),e(t.slidable).css("transform","translate("+a+"px,0)"),e(t.slidable).css("transform","translate3d("+a+"px,0,0)"),setTimeout(function(){e(t.slidable).css({transition:"all 0 ms ease-in-out","-ms-transition":"all 0 ms ease-in-out"})},n);else{e(t.slidable).css({position:"absolute"});var i=e(t).css("height");e(t.slidable).animate({left:a+"px"},n),void 0!=i&&e(t).css("height",i)}},_evt_pagechange:function(t,a){var n=e(t.currentTarget).parent('[data-type="carousel"]')[0],i=n.currentpage-a;n.position=n.position+i*n.width,n.currentpage=a,e.alopex.widget.carousel._slide(n,n.position,300)},_evt_prev_btn:function(t){var a=e(t.currentTarget).parent('[data-type="carousel"]')[0];e(a).prevSlide()},_evt_next_btn:function(t){var a=e(t.currentTarget).parent('[data-type="carousel"]')[0];e(a).nextSlide()},_evt_play_btn:function(t){var a=e(t.currentTarget).parent().parent().parent();e(a).nextSlide(),e(a).startAutoSlide(a)},_evt_pause_btn:function(t){var a=e(t.currentTarget).parent().parent().parent();e(a).stopAutoSlide(a)},_evt_move:function(t){var a,n=t.currentTarget.element;if(!n.pressed)return!1;var i=t.touches||t.originalEvent.touches;a=i&&i.length>0?{x:(i=i[0]).clientX?i.clientX:0,y:i.clientY?i.clientY:0}:{x:t.clientX,y:t.clientY},"vertical"==n.mode?__ALOG("==== 현재 스크롤 ====== "):"horizontal"==n.mode?(t.preventDefault(),__ALOG("==== 현재 스와이프  ====== "),distanceX=a.x-n.presspoint.x,Math.abs(distanceX)>n.width&&(distanceX=distanceX/distanceX*n.width),t.preventDefault(),e.alopex.widget.carousel._slide(n,n.position+distanceX,0)):(e.alopex.widget.carousel._removeSwipeEvent(n),Math.abs(n.presspoint.y-a.y)>10?(n.mode="vertical",__ALOG("==== 버티컬 모드로 진입 ====== ")):(__ALOG("==== 스와이프  모드로 진입 ====== "),n.mode="horizontal",e.alopex.widget.carousel._addSwipeEvent(n,!0)))},_evt_pressed:function(t,a){var n=e(t.currentTarget).parent('[data-type="carousel"]')[0];if(n.mode=null,n.pressed=!0,e(n.slidable).css({transition:"all 0s ease-in-out","-ms-transition":"all 0s ease-in-out"}),"mobile"==window.browser){var i=t.touches||t.originalEvent.touches||t.originalEvent.originalEvent.touches;i&&i.length>0&&(i=i[0],n.presspoint={x:i.clientX?i.clientX:0,y:i.clientY?i.clientY:0})}else n.presspoint={x:t.clientX,y:t.clientY}},_evt_swipemove:function(t,a){var n=e(t.currentTarget).parent('[data-type="carousel"]')[0];n.pressed&&(Math.abs(a.distanceX)>n.width&&(a.distanceX=a.distanceX/a.distanceX*n.width),t.preventDefault(),e.alopex.widget.carousel._slide(n,n.position+a.distanceX,0))},_evt_swipe:function(t,a){var n=e(t.currentTarget).parent('[data-type="carousel"]')[0],i=(n.width-Math.abs(a.distanceX))/a.speed*1e3;i>500&&(i=500),a.distanceX<0?e(n).nextSlide({animationDuration:i}):e(n).prevSlide({animationDuration:i}),n.press=!1,e(n).trigger("swipechange",[n.currentpage-1])},_evt_swipecancel:function(t,a){var n=e(t.currentTarget).parent('[data-type="carousel"]')[0];e.alopex.widget.carousel._slide(n,n.position,200),n.pressed=!1},_evt_autoSlide:function(t,a,n){n=n||t.autoSlideDuration;a?(clearInterval(t.autoSlideTime),t.autoSlideTime=setInterval(function(){t.currentpage<t.totalpage?e(t).nextSlide():t.currentpage==t.totalpage&&e(t).setIndex(0)},n)):clearInterval(t.autoSlideTime)},stopAutoSlide:function(e){this._evt_autoSlide(e,!1)},startAutoSlide:function(e){this._evt_autoSlide(e,!0)},setAutoSlideDuration:function(e,t){e.autoSlideDuration=t,this._evt_autoSlide(e,!0,t)},nextSlide:function(t,a){var n=a&&a.animationDuration?a.animationDuration:t.animationDuration;t.currentpage<t.totalpage&&(t.position-=t.width,t.currentpage++,t.paging.setSelectedPage(t.currentpage,!0)),e.alopex.widget.carousel._slide(t,t.position,n)},prevSlide:function(t,a){var n=a&&a.animationDuration?a.animationDuration:t.animationDuration;t.currentpage>1&&(t.position+=t.width,t.currentpage--,t.paging.setSelectedPage(t.currentpage,!0)),e.alopex.widget.carousel._slide(t,t.position,n)},setIndex:function(t,a,n){if(!(a<0||a>=t.pages.length)){var i=n&&void 0!=n.animationDuration?n.animationDuration:t.animationDuration;t.position=t.width*a*-1,t.currentpage=a+1,t.paging.setSelectedPage(t.currentpage,!0),e.alopex.widget.carousel._slide(t,t.position,i)}},transitionSupport:-1===navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("MSIE 10"),setSwipe:function(t,a){var n=e.alopex.widget.carousel;t.swipemode=e.alopex.util.parseBoolean(a),1==t.swipemode?(this._removeSwipeEvent(t),e(t.slidable).on("pressed",n._evt_pressed),"mobile"==window.browser?e(t.slidable).on("touchmove",n._evt_move):(e(t.slidable).on("swipemove",n._evt_swipemove),this._addSwipeEvent(t))):0==t.swipemode&&this._removeSwipeEvent(t)}})}(jQuery),function(e){e.alopex.widget.button=e.alopex.inherit(e.alopex.widget.basebutton,{widgetName:"button",defaultClassName:"af-button Button",setters:["button"],getters:[],init:function(t){var a=e(t);"toggle"==a.attr("data-role")&&a.attr("data-type","togglebutton").togglebutton()}})}(jQuery),function(e){e.alopex.widget.checkbox=e.alopex.inherit(e.alopex.widget.object,{widgetName:"checkbox",defaultClassName:"af-checkbox Checkbox",defaultTextClassName:"af-checkbox-text",defaultWrapClassName:"af-wrapcheckbox",defaultWrapSpanClassName:"af-wrapcheckbox-span",getters:["getValues","getTexts","getCheckedLength"],setters:["checkbox","setCheckAll","setChecked","setValues","toggle"],properties:{wrap:!1},init:function(t,a){var n=e(t);t.options=e.extend(!0,{},this.properties,a);try{n.attr("type","checkbox")}catch(e){}(t.options.wrap||e.alopex.util.parseBoolean(t.alopexoptions.wrap))&&(t.className?(-1!==t.className.indexOf(this.defaultClassName)&&n.addClass(this.defaultWrapClassName),n.after('<span class="'+t.className+'-span"></span>')):n.after('<span class="'+this.defaultWrapSpanClassName+'"></span>')),n.on("change",function(t){t.currentTarget.checked?(e(t.currentTarget).attr("checked","checked"),e(t.currentTarget).parent("label").addClass("Checked")):(e(t.currentTarget).removeAttr("checked"),e(t.currentTarget).parent("label").removeClass("Checked"))}),(t.checked||"checked"==t.getAttribute("checked"))&&(e(t).parent().addClass("Checked"),e(t).prop("checked",!0))},style:function(t){t.id?e('label[for="'+t.id+'"]').addClass(this.defaultTextClassName):e(t).parent("label").addClass(this.defaultTextClassName)},properties:{quickResponse:!1},setQuickResonse:function(e,t){},setCheckAll:function(t,a,n){e.alopex.util.isValid(a)||(a=!0),e.alopex.util.isValid(n)||(n=!0);var i=e("input[name="+t.name+"]");i.prop("checked",a),i.parent("label").addClass("Checked"),n&&i.trigger("change")},setChecked:function(t,a,n){e.alopex.util.isValid(a)||(a=!0),e.alopex.util.isValid(n)||(n=!0),"INPUT"===t.tagName&&(e(t).prop("checked",a),e(t).parent("label").addClass("Checked")),n&&e(t).trigger("change")},getValues:function(t){for(var a=[],n=e("input[name="+t.name+"]:checked"),i=0;i<n.length;i++){var r=n[i];a.push(e(r).val())}return a},setValues:function(t,a,n){e.alopex.util.isValid(n)||(n=!0);for(var i=e("input[name="+t.name+"]").prop("checked",!1),r=0;r<i.length;r++)for(var o=i.get(r),s=0;s<a.length;s++)o.value===a[s]&&(e(o).prop("checked",!0),a.splice(s,1));n&&i.trigger("change")},getTexts:function(t){for(var a=[],n=e("input[name="+t.name+"]:checked"),i=0;i<n.length;i++){var r=n[i],o=e(r).attr("id"),s=e(document.body).find('label[for="'+o+'"]');0==s.length&&(s=e(r).parent("label")),a.push(s.text())}return a},getCheckedLength:function(t){return e("input[name="+t.name+"]:checked").length},toggle:function(t,a){e.alopex.util.isValid(a)||(a=!0);for(var n=e("input[name="+t.name+"]"),i=0;i<n.length;i++){var r=n.get(i);e(r).prop("checked")?e(r).prop("checked",!1):e(r).prop("checked",!0)}a&&n.trigger("change")}})}(jQuery),function(e){e.alopex.widget.autocomplete=e.alopex.inherit(e.alopex.widget.object,{widgetName:"autocomplete",setters:["autocomplete","setOptions","setEnabled","select","setCustomFilter","clear","refreshFilter"],getters:["getSelectedData"],properties:{textinput:null,dropdown:null,noresultstr:"No Results",lastKeyword:"",req:{before:void 0,useServiceId:!1},url:null,method:"GET",datatype:"json",paramname:null,source:void 0,minlength:0,fitwidth:!0,maxheight:"",select:null,selectedDataDefault:void 0,selected:void 0,maxresult:100,resetbutton:!1,customfilter:null,enterselectfirst:!1,initdata:!1},init:function(t,a){if(e.extend(t,this.properties,a),0===e(t).find("input").length&&e(t).append('<input class="Textinput">'),t.textinput=e(t).find("input").first().attr("class","Textinput")[0],$a.convert(t.textinput),e(t).is("[data-dynamic-dropdown]")?(t.dropdown=null,t.dropdown=e.alopex.widget.autocomplete._makeDropdown(t)):0===e(t).find("ul").length&&(e(t).append('<ul class="Dropdown"></ul>'),t.dropdown=e(t).find("ul").first().attr("class","Dropdown")[0]),$a.convert(t.dropdown),t.resetbutton&&e.alopex.widget.autocomplete._resetButtonHandler(t),t.openbutton&&e.alopex.widget.autocomplete._openButtonHandler(t),t.enterselectfirst&&e(t.textinput).on("keydown.selectFirst",e.alopex.widget.autocomplete._selectFirstHandler),t.fitwidth&&e(t.dropdown).width(e(t.textinput).outerWidth()-2*parseInt(e(t.textinput).css("border-left-width"))),e(t.dropdown).css("minWidth",e(t.textinput).outerWidth()),e(t.dropdown).css("maxHeight",t.maxheight),e(t.dropdown).css("overflow-y","auto"),e(t.textinput).on("keyup.autocomplete",e.alopex.widget.autocomplete._keyupHandler),e(t.dropdown).addHandler(e.alopex.widget.autocomplete._selectHandler),e.alopex.util.isValid(t.source)&&0==t.minlength)t.source=JSON.parse(t.source),e.alopex.widget.autocomplete._filterSource(t,e(t.textinput).val());else if(t.url&&t.initdata){var n={url:t.url,method:t.method,dataType:t.datatype,data:{}};e.extend(n,t.req),t.paramname?n.data[t.paramname]=t.textinput.value:n.data=t.textinput.value,n.success=function(a){a.length>t.maxresult&&(a.length=t.maxresult),e.alopex.widget.dropdown.setDataSource(t.dropdown,a),e.alopex.widget.autocomplete._noResultHandler(t),e(t.dropdown).close()},$a.request(null,n)}this.setEnabled(t,t.enabled);var i=e.alopex.widget.autocomplete._hasPercentageWidthParent(t);!1!==i&&e(window).on("resize",{object:t,width:i},e.alopex.widget.autocomplete._resizeHandler)},_hasPercentageWidthParent:function(t){var a=e(t),n=null,i="temp_autocomplete_wrap",r=document.getElementById(i);r?n=a.clone().appendTo(wrap):(n=a.clone().appendTo("body").wrap('<div id="'+i+'" style="display: none"></div>'),r=document.getElementById(i));var o=n.css("width");return n.remove(),r.parentElement.removeChild(r),!!($a.util.isValid(o)&&o.toString().indexOf("%")>=0)&&o.toString()},_resizeHandler:function(t){var a=t.data.object,n=t.data.width;if("DIV"===a.tagName&&a.className.indexOf("Autocomplete")>=0){var i=e(a);i.is(":visible")&&(a.style.width=n,e(a.textinput).css("width",i.css("width")))}},_resetButtonHandler:function(t){var a=$a.util.getBrowserName();if(-1!=a.indexOf("Microsoft Internet Explorer 9")||-1!=a.indexOf("Chrome")){var n=e(t.textinput).outerWidth();e(t.textinput).css("padding-right","30px"),e(t.textinput).outerWidth(n)}e(t.textinput).next().hasClass("Clear")?t.resetbuttonEl=e(t.textinput).next():t.resetbuttonEl=e('<div class="Clear">x</div>').insertAfter(t.textinput),t.resetbuttonEl[0].element=t,t.resetbuttonEl.on("click.reset",e.alopex.widget.autocomplete._resetHandler)},_resetHandler:function(t){var a=t.currentTarget;e(a.element).is(".af-disabled Disabled")||(e.alopex.widget.autocomplete.clear(a.element),a.element.selected=void 0,t.preventDefault(),t.stopPropagation())},_openButtonHandler:function(t){var a=$a.util.getBrowserName();if(-1!=a.indexOf("Microsoft Internet Explorer 9")||-1!=a.indexOf("Chrome")){var n=e(t).outerWidth();e(t.textinput).css("padding-right","30px"),e(t.textinput).outerWidth(n)}e(t).find(".Opener").length?t.openbuttonEl=e(t).find(".Opener"):t.openbuttonEl=e('<div class="Opener"></div>').insertAfter(t.textinput),t.openbuttonEl[0].element=t,t.openbuttonEl.off("click.opener",e.alopex.widget.autocomplete._openerHandler),t.openbuttonEl.on("click.opener",e.alopex.widget.autocomplete._openerHandler)},_openerHandler:function(t){var a=t.currentTarget.parentElement;if(!a.dropdown&&e(a).is("[data-dynamic-dropdown]"))return t.currentTarget=a.textinput,void e(a.textinput).trigger("click.autocomplete");e(a.dropdown).toggle()},_selectHandler:function(t){var a,n=e(t.currentTarget).parent(".Dropdown")[0];(a=e(n).attr("data-base")?e(e(n).attr("data-base")).parent(".Autocomplete")[0]:t.currentTarget.parentElement.parentElement).lastKeyword=t.currentTarget.innerText,a.selected=t.currentTarget.parentElement.userInputDataSource[e(n).find("li").index(t.currentTarget)],"empty"!=e(t.currentTarget).attr("data-role")&&e(a.textinput).val(t.currentTarget.innerText),"function"==typeof a.select&&a.select(t,a.selected)},setOptions:function(t,a){a.before&&"function"==typeof a.before&&(t.req.before=a.before,delete a.before),e.extend(t,a),t.dropdown&&e.alopex.util.isValid(a.source)&&e.alopex.widget.dropdown.setDataSource(t.dropdown,a.source),a.enterselectfirst?(e(t.textinput).off("keydown.selectFirst"),e(t.textinput).on("keydown.selectFirst",e.alopex.widget.autocomplete._selectFirstHandler)):!1===a.enterselectfirst&&e(t.textinput).off("keydown.selectFirst")},refreshFilter:function(t){var a="closed";t.dropdown&&(a=t.dropdown.curstate),t.lastKeyword="",e.alopex.widget.autocomplete._keyupHandler({currentTarget:t.textinput,keyCode:65}),t.dropdown&&"closed"===a&&e(t.dropdown).close()},_keyupHandler:function(t){var a=t.currentTarget,n=e(a).val(),i=a.parentElement,r={data:{}};if(r.el=i,(40!==t.keyCode&&38!=t.keyCode&&13!=t.keyCode||40==t.keyCode&&e(i).data("dynamic-dropdown")&&!i.dropdown)&&(""!=n||!i.url||!1!==i.initdata))if(13!==t.keyCode&&!i.dropdown&&e(i).attr("data-dynamic-dropdown")&&(i.dropdown=e.alopex.widget.autocomplete._makeDropdown(i)),13!==t.keyCode&&i.lastKeyword!=n||e(i).data("dynamic-dropdown"))i.initdata=!0,i.lastKeyword=n,i.minlength<=n.length?i.url?(e.extend(r,i.req),r.url=i.url,i.paramname?r.data[i.paramname]=n:r.data=n,r.method=i.method,r.dataType=i.datatype,r.success=function(t){t.length>this.el.maxresult&&(t.length=this.el.maxresult),e.alopex.widget.dropdown.setDataSource(this.el.dropdown,t),e.alopex.widget.autocomplete._noResultHandler(this.el),e(this.el.dropdown).open()},$a.request(null,r)):"object"!=typeof i.source&&"string"!=typeof i.source||("string"==typeof i.source&&(i.source=JSON.parse(i.source)),e.alopex.widget.autocomplete._filterSource(i,n),e(a.dropdown).open()):a.dropdown&&(a.dropdown.userInputDataSource=null,e(a.dropdown).close());else{if(13===t.keyCode||i.lastKeyword!=n||!a.dropdown.userInputDataSource)return;e(a.dropdown).open()}},_filterSource:function(t,a){var n,i=t.dropdown;n=t.customfilter&&"function"==typeof t.customfilter?t.customfilter(t,t.source,a):e.alopex.widget.autocomplete._defaultFilter(t,t.source,a),e.alopex.widget.dropdown.setDataSource(i,n),e.alopex.widget.autocomplete._noResultHandler(t)},_generateReg:function(t,a){if(a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e.alopex.util.isValid(t)){var n=t.replace(/ /g,"").split("|"),i="";return-1!==n.indexOf("ignoreWhitespace")&&(a=a.replace(/ /g,"")),-1===n.indexOf("prefix")&&-1===n.indexOf("equal")||(i+="^"),i+=a,-1===n.indexOf("suffix")&&-1===n.indexOf("equal")||(i+="$"),-1!==n.indexOf("caseSensitive")?new RegExp(i):new RegExp(i,"i")}return new RegExp(a,"i")},_defaultFilter:function(t,a,n){var i=e.alopex.widget.autocomplete._generateReg(t.filter,n),r=[];if(""==n)return t.source;for(var o=0;o<a.length;o++){var s=a[o];if(void 0!==s.text){if(0==i.test(s.text))continue}else{if("string"!=typeof s)continue;if(0==i.test(s))continue}r.push(s)}return r.length>t.maxresult&&(r.length=t.maxresult),r},setCustomFilter:function(t,a){"function"==typeof a?t.customfilter=a:0==e.alopex.util.parseBoolean(a)&&(t.customfilter=null)},setEnabled:function(t,a){e(t.textinput).setEnabled(a),a?(t.dropdown&&(e(t.textinput).off(t.dropdown.opentrigger,e.alopex.widget.dropdown._toggle),e(t.textinput).on(t.dropdown.opentrigger,e.alopex.widget.dropdown._toggle),e(t.dropdown).setEnabled(a)),t.openbuttonEl?(e(t.openbuttonEl).off("click.opener",e.alopex.widget.autocomplete._openerHandler),e(t.openbuttonEl).on("click.opener",e.alopex.widget.autocomplete._openerHandler)):t.resetbuttonEl&&(e(t.resetbuttonEl).off("click.reset",e.alopex.widget.autocomplete._resetHandler),e(t.resetbuttonEl).on("click.reset",e.alopex.widget.autocomplete._resetHandler))):(t.dropdown&&(e(t.textinput).off(t.dropdown.opentrigger,e.alopex.widget.dropdown._toggle),e(t.dropdown).setEnabled(a)),t.openbuttonEl?e(t.openbuttonEl).off("click.opener",e.alopex.widget.autocomplete._openerHandler):t.resetbuttonEl&&e(t.resetbuttonEl).off("click.reset",e.alopex.widget.autocomplete._resetHandler))},_setDataSource:function(t,a){switch(typeof a){case"string":$el.html(a);break;case"object":e.alopex.widget.autocomplete._htmlGenerator(t,a)}e(t).refresh(),t.userInputDataSource=a},_noResultHandler:function(t){0===e(t.dropdown).find("li").length&&e(t.dropdown).append('<li class="af-disabled Disabled" data-role="empty">'+t.noresultstr+"</li>")},_htmlGenerator:function(t,a){var n;e(t).html("");for(var i=0;i<a.length;i++)n=document.createElement("li"),void 0!==a[i].id&&(n.id=a[i].id),void 0!==a[i].text?n.innerText=a[i].text:void 0!==a[i].value?n.innerText=a[i].value:n.innerText=a[i],n.data=a[i],e(t).append(n)},getSelectedData:function(t){return e.alopex.util.isValid(t.selected)&&t.selected.text===e(t.textinput).val()?t.selected:t.selectedDataDefault},clear:function(t){if(e(t.textinput).val(""),e.alopex.util.isValid(t.source)&&t.dropdown){var a={currentTarget:t.textinput,keyCode:65};e.alopex.widget.autocomplete._keyupHandler(a),e(t.dropdown).close()}else e.alopex.util.isValid(t.url)&&t.dropdown&&(e(t.dropdown).html(""),t.dropdown.userInputDataSource=null,e(t.dropdown).close());t.lastKeyword=""},_select:function(t,a){e(t.dropdown).select(a)},select:function(t,a){switch(e(t).is("[data-dynamic-dropdown]")&&(t.dropdown=null,t.dropdown=e.alopex.widget.autocomplete._makeDropdown(t),e.alopex.widget.autocomplete._filterSource(t,e(t).find("input").val())),typeof a){case"number":e(t.dropdown).select(a);break;case"string":var n=e(t.dropdown).find("li>a").filter(function(){return e(this).text()===a});if(n&&0!==n.length){n[0].click();var i=n.parent("li.af-menuitem");0!==i.length&&e.alopex.widget.dropdown._focus(t,i[0])}break;case"object":e(t.dropdown).select(a)}},_makeDropdown:function(t){e(t.textinput).off("click"),e(t.textinput).off("click.autocomplete");var a="Alopex_base_"+parseInt(1e4*Math.random());t.textinput.id=a;var n=e("<ul class='Dropdown' data-base='#"+a+"'><li></li></ul>")[0];return"string"==typeof t.dynamicdropdown&&e(t.dynamicdropdown)?e(n).appendTo(e(t.dynamicdropdown)):e(n).appendTo(document.body),$a.convert(n),t.dropdown=n,t.dropdown.userInputDataSource=null,t.fitwidth&&e(t.dropdown).width(e(t.textinput).outerWidth()-2*parseInt(e(t.textinput).css("border-left-width"))),e(n).css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","word-wrap":"normal"}),e(n).addHandler(e.alopex.widget.autocomplete._selectHandler),e(n).on("close.dropdown",e.alopex.widget.autocomplete._removeDropdown),e(t.dropdown).css("minWidth",e(t.textinput).outerWidth()),e(t.dropdown).css("maxHeight",t.maxheight),e(t.dropdown).css("overflow-y","auto"),n},_removeDropdown:function(t){var a=t.currentTarget;e(a.base).removeAttr("data-base"),e(a.base).off("keydown",e.alopex.widget.dropdown._inputBaseKeyDownHandler),e(a.base).on("click.autocomplete",function(t){var a=t.currentTarget.parentElement;if(!a.textinput.disabled){var n=e.alopex.widget.autocomplete._makeDropdown(a);if(a.dropdown=n,a.lastKeyword="",a.textinput.value.length>=a.minlength){t={currentTarget:a.textinput,keyCode:65};e.alopex.widget.autocomplete._keyupHandler(t),e(a.dropdown).click()}else a.dropdown.userInputDataSource=null}}),e(a).remove(),a.base.parentElement.dropdown=null},_selectFirstHandler:function(t){var a=t.currentTarget.parentElement;return 13===t.keyCode&&0===e(a.dropdown).find("li.Focused").length&&e.alopex.widget.autocomplete._select(a,0),!0}})}(jQuery),function(e){e.alopex.widget.combobox=e.alopex.inherit(e.alopex.widget.object,{widgetName:"combobox",defaultClassName:"af-combobox Combobox",setters:["combobox","setEnabled","setText","setValue","selectionInitialization","selectionInit"],getters:["getValue","getText","isEnabled"],classNames:{textinput:"Combobox-textinput",dropdown:"Combobox-dropdown",focused:"Focused",hover:"Hover",disabled:"Disabled"},properties:{placeholder:void 0,toggletrigger:"click",filterevent:"keyup",formatter:function(e){return e.text},disabled:!1,delayfiltering:250,filter:void 0,filtertype:{ignorewhitespace:!0,ignorecase:!0,contains:!0,startswith:!1,endswith:!1},selectfirst:!1},init:function(t,a){t.style.display="none",t._options=e.extend({},this.properties,a),t.textinput=document.createElement("input"),t.button=document.createElement("span"),t.dropdown=document.createElement("ul"),t.dropdown.setAttribute("tabindex","-1"),t.textinput.setAttribute("tabindex","-1"),t.dropdown.baseselect=t.textinput.baseselect=t,t.textinput.setAttribute("class",this.classNames.textinput),t.button.setAttribute("class",this.classNames.button),t.dropdown.setAttribute("class",this.classNames.dropdown),t.insertAdjacentElement("afterend",t.textinput),t.textinput.insertAdjacentElement("afterend",t.dropdown),t._options.placeholder?t.textinput.setAttribute("placeholder",t._options.placeholder):this._updateValue(t),this._updateOptions(t),this._style(t),this._close(t)},_updateValue:function(e){e.value&&(e.textinput.value=e.options[e.selectedIndex].text,this._focusLi(e.dropdown,e.dropdown.children[e.selectedIndex]))},_updateOptions:function(e){e.getElementsByTagName("optgroup");e.dropdown.innerHTML="";for(var t,a=e.getElementsByTagName("option"),n=0;n<a.length;n++)t=a[n],this._makeLiElement(e.dropdown,t)},_makeLiElement:function(t,a){var n=t.baseselect,i=document.createElement("li"),r=document.createElement("a");i.insertAdjacentElement("beforeend",r),t.insertAdjacentElement("beforeend",i),i.setAttribute("value",a.value),i.setAttribute("text",a.text),i._value=a.value,i._text=a.text,i._index=a.index,i._id=a.id,r.innerHTML=n._options.formatter(a),i.addEventListener("click",this._clickHandler),e(i).on("hoverstart",this._hoverHandler)},_focusLi:function(t,a,n){var i=t.baseselect;if(e(t).find("> li").removeClass(this.classNames.focused),a&&a._text){i=t.baseselect;n&&(i.textinput.value=a._text,i.value=a._value,i.selectedIndex=a._index,e(i).triggerHandler("select",[i.options[i.selectedIndex]])),e(a).addClass(this.classNames.focused)}},_focusNext:function(t,a){var n=this._hasFocusLi(t);if(n.length){for(var i=n.next();i[0]&&"none"===i[0].style.display;)i=i.next("li");if(i[0])return void this._focusLi(t,i[0],a)}this._focusLi(t,e(t).find("> li:visible")[0],a)},_focusPrev:function(t,a){var n=this._hasFocusLi(t);if(n){for(var i=n.prev();i[0]&&"none"===i[0].style.display;)i=i.prev("li");if(i[0])return void this._focusLi(t,i[0],a)}this._focusLi(t,e(t).find("> li:visible").last()[0],a)},_hasFocusLi:function(t){this.classNames.focused;var a="> li."+this.classNames.focused,n=e(t).find(a);return!!n.length&&n},_toggle:function(e){"none"===e.dropdown.style.display?this._open(e):this._close(e)},_close:function(t){e(t.dropdown).hide()},_open:function(t){e(t.dropdown).show(),e(t.dropdown).css(this._calcPosition(t)),this._style(t)},_clickHandler:function(t){var a=t.currentTarget,n=a.parentElement,i=n.baseselect,r=e.alopex.widget.combobox;r._focusLi(n,a,!0),r._close(i),t.stopPropagation()},_hoverHandler:function(t){var a=this.parentElement;e(a).find("> li").removeClass(e.alopex.widget.combobox.classNames.focused)},_inputBaseKeyDownHandler:function(t){var a=t.currentTarget,n=a.baseselect,i=n.dropdown,r=e.alopex.widget.combobox;switch(e.alopex.util.fnKeyCode[t.which]){case"up":r._open(n),r._focusPrev(i,!1),t.preventDefault();break;case"down":r._open(n),r._focusNext(i,!1),t.preventDefault();break;case"enter":if("none"!==i.style.display){var o=r._hasFocusLi(i);o?r._focusLi(i,o[0],!0):n._options.selectfirst&&r._focusLi(i,e(i).find("> li:visible")[0],!0)}r._close(n),t.preventDefault();break;default:n.value=a.value,r._filter(i,a.value)?r._open(n):(r._showAllList(i),r._close(n))}},_calcPosition:function(t){for(var a=t.textinput,n=t.dropdown.offsetWidth,i=t.dropdown.offsetHeight,r=a.offsetWidth,o=a.offsetHeight,s=a.offsetParent;s&&s!==document.body&&"relative"!==e(s).css("position")&&"absolute"!==e(s).css("position");)s=s.offsetParent;var l=e.alopex.util.getRelativePosition(a),d=e.alopex.util.getRelativePosition(s),c=l.left-d.left,p=l.top-d.top;if("fixed"===e(a.offsetParent).css("position")){var u=e(a).position();c=u.left,p=u.top}var h=0,f=0;switch(a.position){case"top":f=c,h=p-i;break;case"left":f=c-n;break;case"right":f=c+r,h=p;break;case"bottom":default:f=c,h=p+o}return{left:f+"px",top:h+"px"}},_filter:function(t,a){var n,i=t.baseselect,r=e(t).find("> li"),o=e.alopex.widget.combobox;i.value="",r.removeClass(o.classNames.focused);var s=[].slice.call(t.children);return filtered=s.filter(function(e){if(e._text)switch("boolean"==typeof(n="function"==typeof i._options.filter?i._options.filter(i.options[e._index],a):o._defaultFilter(i,e._text,a))&&(n=n?1:0),n){case 2:o._focusLi(t,e),e.style.display="",0;break;case 1:e.style.display="",0;break;case 0:default:e.style.display="none"}return n>=1}),filtered.length},_showAllList:function(t){e(t).find(">li").show()},_defaultFilter:function(t,a,n){var i=e.extend({},this.properties.filtertype,t._options.filtertype),r=!1;return i.ignoreCase||(n=n.toLowerCase(),a=a.toLowerCase()),i.ignorewhitespace&&(n=n.replace(/ /g,""),a=a.replace(/ /g,"")),i.contains&&(r=a.indexOf(n)>=0),i.startswith&&(r=a.startsWith(n)),i.endswith&&(r=a.endsWith(n)),r},_baseEventBind:function(t,a){var n=t.textinput,i=t.dropdown;e(n).off(".alopex-combobox"),e(i).off(".alopex-combobox"),"off"!==a&&(e(n).on(this.properties.toggletrigger+".alopex-combobox",function(t){var a=t.currentTarget.baseselect;"none"===a.dropdown.style.display&&e.alopex.widget.combobox._showAllList(a.dropdown),e.alopex.widget.combobox._toggle(t.currentTarget.baseselect)}),e(n).on("focusout.alopex-combobox",function(t){document.activeElement!==t.currentTarget.baseselect.dropdown?e.alopex.widget.combobox._close(t.currentTarget.baseselect):t.currentTarget.focus()}),e(i).on("mousedown.alopex-combobox",function(e){return e.preventDefault(),!1}),e(n).on(this.properties.filterevent+".alopex-combobox",e.alopex.util.debounce(this._inputBaseKeyDownHandler,t._options.delayfiltering,!1,this._isFuncKey)))},_isFuncKey:function(t){return e.alopex.util.fnKeyCode.hasOwnProperty(t.which)},_style:function(t){var a=window.getComputedStyle(t,null).getPropertyValue("width"),n=e(t.textinput).outerWidth()-e(t.textinput).width();isNaN(n)&&(n=0),"auto"===a?t.textinput.style.width=e(t.dropdown).outerWidth()-n+"px":"%"===a[a.length-1]?(t.textinput.style.width=a,t.dropdown.style.width=e(t.textinput).innerWidth()+"px"):(t.textinput.style.width=parseInt(a)-n+"px",t.dropdown.style.width=a);var i=this._hasFocusLi(t.dropdown);if(i){var r=e(t.dropdown).find("li:first").position().top;e(t.dropdown).scrollTop(e(i).position().top-r)}},_isSelectable:function(e){return!0},getValue:function(e){return e.value},getText:function(e){return e.textinput.value},setEnabled:function(t,a){a?(this._baseEventBind(t),t.textinput.removeAttribute("disabled"),e(t.textinput).removeClass(this.classNames.disabled)):(this._close(t),this._baseEventBind(t,"off"),t.textinput.setAttribute("disabled","true"),e(t.textinput).addClass(this.classNames.disabled))},isEnabled:function(t){return e(t.textinput).hasClass(this.classNames.disabled)},setText:function(e,t){e.textinput.value=t,this._filter(e.dropdown,t)},setValue:function(e,t){e.value=t,this._updateValue(e)},selectionInit:function(e){e.getAttribute("data-placeholder")?(this.setText(e,""),this.setValue(e,"")):e.querySelector("option[selected]")?this.setValue(e,e.querySelector("option[selected]").value):this.setValue(e,e.options[0].value)},selectionInitialization:function(e){this.selectionInit(e)},setOptions:function(t,a){e.extend(t._options,a),a.formatter&&(this._updateOptions(t),this._style(t),this._filter(t.dropdown,t.textinput.value))}})}(jQuery),function(e){e.alopex.widget.baseselect=e.alopex.inherit(e.alopex.widget.object,{widgetName:"baseselect",defaultClassName:"af-baseselect",getters:["getValues","getTexts"],setters:["baseselect","setPlaceholder","setSelected","clear","refresh","selectionInitialization"],init:function(e,t){var a=this._getProperty(e,"placeholder");a&&this.setPlaceholder(e,a)},setPlaceholder:function(t,a){var n=e(t);0==n.find("[data-placeholder]").length&&(n.prepend('<option value="" selected="selected" data-placeholder="true" disabled>'+a+"</option>"),n[0].options[0].selected=!0,t.divSelect&&e(t.divSelect).refresh())},selectionInitialization:function(t){var a=e(t);if(void 0!=a[0].options){var n=a[0].options[0];n.disabled&&"true"==n.getAttribute("data-placeholder")&&(n.disabled=!1),n.selected=!0,"true"==n.getAttribute("data-placeholder")&&(n.disabled=!0)}},setSelected:function(t,a){if(0!==t.children.length){var n,i=!0;for(n=0;n<t.children.length;n++)t.children[n].text===a&&(e(t.children[n]).prop("selected",!0),i=!1);if(i)for(n=0;n<t.children.length;n++)t.children[n].value===a&&e(t.children[n]).prop("selected",!0);e(t).trigger("change")}},getValues:function(t){var a=[];if(t.multi)return e(t).find("option:selected").each(function(){a.push(e(this).val())}),a;var n=[];return e(t).find("option:selected").each(function(){n.push(this.value)}),n},getTexts:function(t){var a=[];if(t.multi)return e(t).find("option:selected").each(function(){a.push(e(this).text())}),a;var n=[];return e(t).find("option:selected").each(function(){n.push(e(this).text())}),n},clear:function(t){var a=e(t);a.empty();var n=t.parentNode,i=null;e.alopex.util.isValid(t.getAttribute("data-placeholder"))?i=t.getAttribute("data-placeholder"):n&&"DIV"===n.tagName&&"divselect"===n.getAttribute("data-type")&&e.alopex.util.isValid(n.getAttribute("data-placeholder"))&&(i=n.getAttribute("data-placeholder")),i&&(a.prepend('<option value="" selected="selected" disabled>'+i+"</option>"),a[0].options[0].selected=!0,t.originWidth=a.width()),this.refresh(t)},refresh:function(t){var a=e(t),n=!1;if((e(t.parentNode)&&"divselect"==e(t.parentNode).attr("data-type")||t.divSelect)&&(n=!0),n||e.alopex.util.parseBoolean(t.alopexoptions.wrap)){var i=a.find(":selected").text()||"";e.alopex.widget.divselect._setText(t.parentNode,i)}}})}(jQuery),function(e){e.alopex.widget.dialog=e.alopex.inherit(e.alopex.widget.object,{widgetName:"dialog",defaultClassName:"af-dialog Dialog",maxZindex:1001,dialoglist:[],properties:{dialogtype:null,animation:"show",animationtime:500,resizable:!1,dialogmovable:!1,modal:!1,top:null,left:null,modalScroll:!1,modalscrollhidden:!0,modalclose:!1,scroll:!1,toggle:!1,minHeight:100,minWidth:200,focus:"close"},element:[],getters:[],setters:["dialog","open","close","ok","cancel","confirm","closed","reposition"],defer:function(e,t){e.style.display="none"},init:function(t,a){var n=e(t);for(var i in a)"true"!==a[i]&&"false"!==a[i]||(a[i]=e.alopex.util.parseBoolean(a[i])),e.alopex.util.isNumberType(a[i])&&(a[i]=parseInt(a[i],10));var r=e.extend(!0,{},this.properties,a);e.extend(t,r),t.dialogmovable&&(t.movable=t.dialogmovable),t.dialogmodal&&(t.modal=t.dialogmodal),t.height&&(t.style.height=t.height),t.width&&(t.style.width=t.width);var o=(t.getAttribute("style")?t.getAttribute("style"):"")+";position:fixed;z-index:1001;opacity:0;overflow:hidden;";if(t.setAttribute("style",o),e.alopex.util.isValid(n.children()[0])&&(t.contents=n.children()),this._setDialogType(t,t.dialogtype),this._setResizable(t,t.resizable),this._setMovable(t,t.movable),this._setModal(t,t.modal),"mobile"!=window.browser&&(n.on("pressed focusin",e.alopex.widget.dialog._clickMoveToTop),n.on("keydown",e.alopex.widget.dialog._addKeydownEvent),n.on("click",function(t){e(t.currentTarget).attr("tabindex","1")})),t.originWidth=n.width(),t.originHeight=n.height(),t.originMinWidth=t.minWidth,t.originMinHeight=t.minHeight,"mobile"==window.browser){var s=t;s.lifted=!1;var l=0;e(window).on("resize",function(){var a=document.activeElement;if("iframe"==a.tagName.toLowerCase())l=e(a).offset().top,a=a.contentWindow.document.activeElement;else if("body"==a.tagName.toLowerCase()){if(!((a=e(a).find(":focus")).length>0))return!1;a=a[0]}var n=e.alopex.util.getPagePosition(a).top+l+a.offsetHeight,i=e(window).height();n>=i&&s.windowheight>i?(s.liftedHeight=Math.abs(n-i)+50,s.lifted=!0,t.style.top=parseInt(t.style.top)-s.liftedHeight+"px"):s.windowheight<i&&s.lifted&&(t.style.top=parseInt(t.style.top)+s.liftedHeight+"px",s.lifted=!1),s.windowheight=i})}},_addKeydownEvent:function(t){var a=t.currentTarget,n=(t.data,e(a));switch(null!==t.keyCode?t.keyCode:t.which){case 27:n.close();break;case 9:var i="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";if(t.shiftKey){if(document.activeElement===e(this)[0]||document.activeElement===e(this).find(i).first()[0]){var r=n.prop("alopexPopupSetting");if(null!=r&&!0===r.iframe){var o=e("#"+r.id).find("iframe");null!=o[0]&&o.contents().find(i).last().focus()}else n.find(i).last().focus();t.preventDefault()}break}document.activeElement===e(this).find(i).last()[0]?(n.find(i).first().focus(),t.preventDefault()):document.activeElement===n[0]&&(n.find(i).first().focus(),t.preventDefault())}},_setDialogType:function(t,a){if(e(t.header).remove(),e(t.button).remove(),e(t.closebtn).remove(),e(t.confrimbtn).remove(),e(t.okbtn).remove(),e(t.cancelbtn).remove(),"blank"===a||"close"===a||"confirm"===a||"okcancel"===a){if(t.header=document.createElement("div"),t.header.setAttribute("class","dialog_header Header"),t.toggle){var n=document.createElement("button");n.dialog=t,n.setAttribute("class","DialogToggle"),e(n).on("click",function(a){var i=e.alopex.widget.dialog._dialogStandardHeight(t),r=e.alopex.widget.dialog._dialogHeaderHeight(t);a.currentTarget.dialog.folded?(e(a.currentTarget.dialog).animate({height:i+"px"},300,function(){(t.scroll||"true"===(t.contents&&t.contents.getAttribute("data-dialog-scroll")))&&e.alopex.widget.dialog._calculateHeight(t)}),a.currentTarget.dialog.folded=!1,e(n).removeClass("Expanded")):(a.currentTarget.dialog.defaultHeight=e(a.currentTarget.dialog).height(),a.currentTarget.dialog.folded=!0,e(a.currentTarget.dialog).animate({height:r+"px"},300),e(n).addClass("Expanded")),e(t).trigger("dialogToggleEnd")}),this.addHoverHighlight(n),this.addPressHighlight(n),t.header.appendChild(n)}var i=document.createElement("button");i.dialog=t,i.setAttribute("class","dialog_btn DialogBtn"),i.setAttribute("type","button");var r=!0;e(i).on("click",function(a){e.alopex.util.isValid(t.xButtonClickCallback)&&"function"==typeof t.xButtonClickCallback&&(r=t.xButtonClickCallback(t)),r&&e(a.currentTarget.dialog).close()}),this.addHoverHighlight(i),this.addPressHighlight(i),t.header.appendChild(i),t.headerClosebtn=i,e(t).prepend(t.header),e.alopex.util.isValid(t.contents)&&e.each(t.contents,function(e,a){t.appendChild(a)}),"close"===a?(t.button=document.createElement("div"),t.closebtn=document.createElement("button"),t.closebtn.dialog=t,t.closebtn.textContent="Close",t.button.setAttribute("class","Dialog-btnwrap"),this.addHoverHighlight(t.button),this.addPressHighlight(t.button),t.closebtn.setAttribute("data-type","button"),t.closebtn.setAttribute("class","Button Default"),e(t.closebtn).button(),e(t.closebtn).on("click",function(t){var a=t.currentTarget.dialog;e(a).close()}),t.button.appendChild(t.closebtn),t.appendChild(t.button)):"confirm"===a?(t.button=document.createElement("div"),t.confirmbtn=document.createElement("button"),t.confirmbtn.textContent="Confirm",t.button.setAttribute("class","Dialog-btnwrap"),this.addHoverHighlight(t.button),this.addPressHighlight(t.button),t.confirmbtn.setAttribute("data-type","button"),t.confirmbtn.setAttribute("class","Button Default"),e(t.confirmbtn).button(),t.button.appendChild(t.confirmbtn),t.appendChild(t.button)):"okcancel"===a&&(t.button=document.createElement("div"),t.okbtn=document.createElement("button"),t.okbtn.textContent="Ok",t.cancelbtn=document.createElement("button"),t.cancelbtn.textContent="Cancel",t.button.setAttribute("class","Dialog-btnwrap"),this.addHoverHighlight(t.button),this.addPressHighlight(t.button),t.okbtn.setAttribute("data-type","button"),t.okbtn.setAttribute("class","Button Default"),t.cancelbtn.setAttribute("data-type","button"),t.cancelbtn.setAttribute("class","Button Default"),e(t.okbtn).button(),e(t.cancelbtn).button(),t.button.appendChild(t.okbtn),t.button.appendChild(t.cancelbtn),t.appendChild(t.button))}},_setModal:function(t,a){if(!e.alopex.util.isValid(t.blocker)&&a){t.blocker=document.createElement("div"),t.blocker.dialog=t;var n=e(t.blocker);t.parentNode.appendChild(t.blocker),t.blocker.className="af-dialog-mask "+e.alopex.config.defaultComponentClass.dialog+"-mask",n.css({opacity:"0.5",overflow:"hidden",display:"none","z-index":"999",position:"fixed",left:"0",top:"0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)",width:"100%",height:"100%"}),void 0!=t.modalScroll&&"true"===t.modalScroll||n.on("touchstart touchmove",function(e){return e.preventDefault(),e.stopPropagation(),!1}),t.modalclose&&n.on("pressed",function(t){var a=t.currentTarget.dialog;e(a).close()})}},_setMovable:function(t,a){var n,i=e(t);e.alopex.widget.dialog;a&&"mobile"!==window.browser?i.children().length>0&&(e.alopex.util.isValid(t.header)?(e(t.header).on("pressed",this._preMoveDialog),t.header.style.cursor="move"):null!=(n=i.find("[data-dialog-movecursor=true]")[0])&&(e(n).on("pressed",this._preMoveDialog),n.style.cursor="move")):e.alopex.util.isValid(t.header)?(e(t.header).off("pressed",this._preMoveDialog),t.header.style.cursor=""):null!=(n=i.find("[data-dialog-movecursor=true]")[0])&&(e(n).off("pressed",this._preMoveDialog),n.style.cursor="")},_setResizable:function(t,a){e(t.footer).remove();e.alopex.widget.dialog;a&&"mobile"!==window.browser?(t.footer=document.createElement("div"),t.resizeHandleLeft=document.createElement("div"),e(t.resizeHandleLeft).attr("style","position:absolute;top:0px;left:0px;width:2px;height:100%;cursor:w-resize;"),t.resizeHandleRight=document.createElement("div"),e(t.resizeHandleRight).attr("style","position:absolute;top:0px;right:0px;width:2px;height:100%;cursor:col-resize;"),t.resizeHandleBottom=document.createElement("div"),e(t.resizeHandleBottom).attr("style","position:absolute;left:0px;bottom:0px;width:100%;height:2px;cursor:s-resize;"),t.resizeHandleBoth=document.createElement("div"),e(t.resizeHandleBoth).attr("class","resizeBtn ResizeBtn"),t.footer.appendChild(t.resizeHandleLeft),t.footer.appendChild(t.resizeHandleRight),t.footer.appendChild(t.resizeHandleBottom),t.footer.appendChild(t.resizeHandleBoth),t.appendChild(t.footer),t.resizeHandleLeft.dialog=t.resizeHandleRight.dialog=t.resizeHandleBottom.dialog=t.resizeHandleBoth.dialog=t,e(t.resizeHandleLeft).on("pressed",this._preResizeDialog),e(t.resizeHandleRight).on("pressed",this._preResizeDialog),e(t.resizeHandleBottom).on("pressed",this._preResizeDialog),e(t.resizeHandleBoth).on("pressed",this._preResizeDialog)):e(t.footer).remove()},_preMoveDialog:function(t,a){document.onselectstart=function(){return!1};var n=e.alopex.widget.dialog,i=e(this).offset(),r={};r.x=a.pageX-i.left,r.y=a.pageY-i.top,r.element=t.currentTarget,e(document).on("move.alopexDialogMove",r,e.alopex.widget.dialog._moveDialog).on("unpressed.alopexDialogMove",r,e.alopex.widget.dialog._postMoveDialog);var o,s=500;null!=n.element[0].mousetime&&void 0!=n.element[0].mousetime&&(s=n.element[0].mousetime),document.addEventListener("mousemove",function(){o&&clearTimeout(o),o=setTimeout(function(){e(document).trigger("unpressed.alopexDialogMove")},Number(s))},!1)},_moveDialog:function(t,a){var n=e(window),i=a.pageX-n.scrollLeft(),r=a.pageY-n.scrollTop();if(t.data.element){var o=t.data.element.parentElement,s=e(o);return o.style.left=i-t.data.x+"px",o.offsetLeft<=0&&(o.style.left="0px"),o.offsetLeft>=n.width()-s.width()&&(o.style.left=n.width()-s.width()+"px"),o.style.top=r-t.data.y+"px",o.offsetTop<=0&&(o.style.top="0px"),n.height()<=o.offsetTop+s.height()&&(o.style.top=n.height()-s.height()+"px"),$a.util.isMobileOrTablet()?(t.preventDefault(),!1):void 0}},_postMoveDialog:function(t,a){e(document).off(".alopexDialogMove"),document.onselectstart=function(){return!0}},_preResizeDialog:function(t){var a=t.currentTarget.dialog;1==a.iframe&&1==a.resizable&&e(a).find("iframe").css("pointer-events","none");e.alopex.widget.dialog;e(a.resizeHandleLeft).on("swipemove",e.alopex.widget.dialog._resizeLeftDialog).on("unpressed",e.alopex.widget.dialog._postResizeDialog),e(a.resizeHandleRight).on("swipemove",e.alopex.widget.dialog._resizeRightDialog).on("unpressed",e.alopex.widget.dialog._postResizeDialog),e(a.resizeHandleBottom).on("swipemove",e.alopex.widget.dialog._resizeBottomDialog).on("unpressed",e.alopex.widget.dialog._postResizeDialog),e(a.resizeHandleBoth).on("swipemove",e.alopex.widget.dialog._resizeBothDialog).on("unpressed",e.alopex.widget.dialog._postResizeDialog),a.endWidth=a.offsetWidth,document.onselectstart=function(){return!1}},_postResizeDialog:function(t){var a=t.currentTarget.dialog;e(a.resizeHandleLeft).off("swipemove"),e(a.resizeHandleRight).off("swipemove"),e(a.resizeHandleBottom).off("swipemove"),e(a.resizeHandleBoth).off("swipemove"),1==a.iframe&&1==a.resizable&&e(a).find("iframe").css("pointer-events",""),e(a).trigger("dialogResizeEnd"),document.onselectstart=function(){return!0}},_resizeLeftDialogHandler:function(t,a){var n=e(window),i=a.pageX-n.scrollLeft(),r=t.currentTarget,o=r.parentElement.parentElement,s=e(o),l=(n.width(),o.offsetLeft,s.width(),o.offsetLeft-i),d=e(o).width()+l,c=e.alopex.widget.dialog._dialogStandardWidth(o),p=e.alopex.widget.dialog._dialogStandardMinWidth(o);if(d<=p)d=p,o.style.width=d+5+"px",s.children().each(function(){"BUTTON"!==this.nodeName&&(this.style.width=d+5+"px")});else if(o.offsetLeft<=0)o.style.left="3px";else{parseInt(a.pageX)<0?o.style.left="0px":o.style.left=i+"px",0!=o.endWidth&&(c=o.endWidth),parseInt(a.pageX)<0?o.style.width=parseInt(a.startX)+c+"px":o.style.width=parseInt(a.startX)-parseInt(a.pageX)+c+"px";e.alopex.util.getScrolledPosition(r);s.children().each(function(){"BUTTON"!==this.nodeName&&(parseInt(a.pageX)<0?this.style.width=parseInt(a.startX)+c+"px":this.style.width=parseInt(a.startX)-parseInt(a.pageX)+c+"px")})}},_resizeRightDialogHandler:function(t,a){document.onselectstart=function(){return!1};var n=t.currentTarget.parentElement.parentElement,i=($a.util.isMobileOrTablet()&&n.modal?a.pageX:a.pageX-e(window).scrollLeft())-n.offsetLeft,r=(e.alopex.widget.dialog._dialogStandardWidth(n),e.alopex.widget.dialog._dialogStandardMinWidth(n));i<r&&(i=r),null!=n&&(n.style.width=i+"px",e(n).children().each(function(){"BUTTON"!==this.nodeName&&(this.style.width=i+"px")}),e(n).width()>=e(window).width()-n.offsetLeft&&(n.style.width=e(window).width()-n.offsetLeft-3+"px",e(n).children().each(function(){"BUTTON"!==this.nodeName&&(this.style.width=e(window).width()-n.offsetLeft+"px")})))},_resizeBottomDialogHandler:function(t,a){document.onselectstart=function(){return!1};var n,i=t.currentTarget.parentElement.parentElement,r=e(i),o=($a.util.isMobileOrTablet()&&i.modal?a.pageY:a.pageY-e(window).scrollTop())-i.offsetTop,s=(e.alopex.widget.dialog._dialogMinusHeight(i),e.alopex.widget.dialog._dialogScrollValid(i),e.alopex.widget.dialog._dialogResizableValid(i)),l=0;if(n=".Dialog-contents",".Dialog-btnwrap",e.alopex.util.isValid(i.button)){var d=e(i.button).css("margin-bottom").replace("px",""),c=e(i.button).find(".Button").css("line-height").replace("px","");l=Number(d)+Number(c)}if(1==i.toggle&&(t.currentTarget.dialog.folded=!1,r.find(".DialogToggle").removeClass("Expanded")),s){e.alopex.widget.dialog._dialogStandardHeight(i);var p=e.alopex.widget.dialog._dialogHeaderHeight(i),u=e.alopex.widget.dialog._dialogStandardMinHeight(i);o<u?(i.style.height=u+"px",r.find(n).css("height",u-p-l+"px"),1==i.iframe&&r.find("iframe").css("height",u-p-l+"px"),0==i.iframe&&e(i.contents).css("height",u-p+"px")):(i.style.height=o+"px",r.find(n).css("height",o-p-l+"px"),1==i.iframe&&r.find("iframe").css("height",o-p+"px"),0==i.iframe&&e(i.contents).css("height",o-p+"px")),r.height()>=e(window).height()-i.offsetTop&&(i.style.height=e(window).height()-i.offsetTop-3+"px")}},_resizeLeftDialog:function(t,a){return e.alopex.widget.dialog._resizeLeftDialogHandler(t,a),t.preventDefault(),!1},_resizeRightDialog:function(t,a){return e.alopex.widget.dialog._resizeRightDialogHandler(t,a),t.preventDefault(),!1},_resizeBottomDialog:function(t,a){return e.alopex.widget.dialog._resizeBottomDialogHandler(t,a),t.preventDefault(),!1},_resizeBothDialog:function(t,a){return e.alopex.widget.dialog._resizeRightDialogHandler(t,a),e.alopex.widget.dialog._resizeBottomDialogHandler(t,a),t.preventDefault(),!1},_clickMoveToTop:function(t){var a=e.alopex.widget.dialog,n=!0;e.each(a.dialoglist,function(e,t){a.dialoglist[e].modal&&(n=!1)}),n&&e.alopex.widget.dialog._moveToTop(t)},_moveToTop:function(t){var a=t?t.currentTarget:this.element[this.element.length-1],n=e(a),i=e.alopex.widget.dialog,r=i.dialoglist.length;if(r<=1)return n.css("z-index",i.maxZindex),void(a.modal&&null!=a.blocker&&(a.blocker.style.zIndex=i.maxZindex-1));e.each(i.dialoglist,function(e,t){if(i.dialoglist[e]===a){var n=i.dialoglist.splice(e,1);i.maxZindex=1e3+r,a.style.zIndex=i.maxZindex,a.modal&&(a.blocker.style.zIndex=i.maxZindex-1),i.dialoglist=n.concat(i.dialoglist);for(var o=i.maxZindex,s=1;s<r;s++)o--,i.dialoglist[s].style.zIndex=o,i.dialoglist[s].modal&&null!=i.dialoglist[s].blocker&&(i.dialoglist[s].blocker.style.zIndex=o-1)}})},open:function(t,a,n){var i=e(t);if(!i.is(":visible")||"0"==t.style.opacity){if(e.alopex.util.isValid(a)){for(s in e.alopex.util.isValid(a.height)&&i.css("height",a.height),e.alopex.util.isValid(a.width)&&i.css("width",a.width),e.alopex.util.isValid(a.top)&&(t.top=a.top),e.alopex.util.isValid(a.left)&&(t.left=a.left),void 0!==a.type?(t.dialogtype=a.type,e.alopex.util.isValid(a.toggle)&&(t.toggle=a.toggle),this._setDialogType(t,t.dialogtype)):void 0!==t.dialogtype&&this._setDialogType(t,t.dialogtype),e.alopex.util.isValid(a.resizable)?this._setResizable(t,a.resizable):e.alopex.util.isValid(t.resizable)&&this._setResizable(t,t.resizable),e.alopex.util.isValid(a.movable)?this._setMovable(t,a.movable):e.alopex.util.isValid(t.dialogmovable)&&this._setMovable(t,t.dialogmovable),e.alopex.util.isValid(a.modal)?this._setModal(t,a.modal):e.alopex.util.isValid(t.dialogmodal)&&this._setModal(t,t.dialogmodal),a)"true"!==a[s]&&"false"!==a[s]||(a[s]=e.alopex.util.parseBoolean(a[s])),e.alopex.util.isNumberType(a[s])&&(a[s]=parseInt(a[s],10));e.extend(t,a)}e.alopex.util.isValid(document.activeElement)&&"BODY"!==document.activeElement.tagName?t.target=document.activeElement:e.alopex.util.isValid(window.event)&&(t.target=window.event.srcElement);var r=i.children();if(r.length>0&&e.alopex.util.isValid(t.title)&&null!==t.dialogtype&&"null"!==t.dialogtype){for(var o=e(r[0]).contents(),s=0;s<o.length;s++)3===o[s].nodeType&&r[0].removeChild(o[s]);0==t.title||"false"==t.title?e(r[0]).remove():e(r[0]).append(t.title)}t.modal&&(t.blocker.style.display="block",t.modalscrollhidden&&"fixed"!=document.body.style.position&&"absolute"!=document.body.style.position&&(this.bodyposition=document.body.style.position,this.bodywidth=document.body.style.width,"ie"===window.browser||e.alopex.util.isValid(window.browser)&&-1!==window.browser.indexOf("Microsoft Internet Explorer")?t.scrollTopValue=e(document.documentElement).scrollTop():t.scrollTopValue=e(document.body).scrollTop(),e("body").css({top:-1*t.scrollTopValue+"px",position:"fixed",width:e("body").innerWidth()+"px"}))),t.style.display="block",t.style.opacity="1",(i.closest("[data-carousel]").length>0||i.closest("[data-carousel]").length>0)&&(i.appendTo("body"),e(t.blocker).appendTo("body"));var l=(e(window).height()-t.offsetHeight)/2,d=(e(window).width()-t.offsetWidth)/2;switch(e.alopex.util.isValid(t.top)?t.style.top=t.top+"px":t.style.top=l+10*this.dialoglist.length+"px",e.alopex.util.isValid(t.left)?t.style.left=t.left+"px":t.style.left=d+10*this.dialoglist.length+"px",t.scroll&&t.contents&&t.contents[0].setAttribute("data-dialog-scroll",!0),(t.scroll||"true"===(t.contents&&t.contents[0].getAttribute("data-dialog-scroll")))&&this._calculateHeight(t),t.animation){case"slide":t.style.top=-1*t.offsetHeight+"px",i.animate({top:e.alopex.util.isValid(t.top)?t.top:l+10*this.dialoglist.length+"px"},t.animationtime);break;case"fade":t.style.opacity="0",i.animate({opacity:"1"},t.animationtime)}if(this.element.push(t),this.dialoglist.push(t),this._moveToTop(),t.windowheight=e(window).height(),e(window).bind("resize.dialogWin",function(a){e.alopex.widget.dialog._reposition(a,t)}),null!=t.focus&&""!==t.focus&&("close"===t.focus?e(t.headerClosebtn).focus():-1!==t.focus.indexOf("#")&&i.find(t.focus).focus()),n&&n.apply(),0==/Alopex_Popup_/.test(i.attr("id"))){var c=0;if(e.alopex.util.isValid(t.button)){var p=e(t.button).css("margin-bottom").replace("px",""),u=e(t.button).find(".Button").css("line-height").replace("px","");c=Number(p)+Number(u)}var h=e.alopex.widget.dialog._dialogStandardWidth(t),f=e.alopex.widget.dialog._dialogStandardHeight(t),g=e.alopex.widget.dialog._dialogHeaderHeight(t),m=i.find(".Dialog-contents");m.css("width",h+"px"),i.find(".Dialog-btnwrap").css("width",h+"px"),i.find(".ResizeBtn").parents("div").eq(0).css("width",h+"px"),t.header.style.width=h+"px",c>0?m.css("height",f-g-c+"px"):m.css("height",f-g+"px")}i.trigger("open")}},closed:function(t,a){e(t.closebtn).on("click",function(){a()})},ok:function(t,a){e(t.okbtn).on("click",function(){a()})},cancel:function(t,a){e(t.cancelbtn).on("click",function(){a()})},confirm:function(t,a){e(t.confirmbtn).on("click",function(){a()})},close:function(t,a){var n=e(t);try{if(e.alopex.util.isValid(a)?t.closecallback=a:t.closecallback="",n.is(":hidden"))return;for(var i=0;i<this.element.length;i++)if(t==this.element[i]){this.element.splice(i,1);break}if(n.css("z-index",1001),e.alopex.util.arrayremove(this.dialoglist,t),0==this.dialoglist.length&&(this.maxZindex=1001),0==/Alopex_Popup_/.test(n.attr("id"))&&t.modal){var r=document.body,o=Math.abs(parseInt(r.style.top));e(r).css({top:"",position:this.bodyposition?this.bodyposition:"",width:this.bodywidth?this.bodywidth:""}),"ie"===window.browser||e.alopex.util.isValid(window.browser)&&-1!==window.browser.indexOf("Microsoft Internet Explorer")?e(document.documentElement).scrollTop(t.scrollTopValue):e(r).scrollTop(o)}!0===t.iframe&&(e(t).find("iframe")[0].src="about: blank"),e(t).trigger("close"),"mobile"==window.browser?setTimeout(function(){e.alopex.widget.dialog._close(t)},400):e.alopex.widget.dialog._close(t),e(window).unbind("resize.dialogWin"),e(t.okbtn).off("click"),e(t.cancelbtn).off("click"),e(t.closebtn).off("click"),e(t.confirmbtn).off("click"),e.alopex.util.isValid(t.target)&&e(t.target).focus()}catch(e){}},_close:function(t){var a=e(t);switch(t.animation){case"slide":a.animate({top:-1*t.offsetHeight+"px"},t.animationtime,function(e){t.modal&&(t.blocker.style.display="none"),t.style.display="none"});break;case"fade":a.animate({opacity:"0"},t.animationtime,function(e){t.modal&&(t.blocker.style.display="none"),t.style.display="none"});break;default:t.modal&&(t.blocker.style.display="none"),t.style.display="none"}e.alopex.util.isValid(t.closecallback)&&t.closecallback()},_calculateHeight:function(t){var a=e(t),n=a.outerHeight(!0),i=0;a.children().each(function(t,a){e(a).attr("data-dialog-scroll")||"absolute"===e(a).css("position")||-1!==e.inArray(a.nodeName.toLowerCase(),["meta","title","script","link"])||(i+=e(a).outerHeight(!0))});e.alopex.widget.dialog._dialogMinusHeight(t);var r=e.alopex.widget.dialog._dialogScrollValid(t),o=0;if(".Dialog-contents",".Dialog-btnwrap",e.alopex.util.isValid(t.button)){var s=e(t.button).css("margin-bottom").replace("px",""),l=e(t.button).find(".Button").css("line-height").replace("px","");o=Number(s)+Number(l)}var d=a.find("[data-dialog-scroll=true]");r?d.css("height",n-i-o+"px"):d.css("height",n-i+"px"),d.css("overflow-y","auto")},reposition:function(t){var a=e(t);if(e.alopex.util.isValid(t.top)){var n=(e(window).height()-a.outerHeight())/2;t.style.top=n+10*e.alopex.widget.dialog.dialoglist.length+"px"}if(e.alopex.util.isValid(t.left)){var i=(e(window).width()-a.outerWidth())/2;t.style.left=i+10*e.alopex.widget.dialog.dialoglist.length+"px"}e.alopex.util.isValid(t)&&t.modal&&(t.blocker.style.height=e(document).height()+"px",t.blocker.style.width=e(document).width()+"px")},_reposition:function(t,a){t.preventDefault();var n=e(a);if(!e.alopex.util.isValid(a.top)){var i=(e(window).height()-n.outerHeight())/2;a.style.top=i+10*e.alopex.widget.dialog.dialoglist.length+"px"}if(!e.alopex.util.isValid(a.left)){var r=(e(window).width()-n.outerWidth())/2;a.style.left=r+10*e.alopex.widget.dialog.dialoglist.length+"px"}e.alopex.util.isValid(a)&&a.modal&&(a.blocker.style.height=e(document).height()+"px",a.blocker.style.width=e(document).width()+"px")},_dialogStandardHeight:function(t){return e.alopex.util.isValid(t)?e.alopex.util.isValid(t.height)?t.height:t.originHeight:0},_dialogStandardWidth:function(t){return e.alopex.util.isValid(t)?e.alopex.util.isValid(t.width)?t.width:t.originWidth:0},_dialogStandardMinHeight:function(t){return e.alopex.util.isValid(t)?e.alopex.util.isValid(t.minHeight)?t.minHeight:t.originMinHeight:0},_dialogStandardMinWidth:function(t){return e.alopex.util.isValid(t)?e.alopex.util.isValid(t.minWidth)?t.minWidth:t.originMinWidth:0},_dialogMinusHeight:function(t){var a=0;return t.contents&&e.alopex.util.isValid(t.contents[0])&&("contents"==t.contents[0].getAttribute("class")&&(a=18),"Dialog-contents"==t.contents[0].getAttribute("class")&&(a=14)),a},_dialogHeaderHeight:function(t){return e.alopex.util.isValid(t)&&e.alopex.util.isValid(t.header)?e(t.header).height():0},_dialogScrollValid:function(e){var t=!1;return 1==e.scroll&&(t=!0),e.contents&&"true"===e.contents[0].getAttribute("data-dialog-scroll")&&(t=!0),t},_scrollbarWidth:function(){var t=e("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),a=e("<div>").css({width:"100%"}).appendTo(t).width();return t.remove(),99-a},_dialogResizableValid:function(e){var t=!1;return 1==e.resizable&&(t=!0),!0===e.getAttribute("data-resizable")&&(t=!0),t},id:{value:null,enumerable:!0,configurable:!1,writable:!0}})}(jQuery),function(e){e.alopex.widget.divselect=e.alopex.inherit(e.alopex.widget.object,{widgetName:"divselect",defaultClassName:"af-select Divselect",eventHandlers:{change:{event:"change",handler:"_changeHandler"}},getters:["getValues","getTexts"],setters:["divselect","setPlaceholder","setSelected","clear","refresh","setEnabled","selectionInitialization"],properties:{select:null},markup:function(e){},init:function(t,a){var n=e(t);if("div"==t.tagName.toLowerCase()){var i=e(t);t=(n=i.find(">select"))[0],n.on("focus",function(){i.addClass("ui-state-focus")}),n.on("blur",function(){i.removeClass("ui-state-focus")})}else n.wrap('<div class="af-select-wrapper '+t.className+'" af-dynamic data-select-wrapper="true"></div>'),e(t.parentNode).append("<span></span>"),t.divSelect=t.parentNode;a.placeholder&&this.setPlaceholder(t,a.placeholder);var r=n.find(":selected");if(e.alopex.util.isValid(r[0])){var o=r.text();this._setText(t.parentNode,o),t.divSelect?t.divSelect._value=r.val():t._value=r.val()}},selectionInitialization:function(t){var a=null;"div"==t.tagName.toLowerCase()&&(a=e(t).find(">select")[0]),e.alopex.widget.baseselect.selectionInitialization(a),this.refresh(t)},_changeHandler:function(t){var a;a="select"==t.currentTarget.tagName.toLowerCase()?t.currentTarget.parentNode:t.currentTarget;var n=e(t.currentTarget).find(":selected")[0];if(a._value=e(n).val()?e(n).val().toString():"",a._text=e(n).text()?e(n).text().toString():"",e.alopex.util.isValid(n)){var i=e(n).text();e.alopex.widget.divselect._setText(a,i)}},setPlaceholder:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.setPlaceholder(t,a)},setSelected:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.setSelected(t,a)},refresh:function(t){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.refresh(t)},getValues:function(t){return"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.getValues(t)},getTexts:function(t){return"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.getTexts(t)},clear:function(t){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.clear(t)},setEnabled:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">select")[0]),e.alopex.widget.baseselect.setEnabled(t,a),a?e(t.parentNode).removeClass("af-disabled Disabled"):e(t.parentNode).addClass("af-disabled Disabled")},_setText:function(t,a){a=a||"",e(t).find(">span").text(a)}})}(jQuery),function(e){e.alopex.datePickerMap||(e.alopex.datePickerMap={datePickerObj:{},setObject:function(e,t){this.datePickerObj[e]=t},getObjectByNode:function(t){for(var a=e(t);"af-datepicker"!==a.attr("data-type");)a=a.parent();return this.datePickerObj[a.attr("id")]},getObjectById:function(e){var t="";return t=e.indexOf("datepicker_")<0?"datepicker_"+e:e,this.datePickerObj[t]},removeObjectById:function(e){var t="";t=e.indexOf("datepicker_")<0?"datepicker_"+e:e,delete this.datePickerObj[t]},removeObjectByNode:function(t){for(var a=e(t);"af-datepicker"!==a.attr("data-type");)a=a.parent();delete this.datePickerObj[a.attr("id")]}},e.alopex.datePicker={MONTHS_KO:["1","2","3","4","5","6","7","8","9","10","11","12"],MONTHS_EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MONTHS_JA:["1","2","3","4","5","6","7","8","9","10","11","12"],MONTHS_ZH:["1","2","3","4","5","6","7","8","9","10","11","12"],WEEKDAYS_KO:["일","월","화","수","목","금","토"],WEEKDAYS_EN:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_JA:["日","月","火","水","木","金","土"],WEEKDAYS_ZH:["日","一","二","三","四","五","六"],POSTFIX_KO:["년","월","일"],POSTFIX_EN:["","",""],POSTFIX_JA:["年","月","日"],POSTFIX_ZH:["年","月","日"],DESC_PREVYEAR_KO:"이전년도",DESC_PREVYEAR_EN:"previous year",DESC_PREVYEAR_JA:"前年",DESC_PREVYEAR_ZH:"前一年",DESC_NEXTYEAR_KO:"다음년도",DESC_NEXTYEAR_EN:"next year",DESC_NEXTYEAR_JA:"翌年",DESC_NEXTYEAR_ZH:"明年",DESC_PREVMONTH_KO:"이전 월",DESC_PREVMONTH_EN:"previous month",DESC_PREVMONTH_JA:"先月",DESC_PREVMONTH_ZH:"上个月",DESC_NEXTMONTH_KO:"다음 월",DESC_NEXTMONTH_EN:"next month",DESC_NEXTMONTH_JA:"来月",DESC_NEXTMONTH_ZH:"下个月",DESC_CLOSE_KO:"닫기",DESC_CLOSE_EN:"close",DESC_CLOSE_JA:"終了",DESC_CLOSE_ZH:"关闭",DESC_YEARSELECT_KO:"년도 선택",DESC_YEARSELECT_EN:"year select",DESC_YEARSELECT_JA:"年を選択",DESC_YEARSELECT_ZH:"年份选择",DESC_MONTHSELECT_KO:"월 선택",DESC_MONTHSELECT_EN:"month select",DESC_MONTHSELECT_JA:"月選択",DESC_MONTHSELECT_ZH:"月份选择",DESC_MONTH_SUMMARY_KO:"월을 선택할 수 있는 달력입니다.",DESC_MONTH_SUMMARY_EN:"you can select month.",DESC_MONTH_SUMMARY_JA:"月を 選べるカレンダーです.",DESC_MONTH_SUMMARY_ZH:"选择月份的日历.",DESC_MONTH_CAPTION_KO:"월 달력",DESC_MONTH_CAPTION_EN:"month picker",DESC_MONTH_CAPTION_JA:"月カレンダー",DESC_MONTH_CAPTION_ZH:"月份日历",DESC_DAY_SUMMARY_KO:"날짜를 선택할 수 있는 달력입니다.",DESC_DAY_SUMMARY_EN:"you can select a day.",DESC_DAY_SUMMARY_JA:"日にちを選べるカレンダーです.",DESC_DAY_SUMMARY_ZH:"选择日期的日历.",DESC_DAY_CAPTION_KO:"달력",DESC_DAY_CAPTION_EN:"datepicker",DESC_DAY_CAPTION_JA:"カレンダー",DESC_DAY_CAPTION_ZH:"日历",DESC_TODAY_BTN_KO:"오늘",DESC_TODAY_BTN_EN:"Today",DESC_TODAY_BTN_JA:"今日",DESC_TODAY_BTN_ZH:"今天",currentDate:null,weekdays:[],months:[],format:"yyyy-MM-dd",datePostfix:[],certainDates:[],mindate:null,maxdate:null,descPrevYear:null,descNextYear:null,descPrevMonth:null,descNextMonth:null,descClose:null,descYearSelect:null,descMonthSelect:null,descMonthSummary:null,descMonthCaption:null,descDaySummary:null,descDayCaption:null,descTodayBtn:null,daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],calendarBody:null,calendarMonth:null,calendarYear:null,prevMonth:null,nextMonth:null,prevYear:null,nextYear:null,btn_close:null,_renderCache:[],targetElem:null,_callback:null,closeCallback:null,calendarContainer:null,datePickerTheme:"af-default",datePickerInlineTheme:"af-inline Inline",currentArea:null,inline:!1,pickertype:"daily",selectyear:!1,selectmonth:!1,showothermonth:!1,showbottom:!1,bottomdate:null,weekperiod:1,defaultdate:!0,position:"left|bottom",setDefaultDate:function(t){try{if(this.currentDate=new Date,e.alopex.util.isValid(t)&&t.hasOwnProperty("defaultdate")&&(this.defaultdate=t.defaultdate),e.alopex.util.isValid(t)&&t.hasOwnProperty("date")){var a=t.date;if(a instanceof Date)this.currentDate=a;else{if(!e.alopex.util.isValid(a.year)||!e.alopex.util.isNumberType(a.year)||a.year<1900||a.year>2100||!e.alopex.util.isValid(a.month)||!e.alopex.util.isNumberType(a.month)||a.month<1||a.month>12||!e.alopex.util.isValid(a.day)||!e.alopex.util.isNumberType(a.day)||a.day>31||a.day<1)throw"[DatePicker Error] Invalid Date => "+a.year+"-"+a.month+"-"+a.day;this.currentDate=new Date(a.year,a.month-1,a.day)}}}catch(e){}},setFormat:function(t){var a=e.alopex.datePicker.format;if(e.alopex.util.isValid(t)&&t.hasOwnProperty("format")&&e.alopex.util.isValid(t.format)){/[Y|m|D|e]/g.test(t.format)||(a=t.format)}this.format=a},setLocale:function(t){var a="ko";e.alopex.util.isValid(e.alopex.config.locale)&&(a=e.alopex.config.locale),e.alopex.util.isValid(this.locale)&&(a=this.locale),e.alopex.util.isValid(t)&&t.hasOwnProperty("locale")&&(a=t.locale),a=a.toLowerCase();var n=e.alopex.config.language[a].datepicker;this.weekdays=n.weekdays,this.months=n.months,this.datePostfix=n.datePostfix,this.descPrevYear=n.descPrevYear,this.descNextYear=n.descNextYear,this.descPrevMonth=n.descPrevMonth,this.descNextMonth=n.descNextMonth,this.descClose=n.descClose,this.descYearSelect=n.descYearSelect,this.descMonthSelect=n.descMonthSelect,this.descMonthSummary=n.descMonthSummary,this.descMonthCaption=n.descMonthCaption,this.descDaySummary=n.descDaySummary,this.descDayCaption=n.descDayCaption,this.descTodayBtn=n.descTodayBtn,this.localeInfo=a,this.locale=this.localeInfo},setCertainDates:function(t){e.alopex.util.isValid(t)&&t.hasOwnProperty("certainDates")&&(this.certainDates=t.certainDates)},setThemeClass:function(t){e.alopex.util.isValid(t)&&t.hasOwnProperty("themeClass")&&(this.datePickerTheme=t.themeClass)},setInline:function(t){e.alopex.util.isValid(t)&&t.hasOwnProperty("inline")&&(this.inline=t.inline)},setMenuSelect:function(t){e.alopex.util.isValid(t)&&(t.hasOwnProperty("selectyear")||t.hasOwnProperty("selectmonth")||t.hasOwnProperty("selectYear")||t.hasOwnProperty("selectMonth"))&&(this.selectyear=t.selectyear||t.selectYear,this.selectmonth=t.selectmonth||t.selectMonth)},setPickerType:function(t){e.alopex.util.isValid(t)&&(t.hasOwnProperty("pickertype")||t.hasOwnProperty("pickerType"))&&(this.pickertype=t.pickertype||t.pickerType)},setShowOtherMonth:function(t){e.alopex.util.isValid(t)&&(t.hasOwnProperty("showOtherMonth")||t.hasOwnProperty("showOthermonth")||t.hasOwnProperty("showotherMonth")||t.hasOwnProperty("showothermonth"))&&(this.showothermonth=t.showOtherMonth||t.showOthermonth||t.showotherMonth||t.showothermonth)},setShowBottom:function(t){e.alopex.util.isValid(t)&&(t.hasOwnProperty("showBottom")||t.hasOwnProperty("showbottom"))&&(this.showbottom=t.showBottom||t.showbottom)},setBottomDate:function(t){e.alopex.util.isValid(t)&&(t.hasOwnProperty("bottomDate")||t.hasOwnProperty("bottomdate"))&&(this.bottomdate=t.bottomDate||t.bottomdate)},setWeekPeriod:function(t){e.alopex.util.isValid(t)&&(t.hasOwnProperty("weekPeriod")||t.hasOwnProperty("weekperiod"))&&(this.weekperiod=t.weekPeriod||t.weekperiod)},setCloseCallback:function(t){e.alopex.util.isValid(t)&&t.hasOwnProperty("closeCallback")&&(this.closeCallback=t.closeCallback)},setMinDate:function(t){var a=new Date;e.alopex.util.isValid(t)&&(e.alopex.util.isValid(t.mindate)||e.alopex.util.isValid(t.minDate))?(this.mindate=t.mindate||t.minDate,this.mindate.setHours(0),this.mindate.setMinutes(0),this.mindate.setMilliseconds(0)):this.selectyear?this.mindate=new Date(a.getFullYear()-10,0,1,0,0,0):this.mindate=new Date(a.getFullYear()-100,0,1,0,0,0)},setMaxDate:function(t){var a=new Date;e.alopex.util.isValid(t)&&(e.alopex.util.isValid(t.maxdate)||e.alopex.util.isValid(t.maxDate))?(this.maxdate=t.maxdate||t.maxDate,this.maxdate.setHours(0),this.maxdate.setMinutes(0),this.maxdate.setMilliseconds(0)):this.selectyear?this.maxdate=new Date(a.getFullYear()+10,11,31,0,0,0):this.maxdate=new Date(a.getFullYear()+100,11,31,0,0,0),this.maxdate<this.mindate&&(this.selectyear?(this.mindate=new Date(a.getFullYear()-10,0,1,0,0,0),this.maxdate=new Date(a.getFullYear()+10,11,31,0,0,0)):(this.mindate=new Date(a.getFullYear()-100,0,1,0,0,0),this.maxdate=new Date(a.getFullYear()+100,11,31,0,0,0)))},_isCertainDate:function(e){for(var t=0;t<this.certainDates.length;t++)for(var a=this.certainDates[t],n=0;n<a.dates.length;n++)if(this.currentYearView===a.dates[n].getFullYear()&&this.currentMonthView===a.dates[n].getMonth()&&Number(e)===a.dates[n].getDate())return a;return!1},_isCertainDateOtherMonth:function(e,t){if(t){for(var a=0;a<this.certainDates.length;a++)for(var n=this.certainDates[a],i=0;i<n.dates.length;i++)if(this.currentYearView===n.dates[i].getFullYear()&&this.currentMonthView-1===n.dates[i].getMonth()&&Number(e)===n.dates[i].getDate())return n}else for(a=0;a<this.certainDates.length;a++)for(n=this.certainDates[a],i=0;i<n.dates.length;i++)if(this.currentYearView===n.dates[i].getFullYear()&&this.currentMonthView+1===n.dates[i].getMonth()&&Number(e)===n.dates[i].getDate())return n;return!1},_isBelowMinDate:function(e){return(1===arguments.length?new Date(this.currentYearView,this.currentMonthView,e,0,0,0):new Date(this.currentYearView,arguments[0],arguments[1],0,0,0))<this.mindate},_isBelowMinDateOtherMonth:function(e,t){return(t?new Date(this.currentYearView,this.currentMonthView-1,e,0,0,0):new Date(this.currentYearView,this.currentMonthView+1,e,0,0,0))<this.mindate},_isAboveMaxDate:function(e){var t;return t=1===arguments.length?new Date(this.currentYearView,this.currentMonthView,e,0,0,0):new Date(this.currentYearView,arguments[0],arguments[1],0,0,0),this.maxdate<t},_isAboveMaxDateOtherMonth:function(e,t){var a;return a=t?new Date(this.currentYearView,this.currentMonthView-1,e,0,0,0):new Date(this.currentYearView,this.currentMonthView+1,e,0,0,0),this.maxdate<a},getDateByFormat:function(t,a,n,i){var r={year:t.year+"",month:t.month+"",day:t.day+""},o=this._getFormattedDate(t,a);this._callback(r,o,n.name,n,i),e.alopex.util.isValid(this.closeCallback)&&this.closeCallback()},getWeekDateByFormat:function(t,a,n,i){var r={startdate:{year:t[0].year+"",month:t[0].month+"",day:t[0].day+""},enddate:{year:t[1].year+"",month:t[1].month+"",day:t[1].day+""}},o={startdate:this._getFormattedDate(r.startdate,a),enddate:this._getFormattedDate(r.enddate,a)};this._callback(r,o,n.name,n,i),e.alopex.util.isValid(this.closeCallback)&&this.closeCallback()},_getFormattedDate:function(t,a){var n="",i=new Date(t.year,t.month-1,t.day),r=0,o=0,s=0,l=0,d=0,c=[],p=[],u=[];e.alopex.util.isValid(a)||(a="yyyyMMdd");var h=a.split(""),f="";function g(e){return"y"===e||"M"===e||"d"===e||"E"===e||void 0===e||null===e||""===e}for(;r<h.length;)"y"===h[r]?(r+=o=a.split("y").length-1,p.push("y-"+o),g(h[r])&&c.push("")):"M"===h[r]?(r+=s=a.split("M").length-1,p.push("M-"+s),g(h[r])&&c.push("")):"d"===h[r]?(r+=l=a.split("d").length-1,p.push("d-"+l),g(h[r])&&c.push("")):"E"===h[r]?(r+=d=a.split("E").length-1,p.push("E-"+d),g(h[r])&&c.push("")):(f+=h[r],g(h[r+1])&&(c.push(f),f=""),r++);for(r=0;r<p.length;r++){var m=p[r].split("-");switch(m[0]){case"y":var v=i.getFullYear();"2"===m[1]?u.push(v.toString().substring(2,4)):(m[1],u.push(v.toString()));break;case"M":var x=i.getMonth();"1"===m[1]?u.push(x+1):"2"===m[1]?u.push(x+1<10?"0"+(x+1):x+1):"3"===m[1]?u.push(this._monthToStr(x,!1)):"4"===m[1]?u.push(this._monthToStr(x,!0)):u.push(x+1<10?"0"+(x+1):x+1);break;case"d":if("monthly"==this.pickertype)break;var b=i.getDate();"1"===m[1]?u.push(b):(m[1],u.push(b<10?"0"+b:b));break;case"E":var w=i.getDay();"3"===m[1]?u.push(this._dayToStr(w,!1)):"4"===m[1]?u.push(this._dayToStr(w,!0)):u.push(this._dayToStr(w,!1))}}for(r=0;r<u.length;r++)n+=u[r],0!==c.length&&r<=c.length&&(n+=c[r]);return n},_close:function(t){var a=null;e.alopex.util.isValid(t)?((a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget)).overlayElement&&setTimeout(function(){e(a.overlayElement).remove()},300),a.inline||(e(a.targetElem).focus(),e(a.calendarContainer).remove(),e.alopex.datePickerMap.removeObjectByNode(t.currentTarget))):((a=this).overlayElement&&setTimeout(function(){e(a.overlayElement).remove()},300),a.inline||(e(a.targetElem).focus(),e(a.calendarContainer).remove(),e.alopex.datePickerMap.removeObjectById(a.calendarContainerId))),e(window).unbind("hashchange",a._onHashChange),e(window).unbind("resize",a._resizeHandler),e(document.body).unbind("pressed",a._mouseDownHandler),e(document.body).unbind("keydown",a._addKeyEvent)},_addKeyEvent:function(t){var a,n,i=t.data.obj,r=!1,o=!1;switch(i.currentArea=e(document.activeElement),a=e(i.currentArea)[0].value,t.ctrlKey&&(r=!0),t.shiftKey&&(o=!0),t.keyCode?t.keyCode:t.which){case 13:case 32:e(i.currentArea).trigger("click"),"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")&&e(i.targetElem).focus(),t.preventDefault(),t.stopPropagation();break;case 9:o?"af-datepicker"===e(i.currentArea).attr("data-type")&&(e(i.targetElem).focus(),i._close(),t.preventDefault()):"close"===e(i.currentArea)[0].value&&(e(i.calendarContainer).focus(),t.preventDefault());break;case 37:"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"close"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")||(i.currentArea=e(i.calendarContainer).find("a.af-today"),a=void 0==e(i.currentArea)[0]?2:e(i.currentArea)[0].value),a-1<=0?(e(i.prevMonth).trigger("click"),n=i._getNumDaysOfMonth()):n=a-1,i.currentArea=e(i.calendarContainer).find('[href="#'+n+'"]'),e(i.currentArea).focus(),t.preventDefault();break;case 39:"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"close"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")||(i.currentArea=e(i.calendarContainer).find("a.af-today"),a=void 0==e(i.currentArea)[0]?0:e(i.currentArea)[0].value),a+1>i._getNumDaysOfMonth()?(e(i.nextMonth).trigger("click"),n=1):n=a+1,i.currentArea=e(i.calendarContainer).find('[href="#'+n+'"]'),e(i.currentArea).focus(),t.preventDefault();break;case 38:if("SELECT"===t.target.nodeName)return;"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"close"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")||(i.currentArea=e(i.calendarContainer).find("a.af-today"),a=void 0==e(i.currentArea)[0]?8:e(i.currentArea)[0].value),a-7<=0?(e(i.prevMonth).trigger("click"),n=i._getNumDaysOfMonth()+(a-7)):n=a-7,i.currentArea=e(i.calendarContainer).find('[href="#'+n+'"]'),e(i.currentArea).focus(),t.preventDefault();break;case 40:if("SELECT"===t.target.nodeName)return;"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"close"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")||(i.currentArea=e(i.calendarContainer).find("a.af-today"),a=void 0==e(i.currentArea)[0]?-6:e(i.currentArea)[0].value),a+7>i._getNumDaysOfMonth()?(n=a+7-i._getNumDaysOfMonth(),e(i.nextMonth).trigger("click")):n=a+7,i.currentArea=e(i.calendarContainer).find('[href="#'+n+'"]'),e(i.currentArea).focus(),t.preventDefault();break;case 27:e(i.targetElem).focus(),i._close(),t.preventDefault();break;case 36:if(r){for(i.currentYearView=i._getCurrentYear(),i.currentMonthView=i._getCurrentMonthToInteger(),i.setText(i.calendarYear,i._addLocalePostfix(i.currentYearView,"y")),i.setText(i.calendarMonth,i._addLocalePostfix(i._getMonthToString(!0),"m"));i.calendarBody.hasChildNodes();)i.calendarBody.removeChild(i.calendarBody.lastChild);i.calendarBody.appendChild(i._renderCalendar()),i.currentArea=e(i.calendarContainer).find("a.af-today"),e(i.currentArea).focus()}else i.currentArea=e(i.calendarContainer).find('[href="#1"]'),e(i.currentArea).focus();t.preventDefault();break;case 35:i.currentArea=e(i.calendarContainer).find('[href="#'+i._getNumDaysOfMonth()+'"]'),e(i.currentArea).focus(),t.preventDefault();break;case 33:"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"close"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")||(i.currentArea=e(i.calendarContainer).find("a.af-today"),a=e(i.currentArea)[0].value),o?(e(i.prevYear).trigger("click"),n=1===i.currentMonthView&&29===a?28:a):(e(i.prevMonth).trigger("click"),n=i._getNumDaysOfMonth()<a?i._getNumDaysOfMonth():a),i.currentArea=e(i.calendarContainer).find('[href="#'+n+'"]'),e(i.currentArea).focus(),t.preventDefault();break;case 34:"prevYear"!==a&&"nextYear"!==a&&"prevMonth"!==a&&"nextMonth"!==a&&"close"!==a&&"af-datepicker"!==e(i.currentArea).attr("data-type")||(i.currentArea=e(i.calendarContainer).find("a.af-today"),a=e(i.currentArea)[0].value),o?(e(i.nextYear).trigger("click"),n=1===i.currentMonthView&&29===a?28:a):(e(i.nextMonth).trigger("click"),n=i._getNumDaysOfMonth()<a?i._getNumDaysOfMonth():a),i.currentArea=e(i.calendarContainer).find('[href="#'+n+'"]'),e(i.currentArea).focus(),t.preventDefault();break;default:r||o||(e(i.targetElem).focus(),i._close())}},_addLocalePostfix:function(e,t){var a=e+"";switch(t){case"y":a+=this.datePostfix[0];break;case"m":a+=this.datePostfix[1];break;case"d":a+=this.datePostfix[2]}return a},_getCurrentYear:function(){return this.currentDate.getFullYear()},_getCurrentMonthToInteger:function(){return this.currentDate.getMonth()},_getCurrentMonthToString:function(e){var t=this.currentDate.getMonth();return this._monthToStr(t,e)},_getCurrentDay:function(){return this.currentDate.getDate()},_getMonthToInteger:function(){return this.currentMonthView},_getMonthToString:function(e){var t=this.currentMonthView;return this._monthToStr(t,e)},_getNumDaysOfMonth:function(t,a){return e.alopex.util.isValid(t)&&e.alopex.util.isValid(a)?1!==a||3&t||!(t%100)&&t%400?this.daysInMonth[a]:29:1!==this._getMonthToInteger()||3&this.currentYearView||!(this.currentYearView%100)&&this.currentYearView%400?this.daysInMonth[this._getMonthToInteger()]:29},_render:function(e,t,a){var n;if(e in this._renderCache||(this._renderCache[e]=document.createElement(e)),n=this._renderCache[e].cloneNode(!1),null!==t)for(var i in t)n[i]=t[i];return null!==a&&void 0!==a&&("object"==typeof a?n.appendChild(a):n.innerHTML=a),n},_monthToStr:function(e,t){return!0===t?this.months[e]:this.months[e].length>3?this.months[e].substring(0,3):this.months[e]},_dayToStr:function(e,t){return!0===t?this.weekdays[e]:this.weekdays[e].length>3?this.weekdays[e].substring(0,3):this.weekdays[e]},_clickYear:function(){for(this.currentYearView<1900?this.currentYearView=1900:this.currentYearView>2100&&(this.currentYearView=2100),this.currentYearView===this.mindate.getFullYear()&&this.currentMonthView<this.mindate.getMonth()&&(this.currentMonthView=this.mindate.getMonth()),this.currentYearView===this.maxdate.getFullYear()&&this.maxdate.getMonth()<this.currentMonthView&&(this.currentMonthView=this.maxdate.getMonth()),this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.calendarMonth&&this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));this.calendarBody.hasChildNodes();)this.calendarBody.removeChild(this.calendarBody.lastChild);return"daily"===this.pickertype||"weekly"===this.pickertype?this.calendarBody.appendChild(this._renderCalendar()):"monthly"===this.pickertype&&this.calendarBody.appendChild(this._renderMonth()),!1},setText:function(t,a){"input"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase()?e(t).val(a):e(t).text(a)},_clickMonth:function(){for(this.currentMonthView<0?(this.currentYearView--,this.currentYearView<1900&&(this.currentYearView=1900),this.currentMonthView=11,this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"))):this.currentMonthView>11?(this.currentYearView++,this.currentYearView>2100&&(this.currentYearView=2100),this.currentMonthView=0,this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"))):this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));this.calendarBody.hasChildNodes();)this.calendarBody.removeChild(this.calendarBody.lastChild);return this.calendarBody.appendChild(this._renderCalendar()),!1},_bindYearHandler:function(){var t=this;e(t.prevYear).unbind("click"),e(t.nextYear).unbind("click"),e(t.prevYear).children().unbind("focus"),e(t.prevYear).children().unbind("focusout"),e(t.nextYear).children().unbind("focus"),e(t.nextYear).children().unbind("focusout"),t.mindate.getFullYear()===t.currentYearView?e.alopex.widget.object._addDisabledStyle(e(t.prevYear).children()):(e.alopex.widget.object._removeDisabledStyle(e(t.prevYear).children()),e(t.prevYear).bind("click",function(t){var a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget);return a.currentYearView--,a._clickYear()}),e(t.prevYear).children().bind("focus",function(t){e(this).trigger("hoverstart")}),e(t.prevYear).children().bind("focusout",function(t){e(this).trigger("hoverend")}),e.alopex.widget.object.addPressHighlight(e(t.prevYear).children()[0]),e.alopex.widget.object.addHoverHighlight(e(t.prevYear).children()[0])),this.maxdate.getFullYear()===this.currentYearView?e.alopex.widget.object._addDisabledStyle(e(t.nextYear).children()):(e.alopex.widget.object._removeDisabledStyle(e(t.nextYear).children()),e(t.nextYear).bind("click",function(t){var a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget);return a.currentYearView++,a._clickYear()}),e(t.nextYear).children().bind("focus",function(t){e(this).trigger("hoverstart")}),e(t.nextYear).children().bind("focusout",function(t){e(this).trigger("hoverend")}),e.alopex.widget.object.addPressHighlight(e(t.nextYear).children()[0]),e.alopex.widget.object.addHoverHighlight(e(t.nextYear).children()[0]))},_bindMonthHandler:function(){var t=this;"daily"!==this.pickertype&&"weekly"!==this.pickertype||(e(t.prevMonth).unbind("click"),e(t.nextMonth).unbind("click"),e(t.prevMonth).children().unbind("focus"),e(t.prevMonth).children().unbind("focusout"),e(t.nextMonth).children().unbind("focus"),e(t.nextMonth).children().unbind("focusout"),this.mindate.getMonth()===this.currentMonthView&&this.mindate.getFullYear()===this.currentYearView?e.alopex.widget.object._addDisabledStyle(e(t.prevMonth).children()):(e.alopex.widget.object._removeDisabledStyle(e(t.prevMonth).children()),e(t.prevMonth).bind("click",function(t){var a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget);return a.currentMonthView--,a._clickMonth()}),e(t.prevMonth).children().bind("focus",function(t){e(this).trigger("hoverstart")}),e(t.prevMonth).children().bind("focusout",function(t){e(this).trigger("hoverend")}),e.alopex.widget.object.addPressHighlight(e(t.prevMonth).children()[0]),e.alopex.widget.object.addHoverHighlight(e(t.prevMonth).children()[0])),this.maxdate.getMonth()===this.currentMonthView&&this.maxdate.getFullYear()===this.currentYearView?e.alopex.widget.object._addDisabledStyle(e(t.nextMonth).children()):(e.alopex.widget.object._removeDisabledStyle(e(t.nextMonth).children()),e(t.nextMonth).bind("click",function(t){var a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget);return a.currentMonthView++,a._clickMonth()}),e(t.nextMonth).children().bind("focus",function(t){e(this).trigger("hoverstart")}),e(t.nextMonth).children().bind("focusout",function(t){e(this).trigger("hoverend")}),e.alopex.widget.object.addPressHighlight(e(t.nextMonth).children()[0]),e.alopex.widget.object.addHoverHighlight(e(t.nextMonth).children()[0])))},_bindDayHandler:function(){var t=this;function a(e){return""!==e.innerHTML&&-1===e.className.indexOf("af-disabled Disabled")}function n(t){if(!a(t.currentTarget))return!1;e(this).trigger("hoverstart")}function i(t){if(!a(t.currentTarget))return!1;e(this).trigger("hoverend")}function r(n){if(!a(n.currentTarget))return n.preventDefault(),n.stopPropagation(),!1;var i,r=e.alopex.datePickerMap.getObjectByNode(n.currentTarget),o=[];"daily"===r.pickertype?i=1==e(n.currentTarget).attr("href").indexOf("next")?{year:r.currentYearView,month:r.currentMonthView+2,day:this.innerHTML}:1==e(n.currentTarget).attr("href").indexOf("prev")?{year:r.currentYearView,month:r.currentMonthView,day:this.innerHTML}:{year:r.currentYearView,month:r.currentMonthView+1,day:this.innerHTML}:"monthly"===r.pickertype?i={year:r.currentYearView,month:this.month,day:1}:"weekly"===r.pickertype&&(1==e(this).find("a").eq(0).attr("href").indexOf("prev")?o.push({year:r.currentYearView,month:r.currentMonthView,day:e(this).find("a").eq(0).text()}):o.push({year:r.currentYearView,month:r.currentMonthView+1,day:e(this).find("a").eq(0).text()}),1==e(this).find("a").eq(6).attr("href").indexOf("next")?o.push({year:r.currentYearView,month:r.currentMonthView+2,day:e(this).find("a").eq(6).text()}):o.push({year:r.currentYearView,month:r.currentMonthView+1,day:e(this).find("a").eq(6).text()})),n.preventDefault(),n.stopPropagation();var s=!0;if("weekly"===r.pickertype){for(var l=0;l<e(this).find("a").length&&!(s=t._isCertainDate(e(this).find("a").eq(l).text()));l++);s?r.getWeekDateByFormat(o,r.format,s,n):r.getWeekDateByFormat(o,r.format,!1,n)}else(s=t._isCertainDate(this.innerHTML))?r.getDateByFormat(i,r.format,s,n):r.getDateByFormat(i,r.format,!1,n);return r.inline||s&&!s.isClickToClose||r._close(n),!1}"weekly"===this.pickertype?(e(this.calendarBody).on("focus","tr",n),e(this.calendarBody).on("focusout","tr",i),e(this.calendarBody).on("click","tr",r),e(this.calendarBody).on("click","tr",function(e){return!1}),e.alopex.widget.object.addPressHighlight(this.calendarBody,"tr"),e.alopex.widget.object.addHoverHighlight(this.calendarBody,"tr")):(e(this.calendarBody).on("focus","a",n),e(this.calendarBody).on("focusout","a",i),e(this.calendarBody).on("click","a",r),e(this.calendarBody).on("click","a",function(e){return!1}),e.alopex.widget.object.addPressHighlight(this.calendarBody,"a"),e.alopex.widget.object.addHoverHighlight(this.calendarBody,"a"))},_renderWeekdays:function(){for(var e=this,t=document.createDocumentFragment(),a=0;a<e.weekdays.length;a++)0===a?t.appendChild(e._render("th",{className:"af-datepicker-weekdays holiday Weekdays Holiday"},e.weekdays[a].substring(0,3))):0!==a&&a%6==0?t.appendChild(e._render("th",{className:"af-datepicker-weekdays saturday Weekdays Sat"},e.weekdays[a].substring(0,3))):t.appendChild(e._render("th",{className:"af-datepicker-weekdays Weekdays"},e.weekdays[a].substring(0,3)));return t},_renderQtrly:function(){return""},_renderMonth:function(){for(var t,a=0,n=0,i=document.createDocumentFragment();a<3;a++){var r=this._render("tr",{className:"af-datepicker-tableRow Row"},"");for(n=0;n<4;n++){t=4*a+n;var o=this._render("a",{month:t+1,className:"af-datepicker-month Month"+(this._getCurrentMonthToInteger()==t?" af-today Today":""),href:"#"+(a+n+1)},this._addLocalePostfix(this._monthToStr(t,!0),"m"));(this._isBelowMinDate(t,1)||this._isAboveMaxDate(t,1))&&(e.alopex.widget.object._addDisabledStyle(o),e(o).attr("tabindex","-1")),r.appendChild(this._render("td",{className:"af-datepicker-tableCell Cell"},o))}i.appendChild(r)}return this._bindYearHandler(),this._bindMonthHandler(),i},_renderCalendar:function(){var t,a,n=new Date(this.currentYearView,this.currentMonthView,1).getDay(),i=this._getNumDaysOfMonth(),r=0,o=document.createDocumentFragment(),s=this._render("tr");if(this.showothermonth){var l=this.currentYearView,d=this.currentMonthView-1;-1===d&&(d=11,l-=1);var c=this._getNumDaysOfMonth(l,d)-n+1;for(a=1;a<=n;a++){t=this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:"af-datepicker-prev-month-day PrevMonthDay",value:c,href:"#prev"+c},c)),(p=this._isCertainDateOtherMonth(c,!0))&&(e(t).children().addClass(p.styleClass),e(t).children().attr("title",p.title)),(this._isBelowMinDateOtherMonth(c,!0)||this._isAboveMaxDateOtherMonth(c,!0))&&(e.alopex.widget.object._addDisabledStyle(e(t).children()),e(t).children().attr("tabindex","-1")),s.appendChild(t),c++,r++}}else for(a=1;a<=n;a++)s.appendChild(this._render("td",{className:"af-datepicker-tableCell Cell"},"&nbsp;")),r++;for(a=1;a<=i;a++){7===r&&(o.appendChild(s),s=this._render("tr"),r=0),t=0===r?this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:a===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today Day Today":"af-datepicker-day holiday Day Holiday",value:a,href:"#"+a},a)):6===r?this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:a===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today Day Today":"af-datepicker-day saturday Day Sat",value:a,href:"#"+a},a)):this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:a===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today Day Today":"af-datepicker-day Day",value:a,href:"#"+a},a)),(p=this._isCertainDate(a))&&(e(t).children().addClass(p.styleClass),e(t).children().attr("title",p.title)),(this._isBelowMinDate(a)||this._isAboveMaxDate(a))&&(e.alopex.widget.object._addDisabledStyle(e(t).children()),e(t).children().attr("tabindex","-1")),s.appendChild(t),r++}if(this.showothermonth)for(a=1;a<=7-r;a++){var p;t=this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:"af-datepicker-next-month-day NextMonthDay",value:a,href:"#next"+a},a)),(p=this._isCertainDateOtherMonth(a,!1))&&(e(t).children().addClass(p.styleClass),e(t).children().attr("title",p.title)),(this._isBelowMinDateOtherMonth(a,!1)||this._isAboveMaxDateOtherMonth(a,!1))&&(e.alopex.widget.object._addDisabledStyle(e(t).children()),e(t).children().attr("tabindex","-1")),s.appendChild(t)}else for(a=1;a<=7-r;a++)s.appendChild(this._render("td",{className:"af-datepicker-tableCell Cell"},"&nbsp;"));return o.appendChild(s),this._bindYearHandler(),this._bindMonthHandler(),o},_renderBottom:function(t){var a=this._render("div",{className:"af-datepicker-bottom Bottom"}),n=this._render("div",{className:"af-datepicker-childbottom ChildBottom"});a.appendChild(n);var i=this._render("button",{className:"af-datepicker-bottom-button BottomButton"},this.descTodayBtn);n.appendChild(i);var r={};if(e.alopex.util.isValid(t))r={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()};else{var o=new Date;r={year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate()}}var s=this._render("span",{className:"af-datepicker-bottom-text BottomText"},this._getFormattedDate(r,this.format));return n.appendChild(s),e(i).bind("click",function(a){var n=e.alopex.datePickerMap.getObjectByNode(a.currentTarget),i={};if(a.preventDefault(),a.stopPropagation(),e.alopex.util.isValid(t))i={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()};else{var r=new Date;i={year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate()}}return n.getDateByFormat(i,n.format,!1),n.inline||n._close(a),!1}),a},_initialise:function(t){var a=this;this.currentDate<this.mindate?(this.currentYearView=this.mindate.getFullYear(),this.currentMonthView=this.mindate.getMonth()):this.currentDate>this.maxdate?(this.currentYearView=this.maxdate.getFullYear(),this.currentMonthView=this.maxdate.getMonth()):(this.currentYearView=this._getCurrentYear(),this.currentMonthView=this._getCurrentMonthToInteger()),this.calendarContainer=this._render("div",{className:"af-datepicker Datepicker"}),"weekly"===this.pickertype&&e(this.calendarContainer).addClass("Weekly"),e(this.calendarContainer).attr("data-type","af-datepicker"),this.inline&&(e(this.calendarContainer).attr("data-datepicker-inline","true"),e(this.calendarContainer).addClass(this.datePickerInlineTheme)),e(this.calendarContainer).addClass(this.datePickerTheme),this.calendarContainer.id=this.calendarContainerId;var n=this._render("div",{className:"af-datepicker-header Header"}),i=this._render("div",{className:"daily"===this.pickertype||"weekly"===this.pickertype?"af-subHeader-year SubheaderYear":"af-subHeader-year-wide SubheaderYearWide"}),r=this._render("div",{className:"af-subHeader-month SubheaderMonth"});if(this.prevYear=this._render("span",{className:"af-prev-year PrevYear"},this._render("a",{className:"af-datepicker-control Control",value:"prevYear",title:this.descPrevYear},"")),this.selectyear){for(var o="",s=this.currentYearView,l=null===this.mindate?s-10:this.mindate.getFullYear(),d=null===this.maxdate?s+10:this.maxdate.getFullYear(),c=l;c<=d;c++)o+="<option",c===s&&(o+=" selected"),o+=">"+this._addLocalePostfix(""+c,"y")+"</option>";this.calendarYear=this._render("select",{className:"af-current-year-select CurrentYearSelect",title:this.descYearSelect},""),e(this.calendarYear).append(o),e(this.calendarYear).bind("change",function(t){var a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget);return a.currentYearView=parseInt(e(t.currentTarget).val(),10),a._clickYear()})}else this.calendarYear=this._render("span",{className:"af-current-year CurrentYear"},this._addLocalePostfix(this.currentYearView,"y"));if(this.nextYear=this._render("span",{className:"af-next-year NextYear"},this._render("a",{className:"af-datepicker-control Control",value:"nextYear",title:this.descNextYear},"")),i.appendChild(this.prevYear),i.appendChild(this.nextYear),i.appendChild(this.calendarYear),n.appendChild(i),"daily"===this.pickertype||"weekly"===this.pickertype){if(this.prevMonth=this._render("span",{className:"af-prev-month PrevMonth"},this._render("a",{className:"af-datepicker-control Control",value:"prevMonth",title:this.descPrevMonth},"")),this.selectmonth){for(o="",c=1;c<=12;c++)o+="<option",this.months[c-1]===this._getMonthToString(!0)&&(o+=" selected"),o+=">"+this._addLocalePostfix(""+this.months[c-1],"m")+"</option>";this.calendarMonth=this._render("select",{className:"af-current-month-select CurrentMonthSelect",title:this.descMonthSelect},""),e(this.calendarMonth).append(o),e(this.calendarMonth).bind("change",function(t){var a=e.alopex.datePickerMap.getObjectByNode(t.currentTarget);return"en"===a.localeInfo?a.currentMonthView=e.inArray(e(t.currentTarget).val(),a.months):a.currentMonthView=parseInt(e(t.currentTarget).val(),10)-1,a._clickMonth()})}else this.calendarMonth=this._render("span",{className:"af-current-month CurrentMonth"},this._addLocalePostfix(this._getMonthToString(!0),"m"));this.nextMonth=this._render("span",{className:"af-next-month NextMonth"},this._render("a",{className:"af-datepicker-control Control",value:"nextMonth",title:this.descNextMonth},"")),r.appendChild(this.prevMonth),r.appendChild(this.nextMonth),r.appendChild(this.calendarMonth),n.appendChild(r)}if(this.calendarContainer.appendChild(n),this.inline||(this.btn_close=this._render("span",{className:"af-btn-close BtnClose"},this._render("a",{className:"af-datepicker-control Control",value:"close",title:this.descClose},"")),e(this.btn_close).children().bind("click",function(e){return e.preventDefault(),e.stopPropagation(),a._close(e),!1}),e(this.btn_close).children().bind("focus",function(t){e(this).trigger("hoverstart")}),e(this.btn_close).children().bind("focusout",function(t){e(this).trigger("hoverend")}),e.alopex.widget.object.addPressHighlight(e(this.btn_close).children()[0]),e.alopex.widget.object.addHoverHighlight(e(this.btn_close).children()[0])),"monthly"===this.pickertype){var p=this._render("table",{summary:this.descMonthSummary});(h=this._render("span",{},this.descMonthCaption)).style.cssText="visibility:hidden;overflow:hidden;position:absolute;top:0;left:0;width:0;height:0;font-size:0;line-height:0;";var u=this._render("caption",{},h);p.appendChild(u),this.calendarBody=this._render("tbody",{},""),this.calendarBody.appendChild(this._renderMonth()),p.appendChild(this.calendarBody),this.calendarContainer.appendChild(p)}else if("quarterly"===this.pickertype);else{var h;p=this._render("table",{summary:this.descDaySummary});(h=this._render("span",{},this.descDayCaption)).style.cssText="visibility:hidden;overflow:hidden;position:absolute;top:0;left:0;width:0;height:0;font-size:0;line-height:0;";u=this._render("caption",{},h);p.appendChild(u);var f=this._render("thead",{},this._render("tr",{},this._renderWeekdays()));if(p.appendChild(f),this.calendarBody=this._render("tbody",{},this._renderCalendar()),p.appendChild(this.calendarBody),this.calendarContainer.appendChild(p),this.showbottom){var g=this._renderBottom(this.bottomdate);this.calendarContainer.appendChild(g)}}this.inline||this.calendarContainer.appendChild(this.btn_close),this.inline?e(this.targetElem).append(this.calendarContainer):e("body").append(this.calendarContainer),e.alopex.util.isValid(t)?e.alopex.util.isValid(t.postionRight)?1==t.postionRight?this._setPostionRight(this):this._setPosition(this):e.alopex.util.isValid(t.position)?(this.position=t.position,this._setPosition(this,t.position)):this._setPosition(this):this._setPosition(this)},_setPostionRight:function(t){if(!t.inline){var a=e.alopex.widget.dialog,n=1200;if(null!==a&&window.afDialogNumber>0&&(n=a.maxZindex+1),"mobile"===window.browser&&e(window).width()<768){var i=e(window).scrollTop()?e(window).scrollTop()+(e(window).height()-t.calendarContainer.offsetHeight)/2:document.body.scrollTop+(e(window).height()-t.calendarContainer.offsetHeight)/2,r=e(window).scrollLeft()?e(window).scrollLeft()+(e(window).width()-t.calendarContainer.offsetWidth)/2:document.body.scrollLeft+(e(window).width()-t.calendarContainer.offsetWidth)/2;t.calendarContainer.style.cssText="display: none; position: absolute; z-index: "+n+"; top: "+i+"px; left: "+r+"px;",t.overlayElement||(t.overlayElement=document.createElement("div"));var o=e(document).height();t.overlayElement.style.cssText="width:100%; position:absolute;left:0; margin:0; padding:0; background:#000; opacity:0.5; z-index:1004;top:0px;height:"+o+"px;",e("body").append(t.overlayElement)}else{for(var s=e(t.targetElem).offset().top+t.targetElem.offsetHeight+5,l=e(t.targetElem).offset().left,d=t.targetElem.offsetWidth,c=t.offsetParent;c&&c!=document.body&&"relative"!==e(c).css("position")&&"absolute"!==e(c).css("position");)c=c.offsetParent;var p=e.alopex.util.getRelativePosition(t.targetElem),u=e.alopex.util.getRelativePosition(c);l=p.left-u.left-e(t.calendarContainer).css("width").split("px")[0]+d,e.alopex.util.isNumberType(l)||(l=e(t.targetElem).offset().left),e(t.calendarContainer).width()!=e(window).width()&&l+e(t.calendarContainer).width()>e(window).width()&&(l-=l+e(t.calendarContainer).width()+10-e(window).width()),s+t.calendarContainer.offsetHeight>=e(document).height()&&(s=e(t.targetElem).offset().top-5-t.calendarContainer.offsetHeight),t.calendarContainer.style.cssText="display: none; position: absolute; z-index:"+n+"; top: "+s+"px; left: "+l+"px;"}e(t.calendarContainer).css("display","block")}},_setPosition:function(t,a){if(!t.inline){var n=e.alopex.widget.dialog,i=1200;if(null!==n&&window.afDialogNumber>0&&(i=n.maxZindex+1),"mobile"===window.browser&&e(window).width()<768){var r=e(window).scrollTop()?e(window).scrollTop()+(e(window).height()-t.calendarContainer.offsetHeight)/2:document.body.scrollTop+(e(window).height()-t.calendarContainer.offsetHeight)/2,o=e(window).scrollLeft()?e(window).scrollLeft()+(e(window).width()-t.calendarContainer.offsetWidth)/2:document.body.scrollLeft+(e(window).width()-t.calendarContainer.offsetWidth)/2;t.calendarContainer.style.cssText="display: none; position: absolute; z-index: "+i+"; top: "+r+"px; left: "+o+"px;",t.overlayElement||(t.overlayElement=document.createElement("div"));var s=e(document).height();t.overlayElement.style.cssText="width:100%; position:absolute;left:0; margin:0; padding:0; background:#000; opacity:0.5; z-index:1004;top:0px;height:"+s+"px;",e("body").append(t.overlayElement)}else{for(var l=e(t.targetElem).offset().top+t.targetElem.offsetHeight+5,d=e(t.targetElem).offset().left,c=t.offsetParent;c&&c!=document.body&&"relative"!==e(c).css("position")&&"absolute"!==e(c).css("position");)c=c.offsetParent;if(e(t.calendarContainer).width()!=e(window).width()&&d+e(t.calendarContainer).width()>e(window).width()&&(d-=d+e(t.calendarContainer).width()+10-e(window).width()),l+t.calendarContainer.offsetHeight>=e(document).height()&&(l=e(t.targetElem).offset().top-5-t.calendarContainer.offsetHeight),e.alopex.util.isValid(a)){var p=t.targetElem.offsetWidth,u=(t.targetElem.offsetHeight,e.alopex.util.getRelativePosition(t.targetElem)),h=e.alopex.util.getRelativePosition(c),f=u.left-h.left,g=u.top-h.top,m=e(t.calendarContainer).outerWidth(),v=e(t.calendarContainer).outerHeight();if(a.toLowerCase().indexOf("right")>=0)if(e(t.targetElem).parent().hasClass("Dateinput")&&e(t.targetElem).next(".Calendar").length){var x=e(t.targetElem).next(".Calendar")[0],b=e(x);d=(f=(u=e.alopex.util.getRelativePosition(x)).left-h.left)+b.outerWidth()-m}else d=f-m+p;a.toLowerCase().indexOf("top")>=0&&(l=g-v-5)}t.calendarContainer.style.cssText="display: none; position: absolute; z-index:"+i+"; top: "+l+"px; left: "+d+"px;"}e(t.calendarContainer).css("display","block")}},_isOpened:function(t){var a="datepicker_"+t;return!!e.alopex.datePickerMap.datePickerObj.hasOwnProperty(a)},_mouseDownHandler:function(t){for(var a=!1,n=e(t.target),i=0;i<7;i++){if("af-datepicker"===n.attr("data-type")&&"true"!==n.attr("data-datepicker-inline")){a=!0;break}n=n.parent()}if(!a)for(var r in e.alopex.datePickerMap.datePickerObj)e.alopex.datePickerMap.datePickerObj[r]._close()},_resizeHandler:function(t){for(var a in e.alopex.datePickerMap.datePickerObj)e.alopex.datePickerMap.datePickerObj[a]._setPosition(e.alopex.datePickerMap.datePickerObj[a],e.alopex.datePickerMap.datePickerObj[a].position)},_onHashChange:function(t){for(var a in e.alopex.datePickerMap.datePickerObj)e.alopex.datePickerMap.datePickerObj[a]._close()}},e.fn.showDatePicker=function(t,a){if(e.alopex.util.isValid(t)&&"function"==typeof t){for(var n in e.alopex.util.isValid(a)||(a={}),e.alopex.datePickerMap.datePickerObj)a.inline||e.alopex.datePickerMap.datePickerObj[n]._close();var i=e.extend(!0,{},e.alopex.datePicker);i.localeInfo=i.locale,i.targetElem=this[0],i._callback=t,i.calendarContainerId="datepicker_"+this[0].id,i.setDefaultDate(a),i.setLocale(a),i.setFormat(a),i.setCertainDates(a),i.setThemeClass(a),i.setMenuSelect(a),i.setMinDate(a),i.setMaxDate(a),i.setInline(a),i.setPickerType(a),"weekly"===a.pickertype&&(a.showOtherMonth=!0,a.showbottom=!1),i.setShowOtherMonth(a),i.setShowBottom(a),i.setBottomDate(a),i.setWeekPeriod(a),i._initialise(a),i._bindYearHandler(),i._bindMonthHandler(),i._bindDayHandler(),i.inline||("mobile"===window.browser&&e(window).width()<768||(e(document.body).bind("pressed",i._mouseDownHandler),e(window).bind("hashchange",i._onHashChange)),e(window).bind("resize",i._resizeHandler),e(document.body).bind("keydown",{obj:i},i._addKeyEvent),e(i.calendarContainer).attr("tabindex",0),e(i.calendarContainer).focus(),e(i.targetElem).bind("pressed",function(e){e.stopPropagation()})),e(i.calendarContainer).bind("selectstart dragstart",function(e){return!1}),e.alopex.datePickerMap.setObject(i.calendarContainerId,i)}},e.fn.closeDatePicker=function(){e.alopex.datePicker._isOpened(this[0].id)&&e.alopex.datePickerMap.getObjectById(this[0].id)._close()},e.alopex.registerSetup("datePicker",function(t){e.extend(e.alopex.datePicker,t)}),e.alopex.registerSetup("datepicker",function(t){e.extend(e.alopex.datePicker,t)}))}(jQuery),function(e){e.alopex.widget.dropdown=e.alopex.inherit(e.alopex.widget.object,{widgetName:"dropdown",defaultClassName:"af-dropdown Dropdown",setters:["dropdown","addHandler","setDataSource","open","close","toggle","refresh","select"],getters:["getDataSource"],markup:function(t,a){e(t);e.extend(!0,t,{opentrigger:"click",closetrigger:"click",submenutrigger:null,base:e(t).prev(),curstate:"closed",position:"bottom",cssstyle:{position:"absolute",top:"0px",left:"0px"},trigger:"click",margin:3,focusmove:"false",classname:[""],callback:[]},a);var n=e(t.base);0!==n.length&&(t.base=n[0],n.each(function(){this.dropdown=t}),n.attr("tabindex","0"),this.refresh(t))},_baseEventBind:function(t){var a=e(t.base);0!==a.length&&(t.base=a[0],a.each(function(){this.dropdown=t}),a.attr("tabindex","0"),this.refresh(t),void 0!==t.opentrigger&&t.opentrigger===t.closetrigger?a.on(t.opentrigger,e.alopex.widget.dropdown._toggle):(t.opentrigger&&a.on(t.opentrigger,e.alopex.widget.dropdown._open),t.closetrigger&&a.on(t.closetrigger,e.alopex.widget.dropdown._close)),a.on("blur",e.alopex.widget.dropdown._blurHandler),a.on("keydown",e.alopex.widget.dropdown._inputBaseKeyDownHandler))},init:function(t,a){var n=e(t),i=e(t).find("li");if(i.length){var r=[];i.each(function(){var t={};t=e.extend(t,{id:e(this).attr("id"),text:e(this).text()});var a=e(this).find("a");a.length&&(t=e.extend({},t,{link:a.attr("href")})),r.push(t)}),t.userInputDataSource=r}else t.userInputDataSource=e(t).html();n.on("click","li",{element:t},e.alopex.widget.dropdown._clickHandler),n.on("keyup","li",{element:t},e.alopex.widget.dropdown._keyupHandler),"click"===t.submenutrigger?n.on("click","li",{element:t},e.alopex.widget.dropdown._toggleHandler):(n.on("mouseenter","li",{element:t},e.alopex.widget.dropdown._openSubmenu),n.on("mouseleave","li",{element:t},e.alopex.widget.dropdown._closeSubmenu)),n.on("mouseleave mouseenter","li.af-menuitem",function(t){var a=t.currentTarget,n=e(a);if(n.closest("[data-type]").find("*").filter(".af-focused.Focused").removeClass("af-focused Focused"),e(t.currentTarget).find("input")){var i=e(t.currentTarget).find("input").attr("type");if("checkbox"==i||"text"==i||"button"==i)return}e(t.currentTarget).find("select").length>0||-1===a.className.indexOf("af-disabled Disabled")&&n.addClass("af-focused Focused")}),this._baseEventBind(t),e(t).bind("keydown",e.alopex.widget.dropdown._inputBaseKeyDownHandler)},refresh:function(t){var a=e(t);a.find("li").each(function(){var t=e(this);"divider"===t.attr("data-role")?t.addClass("af-dropdown-divider"):"header"===t.attr("data-role")?t.addClass("af-dropdown-header"):t.addClass("af-menuitem")}),a.find("ul").addClass("af-submenu"),a.find(".af-submenu").parent().addClass("af-expandable"),a.find(".af-submenu").parent().addClass("Expandable"),a.css(t.cssstyle),a.hide()},_blurHandler:function(e){e.currentTarget.dropdown},addHandler:function(e,t){e.callback.push(t)},_toggle:function(t){var a=t.currentTarget.dropdown;e(a).toggle()},_open:function(t){var a=t.currentTarget.dropdown;e.alopex.util.isValid(a.userInputDataSource)?e(a).open():console.error("Dropdown Element has no data")},_close:function(t){if("mouseleave"===t.type){var a,n,i=t;if(e(t.currentTarget).filter("ul.Dropdown").length>0){o=t.currentTarget;var r=e(t.currentTarget);return r.close(),void r.off(o.closetrigger,e.alopex.widget.dropdown._close)}i.mouseMoveHandler=function(e,t){a=e.pageX,n=e.pageY},e(document).on("mousemove",i.mouseMoveHandler);e.alopex.util.delayFunction(function(t){var i=t.currentTarget.dropdown,r=a,o=n,s=e(i).offset().top,l=e(i).offset().left,d=e(i).outerHeight(),c=e(i).outerWidth();r>=l&&r<=l+c&&o>=s&&o<=s+d||e(i).close(),e(document).off("mousemove",t.mouseMoveHandler)},200,i)}else{var o=t.currentTarget.dropdown;e(o).close()}},_closeByKey:function(t){for(var a=t.target,n=e.alopex.widget.dropdown.activeList,i=0;i<n.length;i++){var r=e.alopex.widget.dropdown.activeList.shift();r!==a&&0===e(a).closest(r).length&&r.base!==a&&0===e(a).closest(r.base).length?0!==e(a).parent().find(r.base).length&&"Opener"===a.className||e(r).close():e.alopex.widget.dropdown.activeList.push(r)}},toggle:function(t){var a=e(t);"closed"===t.curstate&&e.alopex.util.isValid(t.userInputDataSource)?a.open():a.close()},_toggleHandler:function(t){var a=t.currentTarget;-1!==a.className.indexOf("af-expandable")&&e.alopex.widget.dropdown.toggleSubmenu(a)},_keyupHandler:function(t){for(var a=t.currentTarget,n=t.data.element,i=0;i<n.callback.length;i++)n.callback[i].apply(n,[t]);if(!(e(a).find("ul").length>0)){if(e(a).find("input")){var r=e(a).find("input").attr("type");if("checkbox"==r||"text"==r)return}e(a).find("select").length>0||((n.base.tagName&&"input"===n.base.tagName.toLowerCase()||n.base.tagName&&"button"===n.base.tagName.toLowerCase()||void 0!==t.which)&&("empty"!=e(a).attr("data-role")&&e(a).text()&&e(n.base).val(e(a).text()).change(),e(n).close(),""!=e(n).find(".af-focused.Focused").children("a").attr("href")&&void 0!=e(n).find(".af-focused.Focused").children("a").attr("href")&&(e.alopex.util.isValid(e(n).find(".af-focused.Focused").children("a").attr("target"))?window.open(e(n).find(".af-focused.Focused").children("a").attr("href"),e(n).find(".af-focused.Focused").children("a").attr("target")):location.href=e(n).find(".af-focused.Focused").children("a").attr("href"))),e(n).trigger("select",n))}},_clickHandler:function(t){for(var a=t.currentTarget,n=t.data.element,i=0;i<n.callback.length;i++)n.callback[i].apply(n,[t]);if(!(e(a).find("ul").length>0)){if(e(a).find("input")){var r=e(a).find("input").attr("type");if("checkbox"==r||"text"==r)return}e(a).find("select").length>0||((n.base.tagName&&"input"===n.base.tagName.toLowerCase()||n.base.tagName&&"button"===n.base.tagName.toLowerCase()||void 0!==t.which)&&("empty"!=e(a).attr("data-role")&&e(a).text()&&e(n.base).val(e(a).text()).change(),e(n).close()),e(n).trigger("select",n))}},_openSubmenu:function(t){var a=t.currentTarget;e.alopex.widget.dropdown.openSubmenu(a)},_closeSubmenu:function(t){var a=t.currentTarget;e.alopex.widget.dropdown.closeSubmenu(a)},openSubmenu:function(t){var a=e(t);if(e(t).find("input")){var n=e(t).find("input").attr("type");if("checkbox"==n||"text"==n||"button"==n)return}e(t).find("select").length>0||a.attr("class")&&-1!==a.attr("class").indexOf("af-expandable")&&(a.addClass("af-expanded"),a.find("> ul").css("display","inline-block"))},closeSubmenu:function(t){var a=e(t);if(e(t).find("input")){var n=e(t).find("input").attr("type");if("checkbox"==n||"text"==n||"button"==n)return}e(t).find("select").length>0||a.attr("class")&&-1!==a.attr("class").indexOf("af-expandable")&&(a.removeClass("af-expanded"),a.find("> ul").css("display","none"))},toggleSubmenu:function(t){-1!==e(t).attr("class").indexOf("af-expanded")?e.alopex.widget.dropdown.closeSubmenu(t):e.alopex.widget.dropdown.openSubmenu(t)},_htmlGenerator:function(t){for(var a="",n=0;n<t.length;n++)a+="<li",void 0!==t[n].id&&(a+=' id="'+t[n].id+'"'),a+="><a",void 0!==t[n].link&&(a+=' href="'+t[n].link+'"'),a+=">",void 0!==t[n].text&&(a+=t[n].text),t[n].items?(a+="</a><ul>",a+=e.alopex.widget.dropdown._htmlGenerator(t[n].items),a+="</ul></li>"):a+="</a></li>";return a},getDataSource:function(t){if(e.alopex.util.isValid(t.userInputDataSource))return t.userInputDataSource},setDataSource:function(t,a){var n=e(t);switch(typeof a){case"string":n.html(a);break;case"object":n.html(e.alopex.widget.dropdown._htmlGenerator(a))}e(t).refresh(),t.userInputDataSource=a},_inputBaseKeyDownHandler:function(t){var a=this.dropdown;if(void 0!==a)if(40===t.which)"closed"===a.curstate&&e(a).open(),e.alopex.widget.dropdown._focusNext(a),t.preventDefault();else if(38===t.which)e.alopex.widget.dropdown._focusPrev(a),t.preventDefault();else if(27===t.which)e(a).close();else if(39===t.which)e.alopex.widget.dropdown._focusChild(a);else if(37===t.which)e.alopex.widget.dropdown._focusParent(a);else if(13===t.which){e(a).find(".af-focused.Focused").length>0&&(t.preventDefault(),e(a).find(".af-focused.Focused").trigger("keyup"))}},_select:function(e){},_focus:function(t,a){e(t).find(".af-focused.Focused").removeClass("af-focused Focused"),e(a).addClass("af-focused Focused"),"true"===t.focusmove&&a.focus();var n=a.parentNode;try{a.offsetTop+a.offsetHeight>n.offsetHeight&&(n.scrollTop=a.offsetTop+a.offsetHeight-n.offsetHeight)}catch(e){}},_isValidMenu:function(e){if(e.length<=0)return!0;var t=e[0];return!!t.className&&(-1!==t.className.indexOf("af-menuitem")&&(-1===t.className.indexOf("af-disabled Disabled")&&(-1===t.className.indexOf("af-dropdown-header")&&-1===t.className.indexOf("af-dropdown-divider"))))},_focusPrev:function(t){void 0===typeof t&&(t=this);for(var a=e(t).find(".af-focused.Focused"),n=a.prev("li");!e.alopex.widget.dropdown._isValidMenu(n);)n=n.prev("li");0!==a.length&&n.length>0&&e.alopex.widget.dropdown._focus(t,n[0])},_focusNext:function(t){void 0===typeof t&&(t=this);for(var a=e(t),n=a.find(".af-focused.Focused"),i=n.next("li");!e.alopex.widget.dropdown._isValidMenu(i);)i=i.next("li");0===n.length&&a.find("li").length>0?e.alopex.widget.dropdown._focus(t,a.find("li")[0]):0!==i.length&&e.alopex.widget.dropdown._focus(t,i[0])},_focusChild:function(t){void 0===typeof t&&(t=this);var a=e(t).find(".af-focused.Focused"),n=a.find(".af-submenu");n.length>0&&n.find("li.af-menuitem").length>0&&(e.alopex.widget.dropdown.openSubmenu(a[0]),e.alopex.widget.dropdown._focus(t,n.find("li.af-menuitem")[0]))},_focusParent:function(t){void 0===typeof t&&(t=this);var a=e(t).find(".af-focused.Focused").parents(".af-expandable").eq(0);a.length>0&&(e.alopex.widget.dropdown.closeSubmenu(a[0]),e.alopex.widget.dropdown._focus(t,a[0]))},activeList:[],open:function(t,a){var n=e(t);if($a.util.isValid(a)&&$a.util.isStringType(a)){var i=e(t.base);0!==i.length&&(void 0!==t.opentrigger&&t.opentrigger===t.closetrigger?i.off(t.opentrigger,e.alopex.widget.dropdown._toggle):(t.opentrigger&&i.off(t.opentrigger,e.alopex.widget.dropdown._open),t.closetrigger&&i.off(t.closetrigger,e.alopex.widget.dropdown._close)),i.off("blur",e.alopex.widget.dropdown._blurHandler),i.off("keydown",e.alopex.widget.dropdown._inputBaseKeyDownHandler)),t.base=a,e.alopex.widget.dropdown._baseEventBind(t),n.find(".af-focused.Focused").removeClass("af-focused Focused")}n.css({display:"block"});for(var r=t.offsetWidth,o=t.offsetHeight,s=t.base.offsetWidth,l=t.base.offsetHeight,d=t.offsetParent;d&&d!==document.body&&"relative"!==e(d).css("position")&&"absolute"!==e(d).css("position");)d=d.offsetParent;var c=e.alopex.util.getRelativePosition(t.base),p=e.alopex.util.getRelativePosition(d),u=c.left-p.left,h=c.top-p.top;if("fixed"===e(t.offsetParent).css("position")){var f=e(t.base).position();u=f.left,h=f.top}var g=0,m=0;switch(t.position){case"top":m=u,g=h-o-t.margin;break;case"left":m=u-r-t.margin,g=h;break;case"right":m=u+s+t.margin,g=h;break;case"bottom":default:m=u,g=h+l+t.margin}n.css({left:m+"px",top:g+"px"}),e.alopex.widget.dropdown.activeList.push(t),t.curstate="opened",e(document).bind("pressed",e.alopex.widget.dropdown._closeByKey)},close:function(t){for(var a=e(t),n=0;n<e.alopex.widget.dropdown.activeList.length;n++)if(e.alopex.widget.dropdown.activeList[n]===t){e.alopex.widget.dropdown.activeList.splice(n,1);break}t.curstate="closed",a.hide(),e(document).unbind("pressed",e.alopex.widget.dropdown._closeByKey),a.trigger("close.dropdown")},select:function(t,a){if(e.alopex.util.isValid(a)){var n=null;if($a.util.isNumberType(a)?n=e(t).find("li>a").eq(a):e.isPlainObject(a)&&$a.util.isValid(a.id)&&(n=e(t).find("li#"+a.id+">a")),n&&0!==n.length){n[0].click();var i=n.parent("li.af-menuitem");0!==i.length&&e.alopex.widget.dropdown._focus(t,i[0])}}}})}(jQuery),function(e){e.alopex.widget.dateinput=e.alopex.inherit(e.alopex.widget.object,{widgetName:"dateinput",defaultClassName:"af-dateinput Dateinput",classNames:{clearButton:"Clear",calendar:"Calendar"},setters:["dateinput","setEnabled","update","clear"],getters:[],properties:{date:new Date,format:"yyyy-MM-dd",image:!1,selectyear:!1,selectmonth:!1,pickertype:"daily",position:"bottom|left",mindate:null,maxdate:null,callback:null,resetbutton:!1,blurcallback:null,certaindatestxt:{unavailabletxt:""},placeholder:!0,weekday:!1},_validationDate:function(e,t){var a=e.options.format.replace(/[^a-z]/gi,"");if("mmddyyyy"==a.toLowerCase()||"yyyymmdd"==a.toLowerCase()||"ddmmyyyy"==a.toLowerCase()){var n=/^(1|2|3|4|5|6|7|8|9)\d{3}(0[1-9]|1[0-2])(0[1-9]|1\d|2\d|3[01])$/;return"mmddyyyy"==a.toLowerCase()?n=/^(0[1-9]|1[0-2])(0[1-9]|1\d|2\d|3[01])(1|2|3|4|5|6|7|8|9)\d{3}$/:"ddmmyyyy"==a.toLowerCase()&&(n=/^(0[1-9]|1\d|2\d|3[01])(0[1-9]|1[0-2])(1|2|3|4|5|6|7|8|9)\d{3}$/),t=t.replace(/[^\d]+/g,""),new RegExp(n).test(t)?t:""}return t},generateDate:function(e,t){var a=e.options.format;if((a=a.replace(" ","").replace("EEEE","").replace("EEE","")).indexOf("MMM")>=0)return new Date(t);t=t.replace(" ","").replace(/[ㄱ-ㅎ|가-힣|a-z|A-Z]+/,"");var n=a.indexOf("yyyy"),i=a.indexOf("MM"),r=a.indexOf("dd");if("daily"===e.options.pickertype||"weekly"===e.options.pickertype){if(!isNaN(Number(t))&&8==t.length)return n>r&&r>i?new Date(t.substr(0,2)+"/"+t.substr(2,2)+"/"+t.substr(4,4)):n>r?new Date(t.substr(2,2)+"/"+t.substr(0,2)+"/"+t.substr(4,4)):new Date(t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2));if(t.match(/^\d{4}[./-]\d{2}[./-]\d{2}$/)||t.match(/^\d{2}[./-]\d{2}[./-]\d{4}$/))return r<i?this._generateDate(e,t):new Date(t);if(t.length>=8)return new Date(t.substr(n,4)+"/"+t.substr(i,2)+"/"+t.substr(r,2))}else if("monthly"===e.options.pickertype){if(!isNaN(Number(t))&&6==t.length)return n>i?new Date(t.substr(2,4)+"/"+t.substr(4,2)):new Date(t.substr(0,4)+"/"+t.substr(4,2));if(t.match(/^\d{4}[./-]\d{2}$/))return new Date(t);if(t.length>=8)return new Date(t.substr(n,4)+"/"+t.substr(i,2))}return new Date},_generateDate:function(t,a){var n,i,r,o=t.options.format,s=o.replace("yyyy","").replace("MM","").replace("dd","").substring(0,1),l=o.indexOf("yyyy"),d=o.indexOf("MM"),c=o.indexOf("dd");return"daily"===t.options.pickertype||"weekly"===t.options.pickertype?(-1==a.indexOf(s)&&8==a.length&&(a=l>0?a.substr(0,2)+s+a.substr(2,2)+s+a.substr(4,4):a.substr(0,4)+s+a.substr(4,2)+s+a.substr(6,2),e(t).trigger("change")),e.alopex.util.isValid(a)?e.alopex.util.isValid(s)?l>0&&l>d?(n=a.split(s)[2],0==d?(i=Number(a.split(s)[0])-1,r=a.split(s)[1]):(i=Number(a.split(s)[1])-1,r=a.split(s)[0]),new Date(n,i,r)):l>0&&l<d?new Date(a.split(s)[1],Number(a.split(s)[2])-1,a.split(s)[0]):(n=a.split(s)[0],d>c?(i=Number(a.split(s)[2])-1,r=a.split(s)[1]):(i=Number(a.split(s)[1])-1,r=a.split(s)[2]),new Date(n,i,r)):new Date(a.substr(l,4),Number(a.substr(d,2))-1,a.substr(c,2)):new Date):"monthly"===t.options.pickertype?(-1==a.indexOf(s)&&6==a.length&&(a=l>0?a.substr(0,2)+s+a.substr(2,4):a.substr(0,4)+s+a.substr(4,2),e(t).trigger("change")),e.alopex.util.isValid(a)?e.alopex.util.isValid(s)?l>0?new Date(a.split(s)[1],Number(a.split(s)[0])-1):new Date(a.split(s)[0],Number(a.split(s)[1])-1):new Date(a.substr(l,4),Number(a.substr(d,2))-1):new Date):void 0},init:function(t,a){var n,i=!1;"div"==t.tagName.toLowerCase()&&(n=t,t=t.querySelector("input"),i=!0);var r=e(t);if(t.options=e.extend(!0,{},this.properties,a),e.alopex.util.isValid(e.alopex.config.locale)&&(t.options.locale=e.alopex.config.locale),e.alopex.util.isValid(this.properties.locale)&&(t.options.locale=this.properties.locale),e.alopex.util.isValid(a.locale)&&(t.options.locale=a.locale),t.options.position=a.pickerposition,this.refresh_format(t,a),t.options.format.indexOf("EEEE")?r.attr("maxlength",t.options.format.length+6):r.attr("maxlength",t.options.format.length),t.options.placeholder&&r.attr("placeholder",t.options.format),t.options.defaultdate&&r.attr("defaultdate",t.options.defaultdate),this.addHoverHighlight(t),this.addPressHighlight(t),i){var o=e(n);o.find("."+this.classNames.calendar).length>0&&(t.imagebutton=o.find("."+this.classNames.calendar)),o.find("."+this.classNames.clearButton).length>0&&(t.resetbutton=o.find("."+this.classNames.clearButton))}else!1!==t.options.image&&(t.imagebutton=e("<div></div>").insertAfter(t).addClass("af-dateinput-image"),""!==t.options.image&&e(t.imagebutton).css("background-image","url("+t.options.image+")")),t.options.resetbutton&&(t.resetbutton=e("<div>x</div>").insertAfter(t).addClass("af-reset-button"));t.options.format&&"auto"==t.options.inputwidth?t.options.format.indexOf("EEEE")>=0&&"en"==t.options.locale?r.css("width",8*(t.options.format.length+7)):r.css("width",8*(t.options.format.length+3)):isNaN(Number(t.options.inputwidth))||r.css("width",t.options.inputwidth),t.imagebutton&&(t.imagebutton[0].element=t),t.resetbutton&&(t.resetbutton[0].element=t,t.resetbutton.on("click",function(t){var a=t.currentTarget;e(a.element).is(".af-disabled Disabled")||(a.daterange?e(a.daterange).clear():e.alopex.widget.dateinput.clear(a.element),t.preventDefault(),t.stopPropagation())})),e.alopex.util.isValid(r.attr("type"))||r.attr("type","text"),this.setEnabled(t,t.options.enabled),r.on("blur",this._blurHandler)},_blurHandler:function(t){var a=e.alopex.widget.dateinput,n=t.currentTarget,i=e(n).val(),r=n.options.format,o=n.options.locale?n.options.locale.toUpperCase():"KO";if(""===(i=e.alopex.widget.dateinput._validationDate(n,i))&&!1===n.options.defaultdate||""===i&&e(n).hasClass("af-disabled Disabled"))e(n).val("");else{var s=a.generateDate(n,i),l=e.alopex.widget.dateinput._getDateString(s,r,o);if(void 0===s||isNaN(s.getTime()))e(n).val(""),e(n).trigger("change"),n.options.blurcallback&&n.options.blurcallback(n,i);else if(l!=i)return void e(n).val(l)}},update:function(t,a){"div"==t.tagName.toLowerCase()&&(t=t.querySelector("input")),e.extend(!0,t.options,a),this.refresh_format(t,a),"auto"==t.options.inputwidth&&t.options.format.indexOf("EEEE")>=0&&"en"==t.options.locale&&e(t).css("width",8*(t.options.format.length+7))},refresh_format:function(t,a){if(e.alopex.util.isValid(a.pickertype)&&void 0===a.format&&("daily"!==a.pickertype&&"weekly"!==a.pickertype||-1!==t.options.format.indexOf("dd")||(t.options.format="yyyy-MM-dd",e(t).attr("data-format",t.options.format)),"monthly"===a.pickertype&&-1!==t.options.format.indexOf("dd"))){var n=t.options.format;if(8===n.length)n=n.replace("dd","");else{var i,r=n.replace("yyyy","").replace("MM","").replace("dd","");i=0===r.length?"":r.substring(0,1),n=n.indexOf("yyyy")>n.indexOf("MM")?"MM"+i+"yyyy":"yyyy"+i+"MM"}t.options.format=n,e(t).attr("data-format",t.options.format)}e.alopex.util.isValid(a.format)&&void 0===a.pickertype&&(-1!==a.format.indexOf("dd")&&"monthly"===t.options.pickertype&&(t.options.pickertype="daily",e(t).attr("data-pickertype",t.options.pickertype)),-1===a.format.indexOf("dd")&&"daily"===t.options.pickertype&&(t.options.pickertype="monthly",e(t).attr("data-pickertype",t.options.pickertype))),e.alopex.util.isValid(a.format)&&e.alopex.util.isValid(a.pickertype)&&(-1!==a.format.indexOf("dd")&&"monthly"===a.pickertype&&(t.options.pickertype="daily",e(t).attr("data-pickertype",t.options.pickertype)),-1!==a.format.indexOf("dd")||"daily"!==a.pickertype&&"weekly"!==a.pickertype||(t.options.pickertype="monthly",e(t).attr("data-pickertype",t.options.pickertype)))},setEnabled:function(t,a){"div"==t.tagName.toLowerCase()&&(t=t.querySelector("input"));var n=e(t);a=e.alopex.util.parseBoolean(a),e(t).off("click",this._clickEventHandler),e(t.imagebutton).off("click",this._clickEventHandler),a?(t.imagebutton?e(t.imagebutton).on("click",this._clickEventHandler):n.on("click",this._clickEventHandler),n.add(t.imagebutton).removeClass("af-disabled Disabled"),n.removeAttr("readonly")):(n.add(t.imagebutton).addClass("af-disabled Disabled"),n.attr("readonly",!0))},clear:function(t){"div"==t.tagName.toLowerCase()&&(t=t.querySelector("input")),e(t).val(""),e(t).trigger("change")},_clickEventHandler:function(t){var a=e.alopex.widget.dateinput,n=t.currentTarget.element||t.currentTarget,i=e(n).val(),r=a.generateDate(n,i);r=isNaN(r.getYear())?null:r;var o=e.extend(!0,{},e.alopex.widget.dateinput.properties,n.options,{date:r}),s=e(n).attr("data-mindate");s&&(o.mindate=a.generateDate(n,s));var l=e(n).attr("data-maxdate");l&&(o.maxdate=a.generateDate(n,l));var d=null;"daterange"===e(n).parent().parent().attr("data-type")&&(d=$a.widget.daterange._dynamicBindingCheck(e(n).parent().parent()[0]),e(n).parent().hasClass("Startdate")&&!e(n).parent().hasClass("NoLimit")&&(o.maxdate=""===d.maxdate?null:d.maxdate),e(n).parent().hasClass("Enddate")&&!e(n).parent().hasClass("NoLimit")&&(o.mindate=""===d.mindate?null:d.mindate)),e(n).showDatePicker(function(t,a,i,r,s){if(!r||r.isClickToClose)"weekly"===n.options.pickertype?"daterange"===e(n).parent().parent().attr("data-type")?"startdate"===e(n).attr("data-role")?e(n).val(a.startdate):e(n).val(a.enddate):e(n).val(a.startdate+" ~ "+a.enddate):e(n).val(a),e(n).trigger("change"),n.options.callback&&n.options.callback.call(n,t,a,i,r,s);else if(e.alopex.util.isValid(o.certaindatestxt.unavailabletxt)){var l=o.certaindatestxt.unavailabletxt;l=l.split("{0}").join(i),alert(l)}},o)},_getDateString:function(t,a,n){if(t instanceof Date){var i=t.getFullYear(),r=t.getMonth()+1,o=t.getDate();if(a.indexOf("dd")>=0&&(o=(o<10?"0":"")+o),a.indexOf("MMM")>=0){var s=e.alopex.datePicker["MONTHS_"+n][t.getMonth()];s&&s.length>3&&(s=s.substring(0,3)),a=(a=a.replace("yyyy",i).replace("dd",o).replace("d",o)).replace("MMMM",s).replace("MMM",s)}else a.indexOf("MM")>=0&&(r=(r<10?"0":"")+r);if((a=a.replace("yyyy",i).replace("MM",r).replace("M",r).replace("dd",o).replace("d",o)).indexOf("EEEE")>=0)a=a.replace("EEEE",e.alopex.datePicker["WEEKDAYS_"+n][t.getDay()]);else if(a.indexOf("EEE")>=0){var l=e.alopex.datePicker["WEEKDAYS_"+n][t.getDay()];a=a.replace("EEE",l.length>3?l.substring(0,3):l)}return a}}})}(jQuery),function(e){e.alopex.widget.dropdownbutton=e.alopex.inherit(e.alopex.widget.object,{widgetName:"dropdownbutton",defaultClassName:"af-button af-dropdownbutton Dropdownbutton",setters:["dropdownbutton","setText","addHandler","setDataSource","select"],getters:["getText","getDataSource"],properties:{dropdown:null,update:"true"},init:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input"));var n=e(t).next().add(e(a.menu));0!==n.length&&"ul"===n[0].tagName.toLowerCase()&&(e.extend(t,e.alopex.widget.dropdownbutton.properties,a),t.dropdown=n[0],e(t).button(),n.attr("data-type","dropdown").dropdown(),t.dropdown.base=t)},defer:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input")),e(t.dropdown).addHandler(e.alopex.widget.dropdownbutton._defaultHandler)},_defaultHandler:function(t){var a=t.data.element,n=t.currentTarget,i=e(n).text();"false"!==a.base.update&&0==e(n).find("ul").length&&e(a.base).text(i),t.stopPropagation()},setText:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input")),e(t).text(a)},getText:function(t){return"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input")),e(t).text()},addHandler:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input")),e(t.dropdown).addHandler(a)},setDataSource:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input")),e(t.dropdown).setDataSource(a)},getDataSource:function(t){return e(t.dropdown).getDataSource()},select:function(t,a){"div"==t.tagName.toLowerCase()&&(t=e(t).find(">button, >a, >input")),e(t.dropdown).select(a)}})}(jQuery),function(e){e.alopex.widget.group=e.alopex.inherit(e.alopex.widget.object,{widgetName:"group",defaultClassName:"af-group af-horizontal",setters:["group","setOrient"],getters:[],init:function(t){var a=e(t);e.alopex.util.isValid(a.attr("data-orient"))&&(t.orient=a.attr("data-orient"),"vertical"===t.orient&&(e(t).removeClass("af-horizontal"),e(t).addClass("af-vertical"))),0!==a.find("input").length&&(a.on("change",this._changeEventHandler),e(t).trigger("change"))},_changeEventHandler:function(t){var a=e(t.currentTarget).find("input");a.removeClass("af-checked Checked"),a.filter(":checked").each(function(){(this.id?e('label[for="'+this.id+'"]'):e(this).parent("label")).addClass("af-checked Checked")})},setOrient:function(t,a){switch(e(t).removeClass("af-horizontal"),e(t).removeClass("af-vertical"),e(t).addClass("af-"+a),a){case"vertical":e(t).addClass("Vertical");break;case"horizontal":e(t).removeClass("Vertical")}}})}(jQuery),function(e){e.alopex.widget.groupbutton=e.alopex.inherit(e.alopex.widget.group,{widgetName:"groupbutton",defaultClassName:"af-groupbutton Groupbutton",defaultThemeName:"af-default af-horizontal",setters:["groupbutton"],getters:[],init:function(t){var a=e(t);a.on("change","input",function(t){var n=t.currentTarget;if(e(n).parent("label").length>0)for(var i=a.find("input"),r=0;r<i.length;r++)i.eq(r).is(":checked")?i.eq(r).parent("label").addClass("af-checked Checked"):i.eq(r).parent("label").removeClass("af-checked Checked")})}})}(jQuery),function(e){e.alopex.widget.icon=e.alopex.inherit(e.alopex.widget.object,{widgetName:"icon",defaultClassName:"af-icon Icon",setters:["icon","setIcon"],setIcon:function(t,a){e(t).addClass(a)},properties:{position:"default",size:14},init:function(t,a){var n=e(t);e.alopex.util.isValid(t.display)?e(t).css("display",t.display):e(t).css("display","inline-block");var i=e(t.parentNode);if(i.attr("class")&&-1!=i.attr("class").indexOf("Button")){n.css("position","absolute");var r=this._getProperty(t,"position"),o=this._getProperty(t,"size");switch(r){case"center":n.css({top:"50%",left:"50%","margin-top":"-"+parseInt(o,10)/2+"px","margin-left":"-"+parseInt(o,10)/2+"px"}),i.prepend(n),i.addClass("af-icon-center");break;case"top":n.css({top:"10px",left:"50%","margin-left":"-"+parseInt(o,10)/2+"px"}),i.prepend(n),i.addClass("af-icon-top"),i.css({"padding-top":5*parseInt(o,10)/4+"px"});break;case"bottom":n.css({bottom:"10px",left:"50%","margin-left":"-"+parseInt(o,10)/2+"px"}),i.append(n),i.addClass("af-icon-bottom"),i.css({"padding-bottom":5*parseInt(o,10)/4+"px"});break;case"right":n.css({right:"10px",top:"50%","margin-top":"-"+parseInt(o,10)/2+"px"}),i.append(n),i.addClass("af-icon-right"),i.css({"padding-right":14+5*parseInt(o,10)/4+"px"});break;case"left":default:n.css({left:"10px",top:"50%","margin-top":"-"+parseInt(o,10)/2+"px"}),i.prepend(n),i.addClass("af-icon-left"),i.css("padding-left",14+5*parseInt(o,10)/4+"px")}}}})}(jQuery),function(e){e.alopex.widget.daterange=e.alopex.inherit(e.alopex.widget.object,{widgetName:"daterange",defaultClassName:"af-daterange Daterange",setters:["daterange","setEnabled","clear","refresh"],getters:[],classNames:{startdate:"Startdate",enddate:"Enddate"},id_startdate:"startdate",id_enddate:"enddate",id_widget:"daterange",properties:{date:new Date,format:"yyyy-MM-dd",selectyear:!1,selectmonth:!1,pickertype:"daily",autodisable:!0,resetbutton:!1,callback:null,blurcallback:null,placeholder:!0},init:function(t,a){var n=e(t);t.options=e.extend(!0,{},this.properties,a),e.alopex.util.isValid(e.alopex.config.locale)&&(t.options.locale=e.alopex.config.locale),e.alopex.util.isValid(this.properties.locale)&&(t.options.locale=this.properties.locale),e.alopex.widget.dateinput.refresh_format(t,a),"weekly"==t.options.pickertype&&(t.options.showothermonth=!0),t._start=n.find('[data-role="'+this.id_startdate+'"], .'+this.classNames.startdate),t._end=n.find('[data-role="'+this.id_enddate+'"], .'+this.classNames.enddate),t._start.attr("data-type","dateinput").dateinput(e.extend(!0,{},t.options,{callback:this._startEventHandler})),t._end.attr("data-type","dateinput").dateinput(e.extend(!0,{},t.options,{callback:this._endEventHandler})),t.options.resetbutton&&(t._start.length>0&&t._start[0].resetbutton&&t._start[0].resetbutton.length>0&&(t._start[0].resetbutton[0].daterange=t),t._end.length>0&&t._end[0].resetbutton&&t._end[0].resetbutton.length>0&&(t._end[0].resetbutton[0].daterange=t)),this.setEnabled(t,t.options.enabled)},_generateDate:function(t,a){var n,i,r,o=t.options.format,s=o.replace("yyyy","").replace("MM","").replace("dd","").substring(0,1),l=o.indexOf("yyyy"),d=o.indexOf("MM"),c=o.indexOf("dd");return"daily"===t.options.pickertype||"weekly"===t.options.pickertype?(-1==a.indexOf(s)&&8==a.length&&(a=l>0?a.substr(0,2)+s+a.substr(2,2)+s+a.substr(4,4):a.substr(0,4)+s+a.substr(4,2)+s+a.substr(6,2)),e.alopex.util.isValid(a)?e.alopex.util.isValid(s)?l>0&&l>d?(n=a.split(s)[2],0==d?(i=Number(a.split(s)[0])-1,r=a.split(s)[1]):(i=Number(a.split(s)[1])-1,r=a.split(s)[0]),new Date(n,i,r)):l>0&&l<d?new Date(a.split(s)[1],Number(a.split(s)[2])-1,a.split(s)[0]):(n=a.split(s)[0],d>c?(i=Number(a.split(s)[2])-1,r=a.split(s)[1]):(i=Number(a.split(s)[1])-1,r=a.split(s)[2]),new Date(n,i,r)):new Date(a.substr(l,4),Number(a.substr(d,2))-1,a.substr(c,2)):new Date):"monthly"===t.options.pickertype?(-1==a.indexOf(s)&&6==a.length&&(a=l>0?a.substr(0,2)+s+a.substr(2,4):a.substr(0,4)+s+a.substr(4,2)),e.alopex.util.isValid(a)?e.alopex.util.isValid(s)?l>0?new Date(a.split(s)[1],Number(a.split(s)[0])-1):new Date(a.split(s)[0],Number(a.split(s)[1])-1):new Date(a.substr(l,4),Number(a.substr(d,2))-1):new Date):void 0},_dynamicBindingCheck:function(t){var a=e(t._start).find("input").val(),n=e(t._end).find("input").val(),i={};return e.alopex.util.isValid(a)?e.extend(!0,i,{mindate:$a.widget.dateinput.generateDate(t,a)}):e.extend(!0,i,{mindate:""}),e.alopex.util.isValid(n)?e.extend(!0,i,{maxdate:$a.widget.dateinput.generateDate(t,n)}):e.extend(!0,i,{maxdate:""}),i},refresh:function(t){var a=e(t._start).val(),n=e(t._end).val();e.alopex.util.isValid(n)&&e(t._start).update({maxdate:$a.widget.daterange._generateDate(t,n)}),e.alopex.util.isValid(a)&&e(t._end).update({mindate:$a.widget.daterange._generateDate(t,a)})},_startEventHandler:function(t,a,n,i,r){var o=e(this).closest('[data-type="daterange"], .'+e.alopex.config.defaultComponentClass.daterange)[0];if(o.options.autodisable)if("weekly"==o.options.pickertype)e(o._start).findAll("input").val(a.startdate),e(o._end).findAll("input").val(a.enddate);else if(e(o._start).find("input").val()>e(o._end).find("input").val()&&e(o._end).find("input").val(""),!o._end.hasClass("NoLimit")){var s=new Date(t.year,Number(t.month)-1,t.day);o._end.update({mindate:s})}o.options.callback&&o.options.callback.call(o,t,a)},_endEventHandler:function(t,a,n,i,r){var o=e(this).closest('[data-type="daterange"], .'+e.alopex.config.defaultComponentClass.daterange)[0];if(o.options.autodisable)if("weekly"==o.options.pickertype)e(o._start).findAll("input").val(a.startdate),e(o._end).findAll("input").val(a.enddate);else if(e(o._start).find("input").val()>e(o._end).find("input").val()&&e(o._start).find("input").val(""),!o._start.hasClass("NoLimit")){var s=new Date(t.year,Number(t.month)-1,t.day);o._start.update({maxdate:s})}o.options.callback&&o.options.callback.call(o,t,a,n,i,r)},setEnabled:function(t,a){a=e.alopex.util.parseBoolean(a),t._start.setEnabled(a),t._end.setEnabled(a)},clear:function(t){e(t._start).clear(),e(t._end).clear(),e(t._start).update({maxdate:""}),e(t._end).update({mindate:""})}})}(jQuery),function(e){e.alopex.widget.list=e.alopex.inherit(e.alopex.widget.object,{widgetName:"list",defaultClassName:"af-list List",setters:["list","refresh"],eventHandlers:{hover:{event:"mouseover",handler:""}},event:function(e){this.addHoverHighlight(e,"li"),this.addPressHighlight(e,"li")},init:function(e){this.refresh.call(this,e)},refresh:function(t){var a=this;e(t).find(">li").each(function(){var n=this;if("true"!==e(n).attr("data-converted")){var i;e(n).bind("click",function(t){var a=t.currentTarget;e(a).siblings("li").removeClass("af-pressed"),e(a).addClass("af-pressed")}),e.alopex.util.isValid(e(n).attr("class"))||("divider"===e(n).attr("data-role")?e(n).addClass("af-list-divider"):e(n).addClass("af-list-row")),1===e(n).find("img").length&&(i=e(n).find("img")[0],e(i).addClass("af-list-thumbnail"),e.alopex.util.parseBoolean(e(i).attr("data-icon"))),e(n).find("h1, h2, h3").each(function(){e(this).addClass("af-list-title")});var r=e(n).find("a");if(r.length>0&&(a.addHoverHighlight(n),a.addPressHighlight(n)),1===r.length?e(r[0]).addClass("af-list-btn"):2===r.length&&(e(r[0]).addClass("af-list-btn first"),e(r[1]).addClass("af-list-btn split"),a.addHoverHighlight(r[1]),a.addPressHighlight(r[1])),n.getAttribute("data-id")){n.className+=" af-accordion";var o=n.getAttribute("data-id");e(t).find("#"+o).css("display","none"),e(n).bind("click",function(e){var t=e.currentTarget;a.toggle(t)})}e(n).attr("data-converted","true")}})}})}(jQuery),function(e){if(!window.AlopexOverlay){var t={bgColor:"#fff",duration:0,durationOff:0,opacity:.7,progress:!1,createProgress:null,resizeProgress:null,removeProgress:null,appendIn:!1,complete:null},a=function(a,n){if(!a)return null;this.option=e.extend({},t,n),a!==document&&a!==document.body||(this.option.appendIn=!0),this.target=a===document?document.body:a,this.overlay=null,this.ptimer=null,this.progress=null,this.on=!1,this.init=function(t){this.remove(),this.on=!0;var a={},n=e(this.target);a.opacity=this.option.opacity,a["background-color"]=this.option.bgColor,a["z-index"]=99990,a.position="absolute",a["border-radius"]=n.css("border-radius"),a=e.extend(a,this.generateSize()),this.overlay=e("<div></div>").css(a).addClass("alopex_overlay")[0];var i=t||this.option.complete;return n[this.option.appendIn?"append":"after"](e(this.overlay).fadeIn(this.option.duration,function(){"function"==typeof i&&i()})),this.option.progress&&"function"==typeof this.option.createProgress&&this.option.createProgress.call(this),this},this.extendOption=function(t){t&&(this.option=e.extend({},this.option,t))},this.generateSize=function(){var t={},a=e(this.target);if(this.target===document||this.target===document.body)this.target=document.body,a=e(document.body),t.width=t.height="100%",t.top=t.left=0,t.position="fixed";else if("relative"===a.css("position")&&this.option.appendIn)t.width=t.height="100%",t.top=t.left=0;else{var n=!1;if(e(this.target).parents().each(function(t,a){"relative"===e(this).css("position")&&(n=!0)}),n){var i=e(this.target.parentElement).offset();t.width=a.outerWidth(),t.height=a.outerHeight(),t.top=a.offset().top-i.top,t.left=a.offset().left-i.left}else t.width=a.outerWidth(),t.height=a.outerHeight(),t.top=a.offset().top,t.left=a.offset().left}return t},this.resize=function(){return e(this.overlay).css(this.generateSize()),this.option.progress&&"function"==typeof this.option.resizeProgress&&this.option.resizeProgress.call(this),this},this.remove=function(t){var a=this.option.durationOff;return this.on=!1,"function"==typeof this.option.removeProgress&&this.option.removeProgress.call(this),e(this.target).find(".alopex_progress").remove(),e(this.target).find(".alopex_overlay").add(this.overlay).fadeOut(a,function(){"function"==typeof t&&t(),e(this).remove()}),this},this.init()};a.defaultOption=t;t.createProgress=function(){for(var t=this.option.duration,a={display:"block",float:"left",width:"12px",height:"12px",margin:"4px","border-radius":"3px"},n=this.progress=e("<div></div>").css({position:"absolute",margin:"0 auto",display:"inline-block","*display":"inline",zoom:1,"text-align":"center","z-index":99991}).addClass("alopex_progress"),i=[],r=0;r<3;r++)i.push(e("<div></div>").css(a).addClass("alopex_progress_block")),n.append(i[r]);this.progress.fadeIn(t).insertAfter(this.overlay);var o=this.generateSize(),s=e(this.overlay);n.css({left:o.left+s.innerWidth()/2-n.width()/2,top:o.top+s.innerHeight()/2+e(this.target).scrollTop()-n.height()/2});var l=["#68838B","#BFEFFF","#BFEFFF"],d=function(){for(var e=0;e<i.length;e++)i[e].css("background-color",l[e]);l.unshift(l.pop())};return d(),this.ptimer=setInterval(d,150),n},t.resizeProgress=function(){var t=this.progress,a=this.generateSize(),n=e(this.overlay);t.css({left:a.left+n.innerWidth()/2-t.width()/2,top:a.top+n.innerHeight()/2-t.height()/2})},t.removeProgress=function(){var t=this.option.durationOff,a=this;this.progress&&e(this.progress).fadeOut(t,function(){a.ptimer&&(clearInterval(a.ptimer),a.ptimer=null),e(a.progress).remove(),a.progress=null})},t.stepProgress=null,window.AlopexOverlay=a,e.each(["progress","overlay"],function(t,n){e.fn[n]=function(t){if(this.length){var i=e(this[0]).data("alopexOverlay"),r=e.extend({progress:"progress"===n},t);return i&&i.on||(i=new a(this[0],r),e(this[0]).removeData("alopexOverlay"),e(this[0]).data("alopexOverlay",i)),i.extendOption(t),i}}}),window.AlopexProgressCount=0,n.prototype.showProgressDialog=function(e){var t;if(!(a=document.getElementById("AlopexProgress"))){var a;(a=document.createElement("div")).setAttribute("id","AlopexProgress");var n=document.createElement("div");n.setAttribute("class","af-progress-sample"),a.appendChild(n),document.body.appendChild(a)}(t=document.getElementById("AlopexProgressMask"))||((t=document.createElement("div")).setAttribute("id","AlopexProgressMask"),t.setAttribute("class","af-progress-sample-mask"),document.body.appendChild(t));window.AlopexProgressCount++},n.prototype.dismissProgressDialog=function(){if(window.AlopexProgressCount--,0==window.AlopexProgressCount){var e=document.getElementById("AlopexProgress");e&&e.parentNode.removeChild(e);var t=document.getElementById("AlopexProgressMask");t&&t.parentNode.removeChild(t)}},window.platformUIComponent=new n}function n(){}}(jQuery),function(e){e.alopex.widget.paging=e.alopex.widget.pagination=e.alopex.inherit(e.alopex.widget.object,{widgetName:"pagination",defaultClassName:"af-paging Paging",classNames:{},setters:["pagination","paging","setTotalPage","setMaxPage","setSelectedPage","setCurrentPage","setDataLength","setPerPage","setPageLink"],getters:["getSelectedPage","getCurrentPage","getDataLength","getPerPage"],widgetOptions:{},destHandler:{first:{classname:"af-paging-first",handler:"_first"},previous:{classname:"af-paging-prev",handler:"_prev"},prev:{classname:"af-paging-prev",handler:"_prev"},previouspages:{classname:"af-paging-prevgroup",handler:"_prevgroup"},"prev-group":{classname:"af-paging-prevgroup",handler:"_prevgroup"},next:{classname:"af-paging-next",handler:"_next"},nextpages:{classname:"af-paging-nextgroup",handler:"_nextgroup"},"next-group":{classname:"af-paging-nextgroup",handler:"_nextgroup"},last:{classname:"af-paging-last",handler:"_last"}},buttonHandler:{First:{handler:"_first"},Prev:{handler:"_prev"},"Prev-group":{handler:"_prevgroup"},Next:{handler:"_next"},"Next-group":{handler:"_nextgroup"},Last:{handler:"_last"}},options:{},eventHandlers:{},properties:{maxpage:10,pagelink:10,totalpage:10,startpage:1,endpage:10,perpage:10,datalength:0,selectedPage:1,pagingType:null},getPerPage:function(e){return e.perpage},getDataLength:function(e){return e.datalength},setCurrentPage:function(e){return this.setSelectedPage(e)},setDataLength:function(t,a){t.datalength=a,e(t).attr("data-datalength",a),t.totalpage=Math.ceil(t.datalength/t.perpage),this.setTotalPage(t,t.totalpage)},setPerPage:function(t,a){t.perpage=a,e(t).attr("data-perpage",a),t.totalpage=Math.ceil(t.datalength/t.perpage),this.setTotalPage(t,t.totalpage)},event:function(e){},init:function(t,a){var n=e(t),i=e(t).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)").length;if(i>0){var r=0,o=0,s=parseInt(n.attr("data-maxpage"),10)||i;if(s>i){r=s-i;for(var l="",d=1;d<=r;d++)l+='<a class="Link">'+(i+d)+"</a>";e(l).insertAfter(e(t).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)").last())}if(s<i){o=i-s;for(d=1;d<=o;d++)e(t).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)").last().remove()}}var c=e(t).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)");c.each(function(e,t){c.eq(e).attr("data-page",e+1)}),e.extend(t,{pages:null,nextbutton:n.find('[data-dest*="next"], .next').eq(0)},this.properties,a),t.pagelink=t.maxpage=parseInt(n.attr("data-maxpage"),10)||parseInt(n.attr("data-pagelink"),10)||c.length||t.maxpage,e(t).attr("data-maxpage",t.maxpage),e(t).attr("data-pagelink",t.pagelink),t.pagingType=n.attr("data-generateLink"),this._generateLink(t),t.datalength=n.attr("data-datalength")?parseInt(n.attr("data-datalength"),10):t.datalength,e(t).attr("data-datalength",t.datalength),t.perpage=n.attr("data-perpage")?parseInt(n.attr("data-perpage"),10):t.perpage,e(t).attr("data-perpage",t.perpage),t.totalpage=n.attr("data-totalpage")?parseInt(n.attr("data-totalpage"),10):c.length,e(t).attr("data-totalpage",t.totalpage),this._addPageEventHandler(t),this._addButtonEventHandler(t);var p=parseInt(n.attr("data-selected"),10)||parseInt(n.find(".selected").attr("data-page"),10)||parseInt(n.find(".Selected").attr("data-page"),10)||1;this.setSelectedPage(t,p),n.bind("selectstart",function(e){return!1})},_first:function(t){var a=t.currentTarget.element;if(1!==a.selectedPage){e.alopex.widget.pagination.setSelectedPage(a,1),e(a).trigger("pagechange",[1])}},_last:function(t){var a=t.currentTarget.element;if(a.selectedPage!==a.totalPage){var n=a.totalpage;e.alopex.widget.pagination.setSelectedPage(a,n),e(a).trigger("pagechange",[n])}},_prev:function(t){var a=t.currentTarget.element;if(1!==a.selectedPage){var n=a.selectedPage-1;e.alopex.widget.pagination.setSelectedPage(a,n),e(a).trigger("pagechange",[n])}},_prevgroup:function(t){var a,n=t.currentTarget.element;1!==n.startpage&&(a=n.startpage-n.maxpage,e.alopex.widget.pagination.setSelectedPage(n,a),e(n).trigger("pagechange",[a]))},_next:function(t){var a=t.currentTarget.element;if(a.selectedPage!==a.totalpage){var n=a.selectedPage+1;e.alopex.widget.pagination.setSelectedPage(a,n),e(a).trigger("pagechange",[n])}},_nextgroup:function(t){var a,n=t.currentTarget.element;n.endpage!==n.totalpage&&(a=n.startpage+n.maxpage,e.alopex.widget.pagination.setSelectedPage(n,a),e(n).trigger("pagechange",[a]))},_addPageEventHandler:function(t){__ALOG("pages === ",t.pages);var a=this;e(t.pages).on("click",function(t){var n=t.currentTarget;a.setSelectedPage(n.container,n.page);var i=e(n).closest('[data-type="pagination"]');e(i).trigger("pagechange",[n.page])})},_addButtonEventHandler:function(t){var a=e(t),n=a.find("[data-dest]");if(0==n.length)for(var i in this.buttonHandler){var r=a.find("."+i).on("click",this[this.buttonHandler[i].handler]);r.length>0&&(r[0].element=t)}else for(i=0;i<n.length;i++){var o=e(n[i]).attr("data-dest");n[i].element=t,n.eq(i).addClass(this.destHandler[o].classname).attr("data-type","button").button().on("click",this[this.destHandler[o].handler])}},_removeLink:function(t){for(var a=0;a<t.pages.length;a++){if("ul"!==t.tagName.toLowerCase()){e(t.pages).remove();break}e(t.pages).parents("li").remove()}},_generateLink:function(t){var a;if(0===e(t).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)").length)for(a=0;a<t.maxpage;a++){var n=document.createElement("a");if("mobile"!==t.pagingType&&(n.innerHTML=a+1+""),"ul"===t.tagName.toLowerCase()){var i=document.createElement("li");e(n).appendTo(i),e(i).css("display","none"),t.nextbutton.length>0?e(i).insertBefore(e(t.nextbutton).parents("li")):e(i).appendTo(t)}else e(n).css("display","none"),e(t).find("a.Next").length>0?(e(n).addClass("Link"),e(n).insertBefore(e(t).find("a.Next"))):(e(n).addClass("Link"),e(n).appendTo(t))}for(t.pages=e(t).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)"),a=0;a<t.pages.length;a++)t.pages[a].page=a+1,t.pages[a].index=a,t.pages[a].container=t,"mobile"===t.pagingType?e(t.pages[a]).addClass("af-paging-mobile"):e(t.pages[a]).addClass("af-paging-number")},_changePageGroup:function(t,a){if(t.startpage=1,t.endpage=t.maxpage,0!==t.maxpage)for(;a>t.endpage;)t.startpage+=t.maxpage,t.endpage+=t.maxpage;t.endpage>t.totalpage&&(t.endpage=t.totalpage);for(var n=0;n<t.pages.length;n++)t.startpage+n<=t.totalpage?("ul"===t.tagName.toLowerCase()?e(t.pages[n]).parents("li").css("display",""):e(t.pages[n]).css("display",""),t.pages[n].page=t.startpage+n,"mobile"!==t.pagingType&&(t.pages[n].innerHTML=t.startpage+n)):("ul"===t.tagName.toLowerCase()?e(t.pages[n]).parents("li").css("display","none"):e(t.pages[n]).css("display","none"),t.pages[n].page=NaN)},_enableAllButton:function(t){e(t).find("[data-dest], .first, .prev, .prev-group, .next, .next-group, .last").setEnabled(!0).css("visibility","visible")},_disableButton:function(t,a){var n=e(t).find('[data-dest="'+a+'"]');0==n.length?e(t).find("."+a).setEnabled(!1):"disable"===e(t).attr("data-button-behavior")?n.setEnabled(!1):"show"===e(t).attr("data-button-behavior")||n.css("visibility","hidden")},getSelectedPage:function(e){return e.selectedPage},getCurrentPage:function(e){return this.getSelectedPage(e)},setTotalPage:function(t,a,n){a=parseInt(a,10),t.totalpage=a,e(t).attr("data-totalpage",a),t.selectedPage>a&&(t.selectedPage=a),e.alopex.util.isValid(n)?this.setSelectedPage(t,n):this.setSelectedPage(t,t.selectedPage)},setSelectedPage:function(t,a){a=parseInt(a,10),this._changePageGroup(t,a);var n=e(t).find("strong");0!==n.length&&e(n[0]).replaceWith(n[0].children);for(var i=0;i<t.pages.length;i++)t.pages.eq(i).removeClass("af-paging-selected Selected"),t.startpage+i===a&&t.pages.eq(i).addClass("af-paging-selected Selected").children().wrap("<strong></strong>");t.selectedPage=a,this._enableAllButton(t),1===t.selectedPage&&(this._disableButton(t,"first"),this._disableButton(t,"prev")),t.selectedPage,1===t.startpage&&this._disableButton(t,"prev-group"),t.selectedPage===t.totalpage&&this._disableButton(t,"next"),t.endpage===t.totalpage&&this._disableButton(t,"next-group"),t.selectedPage===t.totalpage&&this._disableButton(t,"last")},setMaxPage:function(t,a,n){a=parseInt(a,10),t.maxpage=a,t.pagelink=a,e(t).attr("data-pagelink",a),e(t).attr("data-maxpage",a),this._removeLink(t),this._generateLink(t),this._addPageEventHandler(t),e.alopex.util.isValid(n)?this.setSelectedPage(t,n):this.setSelectedPage(t,t.selectedPage)},setPageLink:function(e,t,a){return this.setMaxPage(e,t,a)}})}(jQuery),function(e){e.alopex.widget.panel=e.alopex.inherit(e.alopex.widget.object,{widgetName:"panel",defaultClassName:"af-panel Panel",setters:["panel","refresh","scrollToElement"],getters:[],properties:{},eventHandlers:{},init:function(t,a){var n=e(t);void 0!==t.getAttribute("data-fill")&&e.alopex.widget.panel._fill(t),e.alopex.util.parseBoolean(t.getAttribute("data-scroll"))&&this._makeScrollable(t),e(window).bind("resize",e.alopex.widget.panel._resize),void 0!==n.attr("data-responsive")&&(n.css("float","left").css("width","100%"),e(window).bind("resize",e.alopex.widget.panel._responsive),this._responsive())},_responsive:function(){e("[data-responsive]").each(function(){var t=100,a=parseFloat(e(this).attr("data-responsive").split("-")[0]),n=parseFloat(e(this).attr("data-responsive").split("-")[1]),i=document.documentElement.clientWidth;i<=e.alopex.responsive.threshold||(t=(e.alopex.responsive.threshold,n/a*100)),e(this).css("width",t+"%")})},_makeScrollable:function(t){try{if("mobile"===window.browser&&"undefined"!=typeof iScroll){var a={};/iphone|ipad/gi.test(navigator.appVersion)?a.useTransform=!0:e(t).find("input").length>0||e(t).find("textarea").length>0?a.useTransform=!1:a.useTransform=!0,a.onBeforeScrollStart=function(e){for(var t=e.target;1!==t.nodeType;)t=t.parentNode;"SELECT"!==t.tagName&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&e.preventDefault()},a.checkDOMChanges=!0,t.style.position="relative",t.scroll=new iScroll(t,a),t.scroll.onScrollEnd=function(a){e(t).trigger("scrollend",a)}}else e(t).css("position","relative"),e(t).css("overflow","auto"),t.children.length>=1&&(t.offsetHeight<t.children[0].offsetHeight&&e(t).css("overflow-y","scroll"),t.offsetWidth<t.children[0].offsetWidth&&e(t).css("overflow-x","scroll"))}catch(e){throw new Error("[makeScrollable] "+e)}},scrollToElement:function(t,a,n){"mobile"===window.browser?t.scroll.scrollToElement(a,n):e(t).find(a).length>0&&(t.scrollTop=e(t).find(a)[0].offsetHeight)},_resize:function(t){e('[data-type="panel"]').refresh()},refresh:function(t){void 0!==t.getAttribute("data-fill")&&e.alopex.widget.panel._fill(t),e.alopex.util.parseBoolean(t.getAttribute("data-scroll"))&&e.alopex.widget.panel._scroll_refresh(t)},_scroll_refresh:function(t){t.scroll?t.scroll.refresh():(e(t).css("overflow","auto"),t.children.length>=1&&(t.offsetHeight<t.children[0].offsetHeight&&e(t).css("overflow-y","scroll"),t.offsetWidth<t.children[0].offsetWidth&&e(t).css("overflow-x","scroll")))},_fill:function(e){var t=e.getAttribute("data-fill"),a=e.style.display;switch(e.style.display="none",t){case"vertical":this.fillVertical(e);break;case"horizontal":this.fillHorizontal(e);break;case"both":this.fillVertical(e),this.fillHorizontal(e)}e.style.display=a},fillVertical:function(t){for(var a=e(t.parentNode).height()-(t.parentNode.offsetHeight-t.parentNode.clientHeight),n=0,i=t.parentNode.children,r=0;r<i.length;r++)i[r]!==t&&"absolute"!==i[r].style.position&&(n+=e(i[r]).height(),isNaN(parseInt(e(i[r]).css("margin-top"),10))||(n+=parseInt(e(i[r]).css("margin-top"),10)),isNaN(parseInt(e(i[r]).css("margin-bottom"),10))||(n+=parseInt(e(i[r]).css("margin-bottom"),10)));e(t).css("height",a-n+"px")},fillHorizontal:function(t){for(var a=e(t.parentNode).width()-(t.parentNode.offsetWidth-t.parentNode.clientWidth),n=0,i=t.parentNode.children,r=0;r<i.length;r++)i[r]!==t&&"absolute"!==i[r].style.position&&(n+=e(i[r]).width(),isNaN(parseInt(e(i[r]).css("margin-left"),10))||(n+=parseInt(e(i[r]).css("margin-left"),10)),isNaN(parseInt(e(i[r]).css("margin-right"),10))||(n+=parseInt(e(i[r]).css("margin-right"),10)));e(t).css("width",a-n+"px")}})}(jQuery),function(e){e.alopex.widget.progressbar=e.alopex.inherit(e.alopex.widget.object,{widgetName:"progressbar",defaultClassName:"af-progressbar Progressbar",setters:["progressbar","setValue","setOptions"],getters:["getValue"],properties:{starttext:null,endtext:null,textColor:null,resizable:!0},eventHandlers:{},init:function(t,a){var n;e.extend(t,this.properties,a),n=t.progEl?t.progEl:document.createElement("div");var i=e.alopex.widget.progressbar._realWidth(e(t));n.minValue=0,n.maxValue=100,n.value=0,e(n).attr("style","position:relative; left:0px;"),t.appendChild(n),e(n).css("height",e(t).css("height")),n.maxWidth=e(t).css("width").split("px")[0],0==n.maxWidth&&(n.maxWidth=i);var r,o=e(t).attr("data-default");(e.alopex.util.isValid(o)?(n.value=o,e(n).css("border",e(t).css("border")),e(n).css("width",n.maxWidth*(o/n.maxValue)+"px")):e(n).css("width","0px"),e(t).hasClass("Progress-text"))&&(a.showText=!0,r=t.textSpan?t.textSpan:document.createElement("span"),e(r).attr("style","position: absolute; "),e(r).css("height",e(t).css("height")),e(r).css("width",e(t).css("width")),"0"==e(r).css("width").replace("px","")&&e(r).css("width",i+"px"),t.starttext?(r.startProg=t.starttext,e(r).text(r.startProg)):e(r).text("0%"),t.endtext&&(r.endProg=t.endtext),e.alopex.util.isValid(t.textColor)&&t.textColor&&e(r).css("color",t.textColor),e.alopex.util.isValid(o)&&("100"===o&&r.endProg?e(r).text(r.endProg):"0"===o&&r.startProg?e(r).text(r.startProg):e(r).text(o+"%")),e(n).append(r),e(r).appendTo(n),t.textSpan=r);t.progEl=n,t.parentWidth=e(t.parentElement).css("width"),t.resizable&&setInterval(this._resizeHandler,300,t)},_resizeHandler:function(t){e(t.parentElement).css("width");var a,n=e.alopex.widget.progressbar._realWidth(e(t));if((a=t.progEl?t.progEl:t.children[0]).maxWidth=e(t).css("width").split("px")[0],0==a.maxWidth&&(a.maxWidth=n),e(a).css("width",a.maxWidth*(a.value/a.maxValue)+"px"),e(t).hasClass("Progress-text")){var i=t.textSpan;e(i).css("width",e(t).css("width")),"0"==e(i).css("width").replace("px","")&&e(i).css("width",n+"px")}},_realWidth:function(t){var a=t.clone();a.css("visibility","hidden"),e("body").append(a);var n=a.outerWidth();return a.remove(),n},setOptions:function(t,a){var n;if(n=t.progEl?t.progEl:t.children[0],e.alopex.util.isValid(a.bgColor)&&e(n).css("background-color",a.bgColor),e.alopex.util.isValid(a.bgUrl)&&e(n).css("background-image","url("+a.bgUrl+")"),e.alopex.util.isValid(a.showText)&&a.showText){var i;if(i=t.textSpan?t.textSpan:document.createElement("span"),e(i).attr("style","position: absolute;"),e(i).css("height",e(t).css("height")),e(i).css("left",e(t).css("width").split("px")[0]/2-35+"px"),e.alopex.util.isValid(a.textArray)&&a.textArray){i.startProg=a.textArray[0],i.endProg=a.textArray[1];var r=n.value;100===r&&i.endProg?e(i).text(i.endProg):0===r&&i.startProg&&e(i).text(i.startProg)}e(n).append(i),e(i).appendTo(n),t.textSpan=i}else e.alopex.util.isValid(a.showText)&&!a.showText&&t.textSpan&&e(t.textSpan).remove();e.alopex.util.isValid(a.textColor)&&a.textColor&&t.textSpan&&e(t.textSpan).css("color",a.textColor)},setValue:function(t,a){var n=t.children[0];n.value=a,e(n).css("border",e(t).css("border")),e(n).css("width",n.maxWidth*(a/n.maxValue)+"px");var i=e(n).children("span")[0];void 0!==i&&e(t).hasClass("Progress-text")&&(100===a&&i.endProg?e(i).text(i.endProg):0===a&&i.startProg?e(i).text(i.startProg):e(i).text(a+"%"))},getValue:function(e){var t=e.children[0],a=t.value;return a>t.maxValue?a=t.maxValue:a<t.minValue&&(a=t.minValue),a}})}(jQuery),function(e){e.alopex.widget.radio=e.alopex.inherit(e.alopex.widget.object,{widgetName:"radio",defaultClassName:"af-radio Radio",defaultTextClassName:"af-radio-text",defaultWrapClassName:"af-wrapradio",defaultWrapSpanClassName:"af-wrapradio-span",setters:["radio","setSelected"],getters:["getValue","getText"],properties:{wrap:!1},init:function(t,a){var n=e(t);t.options=e.extend(!0,{},this.properties,a);try{n.attr("type","radio")}catch(e){}(t.options.wrap||e.alopex.util.parseBoolean(t.alopexoptions.wrap))&&(t.className?(-1!==t.className.indexOf(this.defaultClassName)&&n.addClass(this.defaultWrapClassName),n.after('<span class="'+t.className+'-span"></span>')):n.after('<span class="'+this.defaultWrapSpanClassName+'"></span>')),-1!=navigator.userAgent.indexOf("SamsungBrowser/3.2")&&n.on("click",function(t){e(this).trigger("change")}),n.on("change",function(t){var a=e(t.currentTarget).parent("label"),n=e(t.currentTarget).attr("name");e(document.body).find("input[name="+n+"]").parent("label."+e.alopex.widget.radio.defaultTextClassName).removeClass("Checked"),a.addClass("Checked")}),(t.checked||"checked"==t.getAttribute("checked"))&&e(t).trigger("change")},style:function(t){var a=e('label[for="'+t.id+'"]');if(t.id&&(a=e('label[for="'+t.id+'"]')).length)return void a.addClass(this.defaultTextClassName);e(t).parent("label").addClass(this.defaultTextClassName)},setSelected:function(t){"INPUT"===t.tagName&&(t.checked=!0),e(t).parent("label").addClass("Checked"),e(t).trigger("change")},getValue:function(t){var a=e("input[name="+t.name+"]:checked");return a.length>0?e(a[0]).val():null},getText:function(t){var a=e("input[name="+t.name+"]:checked");if(a.length>0){a[0];var n=e(a[0]).parent("label");return 0==n.length&&(n=e(t).parent("label")),n.text()}return null}})}(jQuery),function(e){e.alopex.widget.select=e.alopex.inherit(e.alopex.widget.baseselect,{widgetName:"select",defaultClassName:"af-select Select",getters:["getValues","getTexts"],setters:["select","setPlaceholder","setSelected","clear","refresh","setSelectSize"],properties:{wrap:!1},init:function(t,a){var n=e(t);t.alopexoptions=e.extend(!0,{},this.properties,a),(t.alopexoptions.wrap||e.alopex.util.parseBoolean(t.alopexoptions.wrap))&&n.attr("data-type","divselect").divselect(),"true"==n.attr("data-select-multiple")&&(n.attr("multiple","multiple"),defaultStyleClass="af-multiselect",n.bind("selectstart click",function(e){return!1})),t.alopexoptions.selectsize&&this.setSelectSize(t)},setSelectSize:function(t,a){var n=null,i=a,r=t.alopexoptions.selectsize;e.alopex.util.isPlusInt(i)?n=a:e.alopex.util.isPlusInt(r)&&(n=r),null!=n&&(t.setAttribute("size",n),t.setAttribute("data-select-size",n+""))}})}(jQuery),function(e){e.alopex.widget.searchinput=e.alopex.inherit(e.alopex.widget.object,{widgetName:"searchinput",defaultClassName:"af-searchinput",defaultClearClassName:"af-clear-button",setters:["searchinput"],markup:function(){return'<div><span af-dynamic class="af-icon af-default search"></span><input class="af-textinput af-default" /><span af-dynamic class="af-icon af-default remove-sign"></span></div>'},properties:{clear:null},eventHandlers:{keydown:{event:"keyup",handler:"_keyupHandler"},change:{event:"change",handler:"_changeHandler"},clearclick:{event:"click",selector:"[data-clear]",handler:"_clear"}},_clear:function(e){},style:function(e){}})}(jQuery),function(e){e.alopex.widget.spinner=e.alopex.inherit(e.alopex.widget.baseinput,{widgetName:"spinner",defaultClassName:"af-spinner Spinner",setters:["spinner","setEnabled"],getters:[],properties:{min:"default",max:"default",step:1,hours:"12H"},init:function(t,a){var n,i,r,o=e(t);if("div"==t.tagName.toLowerCase()?(n=o,i=e(t).find(".Up"),r=e(t).find(".Down"),t=t.querySelector("input")):(o.wrap('<div class="'+t.className+' af-spinner-wrapper"></div>'),(n=e(t.parentNode)).append('<a class="af-spinner-button-up"></a>'),n.append('<a class="af-spinner-button-down"></a>'),i=o.siblings(".af-spinner-button-up"),r=o.siblings(".af-spinner-button-down")),o=e(t),t.type="text",e.extend(t,e.alopex.widget.spinner.properties,a),n.hasClass("Time")){i.on("click",e.alopex.widget.spinner._timeUpHandler),r.on("click",e.alopex.widget.spinner._timeDownHandler);var s=n.find("input");s.on("keydown",e.alopex.widget.spinner._timeKeydownHandler),s.on("blur",e.alopex.widget.spinner._timeBlurHandler),s.on("change",e.alopex.widget.spinner._timeChangeHandler),s.on("click",e.alopex.widget.spinner._timeClickHandler);var l,d,c,p=t.parentElement;if((l=p.querySelector("[data-hour]"))&&(l.value="00",l.maxLength=2,"24H"==t.hours?(l.max=23,l.min=0):(l.max=12,l.min=0,e(p).attr("data-hours","12H")),l.step=1,l.offset=0),(d=p.querySelector("[data-minute]"))&&(d.type="text",d.value="00",d.max=59,d.min=0,d.maxLength=2,d.step=1,d.offset=0),c=p.querySelector("[data-ampm]")){c.maxLength=2,c.type="text";var u="ko";e.alopex.util.isValid(e.alopex.config.locale)&&(u=e.alopex.config.locale),e.alopex.util.isValid(t.locale)&&(u=t.locale),u=u.toLowerCase();var h=e.alopex.config.language[u].spinner,f=c.offsetWidth;c.am=h.ampm[0],c.pm=h.ampm[1],"zh"!==u&&"ja"!==u||e(c).css("width",f+5),c.value=c.am}}else i.on("click",e.alopex.widget.spinner._upHandler),r.on("click",e.alopex.widget.spinner._downHandler),o.on("keydown",e.alopex.widget.spinner._keydownHandler),i.data("element",t),r.data("element",t),"default"!=t.max&&(t.max=parseFloat(t.max),t.value&&t.value>t.max&&(t.value=t.max)),"default"!=t.min&&(t.min=parseFloat(t.min),t.value&&t.value<t.min&&(t.value=t.min))},_upHandler:function(t){var a=e(t.currentTarget).data("element");e.alopex.widget.spinner.valueUp(a)},_downHandler:function(t){var a=e(t.currentTarget).data("element");e.alopex.widget.spinner.valueDown(a)},_keydownHandler:function(t){var a=t.currentTarget;e(a).closest(".af-spinner-wrapper").hasClass("af-disabled Disabled")||(38===t.which?e.alopex.widget.spinner.valueUp(a):40===t.which&&e.alopex.widget.spinner.valueDown(a))},_timeClickHandler:function(e){this.select()},_timeBlurHandler:function(e){var t=e.currentTarget;t.parentElement._lastFocused=t,t.offset=0},_timeChangeHandler:function(t){var a=t.currentTarget,n=a.value,i=a.parentElement.querySelector("[data-ampm]");if((a.hasAttribute("data-hour")||a.hasAttribute("data-minute"))&&1==n.length&&(a.value="0"+n),i&&a.hasAttribute("data-hour"))a.max==n?e(i).val(i.pm):a.min==n?e(i).val(i.am):n>=12?e(i).val(i.pm):e(i).val(i.am);else if(a.hasAttribute("data-ampm")){a.parentElement.querySelector("[data-hour]").value>=12?e(a).val(a.pm):e(a).val(a.am)}},_timeUpHandler:function(t){var a=t.currentTarget.parentElement;(a=a._lastFocused?a._lastFocused:a.querySelector("input")).hasAttribute("data-hour")?(e.alopex.widget.spinner.valueUp(a),e(a).trigger("change")):a.hasAttribute("data-minute")?(e.alopex.widget.spinner.valueUp(a),e(a).trigger("change")):a.hasAttribute("data-ampm")&&e(a).val(a.am),e(a).focus()},_timeDownHandler:function(t){var a=t.currentTarget.parentElement;(a=a._lastFocused?a._lastFocused:a.querySelector("input")).hasAttribute("data-hour")?(e.alopex.widget.spinner.valueDown(a),e(a).trigger("change")):a.hasAttribute("data-minute")?(e.alopex.widget.spinner.valueDown(a),e(a).trigger("change")):a.hasAttribute("data-ampm")&&e(a).val(a.pm),e(a).focus()},_timeKeydownHandler:function(t){var a=t.currentTarget,n=e(a);n.closest(".af-spinner-wrapper").hasClass("af-disabled Disabled")||(38===t.which?a.hasAttribute("data-ampm")?n.val(a.am):e.alopex.widget.spinner.valueUp(a):40===t.which?a.hasAttribute("data-ampm")?n.val(a.pm):e.alopex.widget.spinner.valueDown(a):37===t.which?n.prevAll("input:first").focus():39===t.which?n.nextAll("input:first").focus():(a.hasAttribute("data-hour")||a.hasAttribute("data-minute"))&&(t.which>=48&&t.which<=57?e.alopex.widget.spinner._inputKeyHandler(a,t.which):t.which>=96&&t.which<=105?e.alopex.widget.spinner._inputKeyHandler(a,t.which-48):a.offset=0))},_inputKeyHandler:function(t,a){if(0==t.offset){var n=window.getSelection();if(n&&n.collpaseToEnd)n.collapseToEnd();else if(t.createTextRange){var i=t.createTextRange();i.collapse(!1),i.select()}t.value="0"+String.fromCharCode(a),t.offset++}else if(1==t.offset){t.prevValue=t.value,1===t.prevValue.length&&(t.value=t.prevValue="0"+t.value),void 0===t.prevValue[1]&&(t.prevValue="00");var r=parseFloat(t.prevValue[1]+String.fromCharCode(a)),o=e(t).nextAll("input:first").focus();if(r>parseInt(t.max)){if(o.is("[data-hour]")||o.is("[data-minute]"))return o[0].offset=0,this._inputKeyHandler(o[0],a)}else t.value=t.prevValue[1]+String.fromCharCode(a);t.offset=0}e(t).trigger("change")},valueUp:function(t){"div"==t.tagName.toLowerCase()&&(t=t.querySelector("input"));var a=parseFloat(t.value),n=0,i=0;if(!isNaN(a)){t.value.split(".");var r=0;"default"!=t.max&&(n=parseFloat(t.max)),"default"!=t.min&&(i=parseFloat(t.min)),r=n&&a>n?n:i&&a<i?i:e.alopex.util.addFloat(t.value,t.step),("default"==t.max||r<=parseFloat(t.max))&&(t.value=r),e(t).trigger("change")}},valueDown:function(t){"div"==t.tagName.toLowerCase()&&(t=t.querySelector("input"));var a=parseFloat(t.value),n=0,i=0;if(!isNaN(a)){t.value.split(".");var r=0;"default"!=t.max&&(n=parseFloat(t.max)),"default"!=t.min&&(i=parseFloat(t.min)),r=n&&a>n?n:i&&a<i?i:e.alopex.util.addFloat(t.value,-1*t.step),("default"==t.min||r>=parseFloat(t.min))&&(t.value=r),e(t).trigger("change")}},setEnabled:function(t,a){var n,i;"div"==t.tagName.toLowerCase()?(t=t.querySelector("input"),n=e(t).siblings(".Up"),i=e(t).siblings(".Down")):(n=e(t).siblings(".af-spinner-button-up"),i=e(t).siblings(".af-spinner-button-down"));var r=e(t),o=r.closest(".af-spinner-wrapper");e(t.parentElement).hasClass("Time")?(n.off("click",e.alopex.widget.spinner._timeUpHandler),i.off("click",e.alopex.widget.spinner._timeDownHandler)):(n.off("click",e.alopex.widget.spinner._upHandler),i.off("click",e.alopex.widget.spinner._downHandler)),a?(e(t.parentElement).hasClass("Time")?(n.on("click",e.alopex.widget.spinner._timeUpHandler),i.on("click",e.alopex.widget.spinner._timeDownHandler),r=e(t.parentElement).children()):(n.on("click",e.alopex.widget.spinner._upHandler),i.on("click",e.alopex.widget.spinner._downHandler)),e(t.parentElement).removeClass("af-disabled Disabled"),r.removeAttr("readonly"),r.removeAttr("Disabled"),r.removeClass("af-disabled Disabled"),o.removeClass("af-disabled Disabled"),n.removeClass("af-disabled Disabled"),i.removeClass("af-disabled Disabled")):(e(t.parentElement).hasClass("Time")&&(r=e(t.parentElement).children()),e(t.parentElement).addClass("af-disabled Disabled"),r.attr("readonly",!0),r.attr("Disabled","Disabled"),n.off("click"),i.off("click"),r.addClass("af-disabled Disabled"),n.addClass("af-disabled Disabled"),i.addClass("af-disabled Disabled"),o.addClass("af-disabled Disabled"))}})}(jQuery),jQuery,function(e){e.alopex.widget.table=e.alopex.inherit(e.alopex.widget.object,{widgetName:"table",defaultClassName:"af-table Table",wrapperClassName:"af-table-wrapper af-default "+e.alopex.config.defaultComponentClass.table+"-wrapper",scrollerClassName:"af-table-scroller "+e.alopex.config.defaultComponentClass.table+"-scroller",setters:["table","hideColumn","showColumn","tableSort"],getters:[],resizeThreshold:10,resizing:!1,resizeReady:!0,properties:{},style:function(e){},event:function(e){},tableSort:function(t,a,n){e.alopex.widget.table.sort(a,n)},init:function(t){var a=e(t);e.alopex.util.isValid(a.attr("data-scroller-use"))&&!e.alopex.util.parseBoolean(a.attr("data-wrapper"))||0!=a.parent('div[class*="-scroller"]').length||(a.wrap('<div class="'+this.wrapperClassName+'" af-dynamic>'),a.wrap('<div class="'+this.scrollerClassName+'" af-dynamic>')),e.extend(t,{scroller:null,hscroller:null,resizingHeader:null,scrolling:!1,sorting:!1,resizing:!1,editing:!1,highlighting:!1,theme:null}),this._addColgroup(t),a.css({"table-layout":"fixed"}),"0px"===a.css("min-width")&&a.css({"min-width":"100%"}),e.alopex.util.isValid(t.style.width)||a.css({width:"100%"});var n=a.closest(".af-table-wrapper, ."+e.alopex.config.defaultComponentClass.table+"-wrapper");if(n.css({overflow:"hidden",position:"relative"}),t.wrapper=n.length>0?n[0]:t,t.head=e.alopex.widget.table.getTableHead(t),e.alopex.util.isValid(t.head)&&(t.head.table=t,e(t.head).addClass("af-table-head")),e.alopex.util.isValid(e(t).attr("data-height"))&&e(t.wrapper).css("height",e(t).attr("data-height")),e.alopex.util.isValid(e(t).attr("data-width"))){var i=t.hscroller?t.hscroller:t.wrapper;e(i).css("width",e(t).attr("data-width"))}this._refreshForEtc(t)},_refreshForConvert:function(t){e.each(t.children,function(){e.alopex.convert(this)})},_refreshForEtc:function(t){var a=e(t);if(-1!==navigator.userAgent.indexOf("MSIE 7")&&a.removeAttr("data-scroll"),!t.sorting&&(a.find("[data-sortable]").length>0||a.find("[data-sort-function]").length>0)&&(this._enableSorting(t),t.sorting=!0),!t.resizing&&a.find('[data-resizable="true"]').length>0?(this._enableResizing(t),t.resizing=!0):t.resizing&&this._refreshColgroup(t),e(t).find('[data-editable="true"]').addClass("af-table-editor Editor"),!t.editing&&a.find('[data-editable="true"]').length>0&&(this._enableEditing(t),t.editing=!0),!t.highlighting&&a.attr("data-highlight")){var n="td,th";"body"===a.attr("data-highlight")&&(n="tbody td, tbody th"),a.find(n).css("cursor","pointer"),e(t.wrapper).on("click",n,this._addTableHighlight),t.highlighting=!0}e(t).is(":hidden")||(t.scrolling||void 0===a.attr("data-scroll")||(this._enableScrolling(t),t.scrolling=!0),this._refreshTableHead(t),void 0!==e(t).attr("data-scroll")&&this._refreshTableScroll(t))},refresh:function(e){this._refreshForConvert(e),this._refreshForEtc(e)},_enableScrolling:function(t){var a=e(t).closest("."+this.scrollerClassName+", ."+e.alopex.config.defaultComponentClass.table+"-scroller");t.scroller=a.length>0?a[0]:null,t.scroller.el=t,e(t.wrapper).css({overflow:"hidden"});var n=e(t).find("colgroup").clone(!0);if("body"===e(t).attr("data-scroll")){if("mobile"===window.browser){if(e(t.scroller).css({overflow:"hidden","overflow-y":"auto"}),t.head){var i=e(t.head).clone(!0).appendTo(t);t.clone=e(t).clone(!0).removeAttr("id").removeAttr("data-type").empty()[0],e(t.wrapper).prepend(t.clone),e(t.head).prepend(n),e(t.head).appendTo(t.clone),e(t.head).css({"z-index":"1",position:"absolute",display:"table","table-layout":"fixed"}),i.remove()}var r=e("<div></div>").attr("class",t.theme+" af-table-hscroller");r.css({overflow:"hidden","overflow-x":"auto","-webkit-overflow-scrolling":"touch"}),e(t.wrapper).wrap(r[0]),t.hscroller=t.wrapper.parentNode,t.hscroller.el=t}else t.head&&(e(t.head).css({float:"left",position:"absolute",top:"0px",display:"table","table-layout":"fixed"}),e(t.head).prepend(n)),e(t.scroller).css({overflow:"auto"}),e(t).css({overflow:"hidden"}),e(t.scroller).bind("scroll",function(t){var a=t.currentTarget,n=a.children[0];e(n.head).css({left:-1*a.scrollLeft+"px"})});e(t.head).find("tr").css("display","table-row"),-1!==navigator.userAgent.toLowerCase().indexOf("android")&&(e(t.hscroller).bind("touchstart",function(e){var t=e.currentTarget.el;t.started=!0,t.x=e.originalEvent.touches[0].clientX,t.y=e.originalEvent.touches[0].clientY}),e(t.hscroller).bind("touchmove",function(t){var a=t.currentTarget.el;a.started&&(a.x=Math.abs(t.originalEvent.touches[0].clientX-a.x),a.y=Math.abs(t.originalEvent.touches[0].clientY-a.y),a.x>a.y?(e(a.hscroller).css({overflow:"hidden","overflow-x":"auto"}),e(a.scroller).css("overflow","hidden")):(e(a.hscroller).css("overflow-x","hidden"),e(a.scroller).css({overflow:"hidden","overflow-y":"auto"})),a.started=!1)}))}else e(t.scroller).css({overflow:"auto","overflow-scrolling":"touch"})},_refreshTableHead:function(t){if(e.alopex.util.isValid(t.head)){var a=e(t).find("tbody > tr"),n=e(t).find("tbody"),i=t.offsetWidth;a.length>0?i=a[a.length-1].offsetWidth:n.length>0&&(i=n[0].offsetWidth);var r=e(t.head);r.css({"table-layout":"",width:i+"px"}),0==i&&r.css({width:"100%"});var o=t;setTimeout(function(){e(o);r.css({"table-layout":"fixed"})},10)}},_refreshTableScroll:function(t){var a=e(t.scroller),n=t.wrapper.offsetHeight;"all"===e(t).attr("data-scroll")?a.css("margin-top","0"):("mobile"===window.browser&&e(t.wrapper).css("width",t.offsetWidth+"px"),e.alopex.util.isValid(t.head)&&(n-=t.head.offsetHeight,a.css("margin-top",t.head.offsetHeight+"px"))),a.css("height",n+"px")},hideColumn:function(t,a){e(t).find("tr > th:nth-child("+(a+1)+"),tr > td:nth-child("+(a+1)+")").addClass("Display-none");var n=e(t).find("tr > th").css("border-left");e(t).find("tr > th , tr > td").css("border-right",n)},showColumn:function(t,a){e(t).find("tr > th:nth-child("+(a+1)+"),tr > td:nth-child("+(a+1)+")").removeClass("Display-none")},clear:function(t){e(t).find("tr").each(function(){e(this).closest("thead").length>0||e(this).find("th").length>0||e(this).remove()})},_addTableHighlight:function(t){var a=t.target;a=e(a).closest("tr,td, th")[0];var n=e(a).closest("tr")[0],i=e(a).closest("th")[0],r=e(a).closest("table")[0],o=!1;if(void 0!==i&&(o=!0),e(r).find(".af-table-row").removeClass("af-table-row"),e(r).find(".af-table-cell").removeClass("af-table-cell"),e(r).find(".af-table-column").removeClass("af-table-column"),o){var s=e.alopex.widget.table.getColumnIndex(a);e(r).find("td:nth-child("+(s+1)+"),th:nth-child("+(s+1)+")").addClass("af-table-column")}else e(n).addClass("af-table-row"),e(a).addClass("af-table-cell")},getTableHead:function(t){var a=null;return e(t).find("thead").length>0?a=e(t).find("thead")[0]:e(t).find("th").length>0&&(a=e(t).find("th")[0].parentNode),a},getTableBody:function(t){return e(t).find("tbody").length>0?t.tBody?t.tBody:e(t).find("tbody")[0]:t},getRowIndex:function(e){for(var t=e.parentNode,a=t;"table"!==a.tagName.toLowerCase();)a=a.parentNode;for(var n=a.tableBody,i=0,r=0;r<n.rows.length;r++)if(n.rows[r]!==a.tableHead){if(n.rows[r]===t)return i;i++}return i},getColumnIndex:function(t){var a=t.parentNode;if(e.alopex.util.isValid(a.cells))for(var n=0;a.cells.length;n++)if(a.cells[n]===t)return n;return-1},_enableEditing:function(t){e(t.wrapper).on("click",'[data-editable="true"]',e.alopex.widget.table._editHandler)},_disableEdit:function(t){var a=t.tableHead,n=t.tableBody;e(a).find('[data-editable="true"]').each(function(){for(var t=e.alopex.widget.table.getColumnIndex(this),i=0;i<n.rows.length;i++)n.rows[i]!==a&&e(n.rows[i]).find("td:nth-child("+(t+1)+")").unbind("click",e.alopex.widget.table._editHandler)})},_editHandler:function(t){var a=e(t.target).closest("td")[0],n=e(a).closest("table")[0];if(!(void 0!==a.children&&a.children.length>0)){var i=document.createElement("input");e(i).val(a.text=e(a).text()),e.alopex.widget.table.tmpInput=i,e.alopex.widget.table.tmp=a,e(a).text("").append(i).addClass("af-editing Editing"),e(i).focus(),e.alopex.widget.table._disableEdit(n),e(i).bind("focusout",function(e){r(e)}),e(i).bind("keydown",function(e){13!==e.keyCode&&27!==e.keyCode||r(e)})}function r(t){t.stopImmediatePropagation(),t.preventDefault();var a=e.alopex.widget.table.tmpInput,i=e(a).val();a.parentNode.text!==i&&(e(a.parentNode).addClass("af-edited Edited"),n.edited=!0),e(a.parentNode).text(i).removeClass("af-editing Editing"),e(a).remove(),e.alopex.widget.table._enableEditing(n)}},_addColgroup:function(t){var a=e(t).find("tr");a=a[a.length-1];var n=e(t).find("colgroup");if(0===n.length){n=document.createElement("colgroup");for(var i=0;i<a.children.length;i++){var r=document.createElement("col");e(r).appendTo(n)}e(n).insertBefore(t.children[0])}else n=n[0]},_refreshColgroup:function(t){var a=e(t).find("tr");if(a.length>0){var n,i=0;a.each(function(t,a){var n=e(a).children("td").length;i=n>i?n:i});var r=e("<tr>").css("height","0px");for(n=0;n<i;n++)r.append("<td>&nbsp;</td>");r.insertAfter(a.last());e(t).find("colgroup");var o,s=[];for(n=0,o=i;n<o;n++){var l=r.children("td").eq(n).offsetWidth;s.push(l)}for(n=0;n<s.length;n++)e(t).find("col:nth-child("+(n+1)+")").css("width",s[n]);r.remove()}},_enableResizing:function(t){"mobile"!==window.browser&&(e(t.wrapper).on("mousedown",'[data-resizable="true"]',this._resizeStartHandler).on("mousemove",'[data-resizable="true"]',this._checkResizeCondition),e(t.wrapper).find('[data-resizable="true"]').each(function(){this.table=t;var a=document.createElement("div");e(a).addClass("af-table-resize ResizeIcon").appendTo(this)}),e(t.rows[0].cells).each(function(e){this.index=e}),e(t).on("selectstart",function(e){return!1}),e(t).on("dragstart",function(e){return!1}))},_resizeStartHandler:function(t){var a=t.currentTarget,n=a.table,i=n.offsetWidth;e(n).css({width:i+"px","min-width":""}),e.alopex.widget.table.resizeready&&(e.alopex.widget.table.resizing=!0,e.alopex.widget.table.resizingEl=a,e(document).bind("mousemove",e.alopex.widget.table._resizeMoveHandler),e(document).bind("mouseup",e.alopex.widget.table._resizeEndHandler),e.alopex.util.isValid(e("body").css("cursor"))&&e("body").data("cursor",e("body").css("cursor")),e("body").css("cursor","col-resize").css("text-overflow","ellipsis"))},_resizeMoveHandler:function(t){if(e.alopex.widget.table.resizing){var a=e.alopex.widget.table.resizingEl,n=a.table,i=e.alopex.util.getScrolledPosition(a).left,r=t.pageX-i;a.width&&r<a.width&&Math.abs(a.width-a.offsetWidth)>3?(e.alopex.widget.table._resizeColumn(a,a.offsetWidth),a.width=a.offsetWidth):(e.alopex.widget.table._resizeColumn(a,r),a.width=r),e.alopex.widget.table._refreshTableScroll(n)}},_resizeEndHandler:function(t){if(e.alopex.widget.table.resizing){e.alopex.widget.table.resizingEl;e.alopex.widget.table.resizing=!1,e.alopex.widget.table.resizingEl=null,e(document).unbind("mousemove",e.alopex.widget.table._resizeMoveHandler),e(document).unbind("mouseup",e.alopex.widget.table._resizeEndHandler),e.alopex.util.isValid(e("body").data("cursor"))?e("body").css("cursor",e("body").data("cursor")):e("body").css("cursor","").css("background","")}},_checkResizeCondition:function(t){var a=e(t.target).closest('[data-resizable="true"]')[0],n=e.alopex.util.getScrolledPosition(a).left+a.offsetWidth;"col-resize"!==e(a).css("cursor")&&e(a).data("cursor",""),t.pageX>=n-e.alopex.widget.table.resizeThreshold?(e(a).css("cursor","col-resize"),e.alopex.widget.table.resizeready=!0):(e(a).css("cursor",e(a).data("cursor")),e.alopex.widget.table.resizeready=!1)},_resizeColumn:function(t,a){var n=t.table,i=e(n),r=n.head;e(t).css("width",a+"px"),e(i).find("colgroup > col:nth-child("+(t.index+1)+")").each(function(){var n=e(i).find("tr:first-child").find("td,th")[t.index].offsetWidth,o=this.width?this.width:n,s=this.tableWidth?this.tableWidth:parseInt(i.css("width").replace("px",""),10),l=a-o;this.width=a,this.style.width=a+"px",e(this).css("width",a+"px"),this.tableWidth=s+l,i.css("width",this.tableWidth+"px"),e(r).css("width",this.tableWidth+"px")})},_enableSorting:function(t){var a=t.head;e(a).find("th, td").each(function(a){if(void 0!==e(this).attr("data-sortable")||void 0!==e(this).attr("data-sort-function")){this.columnIndex=a,this.table=t;var n=document.createElement("span");e(n).addClass("af-icon Icon"),e(this).append(n).css("cursor","pointer")}}),e(t.wrapper).on("click","[data-sortable], [data-sort-function]",e.alopex.widget.table._sort)},_sort:function(t){var a=t.currentTarget;e.alopex.widget.table.sort(a)},sort:function(t,a){void 0===t&&(t=this);var n=t.table;if(n){for(var i,r=t.columnIndex,o=n.tBodies[0],s=[],l=[],d=0;d<o.rows.length;d++)o.rows[d].cells.length>0&&"th"===o.rows[d].cells[0].tagName.toLowerCase()||s.push([this._getInnerText(o.rows[d].cells[r]),o.rows[d]]);if(void 0!==e(t).attr("data-sort-function"))i=window[e(t).attr("data-sort-function")];else switch(e(t).attr("data-sortable")){case"number":i=e.alopex.util.sort_numeric;break;case"date":l=e.alopex.util.formatDate(l),i=e.alopex.util.sort_date;break;default:i=e.alopex.util.sort_default}for(e(t).siblings().removeClass("af-table-ascending AscendingOrder").removeClass("af-table-descending DescendingOrder"),void 0!==a?"desc"===a.toLowerCase()?(e(t).removeClass("af-table-ascending AscendingOrder"),e(t).addClass("af-table-descending DescendingOrder"),s=e.alopex.util.mergeSort(s,i,!1)):(e(t).removeClass("af-table-descending DescendingOrder"),e(t).addClass("af-table-ascending AscendingOrder"),s=e.alopex.util.mergeSort(s,i,!0)):-1!==t.className.indexOf("af-table-ascending AscendingOrder")?(e(t).removeClass("af-table-ascending AscendingOrder"),e(t).addClass("af-table-descending DescendingOrder"),s=e.alopex.util.mergeSort(s,i,!1)):(e(t).removeClass("af-table-descending DescendingOrder"),e(t).addClass("af-table-ascending AscendingOrder"),s=e.alopex.util.mergeSort(s,i,!0)),d=0;d<s.length;d++)o.appendChild(s[d][1])}},_getInnerText:function(e){return e?e.innerHTML:""},getColumnCount:function(t){for(var a=0,n=e(t).find("tr"),i=0;i<n.length;i++){var r=n.find("td, th").length;r>a&&(a=r)}return a}})}(jQuery),function(e){e.alopex.widget.tabs=e.alopex.inherit(e.alopex.widget.object,{widgetName:"tabs",defaultClassName:"af-tabs Tabs",setters:["tabs","setTabIndex","setTabByContent","setEnabled","setEnabledByContent","reload","clear","removeTab","setBeforeunload","addTab","_refeshButtonGroup","setDraggable","setTabWidth","cancelThisTabChange","moveTab"],getters:["getCurrentTabIndex","getTabContentByIndex","getCurrentTabContent","getButtonsGroup","getButtons","getContent","getActiveButtons","getLength","isEnabled","getTitleByIndex","getSubTabByIndex"],requestButton:null,properties:{buttons:null,buttonGroup:null,tabstrigger:"click",eventState:"init",carousel:!1,wrapper:null,removebutton:!1,initfocus:!1,beforeunload:{},buttonScroller:!1,useremoveall:!1,draggable:!1,tabwidth:null,depth2position:null,refreshbutton:!1,preloading:!1},classNames:{removebutton:"RemoveButton",refreshbutton:"RefreshButton"},getLength:function(e){return e.buttons?e.buttons.length:0},getButtonsGroup:function(e){return e.buttonGroup},getButtons:function(e){return e.buttons},getContent:function(t,a,n){e.alopex.widget.tabs.getTabContentByIndex(t,a,n)},getTitleByIndex:function(t,a,n){if(t.buttons&&t.buttons[a]){if("number"==typeof n)try{var i=e(t.buttons[a].depth2Tabs.buttons[n]).find("p");if(!i.length)return;return r=i.text()}catch(e){return}var r=e(t.buttons[a]).contents().filter(function(){return 3==this.nodeType}).text();return r}},reload:function(t,a,n){t.buttons&&t.buttons[a]?0!=e(t.buttons[a]).attr("data-content").indexOf("#")&&this._loadHTML(t.buttons[a],t,n):console.error("Can't find any Content by the index["+a+"]")},setBeforeunload:function(t,a,n){e(t);t.options.beforeunload||(t.options.beforeunload={}),t.options.beforeunload[a]=n},init:function(t,a){var n=e(t);t.options=e.extend(!0,{},this.properties,a),t._currentTabIndex=-1,t.depth=1,t.options&&"top"==t.options.depth2position||t.options&&"left"==t.options.depth2position&&e(t).addClass("Vertical"),e(t).find(".ButtonScroller").length>0&&(t.options.buttonScroller=!0,e(t).prepend('<button class="Button ScrollerbuttonL"><span class="Icon Chevron-left" data-position="center"></span></button>').find(".ScrollerbuttonL").convert(),e(t).prepend('<button class="Button ScrollerbuttonR"><span class="Icon Chevron-right" data-position="center"></span></button>').find(".ScrollerbuttonR").convert()),t.options&&t.options.useremoveall&&e(t).prepend('<button class="Button RemoveAllTabs"><span class="Icon Remove" data-position="center"></span></button>').find(".RemoveAllTabs").convert(),"true"===t.options.lazyload&&n.find("[data-type]").each(function(){this.options.phase="pending"});var i=this._getProperty(t,"tabstrigger");"hover"!==i&&"hovering"!==i||(t.options.tabstrigger="hoverstart");var r=this._getProperty(t,"removebutton");if(r&&(t.options.removebutton=r),t.buttonGroup=n.find("> ul, >div.Scroller>ul"),0===t.buttonGroup.length?(t.buttonGroup=n.find(".af-tabs-button-group"),t.buttons=t.buttonGroup.find("> li")):(t.buttonGroup.addClass("af-tabs-button-group"),t.buttons=t.buttonGroup.find("> li"),this._setButtongroupWidth(t)),e(t.buttons).addClass("Ellipsis"),t.removebuttons=[],t.buttons.length>0){t.buttons.on("click",function(e){e.preventDefault()});var o=-1;"flex"==this._getProperty(t,"contentsdisplay")&&(o=t.buttonGroup.innerWidth()/t.buttons.length);for(var s=0;s<t.buttons.length;s++)this._makeTabButton(t,t.buttons[s],s,o);null!==t.options.inittabindex&&void 0!==t.options.inittabindex?e.alopex.widget.tabs._setTabIndex(t,parseInt(t.options.inittabindex),t.options.initfocus):e.alopex.widget.tabs._setTabIndex(t,0,t.options.initfocus),e(t).on("keydown",e.alopex.widget.tabs._keyEventHandler)}if(this._setTabWidth(t),this._unbindEvent(t),this._bindEvent(t),e.alopex.widget.tabs._resizeHandler(t),this._resizeEvent(t,this._resizeHandler),t.options&&t.options.draggable)for(s=0;s<t.buttons.length;s++)e(t.buttons[s]).attr("draggable",!0),e(t.buttons[s]).on("dragstart",this._tabDrag),e(t.buttons[s]).on("drop",this._tabDrop),e(t.buttons[s]).on("dragover",this._allowTabDrop)},_resizeEvent:function(t,a){window.resizeEvt,e(window).resize(t,function(e){window.resizeEvt=a(t)})},_resizeHandler:function(t){var a=e(t);if(a.is(":visible")){var n=t.getElementsByTagName("ul"),i=t.getElementsByClassName("Scroller"),r=parseFloat(t.style.marginLeft.replace("px",""));i.length&&(i[0].style.width="1px",n[0].style.width="1px",t.style.width="100%","number"==typeof r&&r>0?(i[0].style.width=t.offsetWidth-r+"px",t.style.width=t.offsetWidth-r+"px"):(i[0].style.width=t.offsetWidth+"px",t.style.width=t.offsetWidth+"px"),n[0].style.width="");var o=a.find(">.af-tabs-content >.Vertical-sub-tabs"),s=o.find(">div");if(o.length){var l=o.first().parent(),d=parseInt(l.css("border-left"));isNaN(d)&&(d=parseFloat(l.css("border-left-width"))),o.css("width",a.width()+r-d),s.css("width",a.width())}e.alopex.widget.tabs._setButtongroupWidth(t)}},_validationTabWidth:function(e){if(null===e)return null;var t=e;return $a.util.isNumberType(t)?t+"px":(t=e.split("px")[0],$a.util.isNumberType(t)?t+"px":(console.error('arg "'+e+'" is not correct type'),null))},setTabWidth:function(t,a){null!=e.alopex.widget.tabs._validationTabWidth(a)&&(t.options.tabwidth=a,e(t).attr("data-tab-width",t.options.tabwidth),this._setTabWidth(t),this._setButtongroupWidth(t),e.alopex.widget.tabs._resizeHandler(t))},setDraggable:function(t,a){var n,i,r;for(t.options.draggable=!!a,n=0;n<t.buttons.length;n++){var o;if(i=t.buttons[n],r=e._data(i,"events"),a)void 0!=(o=e(i).attr("draggable"))&&0!=o&&"false"!=o||e(i).attr("draggable",!0),r.dragstart||e(i).on("dragstart",this._tabDrag),r.drop||e(i).on("drop",this._tabDrop),r.dragover||e(i).on("dragover",this._allowTabDrop);else 1!=(o=e(i).attr("draggable"))&&"true"!=o||e(i).attr("draggable",!1),r.dragstart&&e(i).off("dragstart",this._tabDrag),r.drop&&e(i).off("drop",this._tabDrop),r.dragover&&e(i).off("dragover",this._allowTabDrop)}},_tabDrag:function(t){var a=t.target,n=e(a),i=n.parent("ul").children("li").index(a);n.closest("div.Tabs").prop("dragging_index",i)},_tabDrop:function(t){var a=t.target,n=e(a),i=e(a).closest("div.Tabs"),r=i.prop("dragging_index");if(void 0!=r){var o=n.parent("ul").children("li").get(r),s=n.width(),l=n.offset().left;(t&&t.clientX?t.clientX:window.event.clientX)>l+s/2?e(o).insertAfter(n):e(o).insertBefore(n),e.alopex.widget.tabs._refeshButtonGroup(i[0]);var d=n.parent("ul").children("li").index(o);e.alopex.widget.tabs._setTabIndex(i[0],d,!0),t.preventDefault()}},_allowTabDrop:function(e){e.preventDefault()},defer:function(t,a){if(t.options&&t.options.carousel)var n=setInterval(function(){e(t).is(":hidden")||(clearInterval(n),t.options&&t.options.carousel&&(e(t).find("> .af-tabs-content, >div:not(.Scroller)").attr("data-role","page"),e(t).attr("data-type","carousel").carousel()))},200)},_evt_swipe:function(t,a){__ALOG("swipe");var n=e(t.currentTarget).parent('[data-type="carousel"]')[0],i=(n.width-Math.abs(a.distanceX))/a.speed*1e3;i>500&&(i=500);var r=n._currentTabIndex;if(a.distanceX<0)do{r++}while(!e.alopex.widget.tabs.isEnabled(n,r)&&r<n.buttons.length);else do{r--}while(!e.alopex.widget.tabs.isEnabled(n,r)&&r>=0);-1==r||r>=n.buttons.length?e.alopex.widget.tabs._setTabIndex(n,n._currentTabIndex):e.alopex.widget.tabs._setTabIndex(n,r),n.press=!1,e(n).trigger("swipechange",[n._currentTabIndex])},_keyEventHandler:function(t){var a=t.target,n=a,i=t.currentTarget;if(!(e(i.buttons).filter(a).length<=0)){for(var r=!1;e.alopex.util.isValid(a)&&!r;){switch(null!==t.keyCode?t.keyCode:t.which){case 9:return;case 37:case 38:a=0!==e(a).prev().length?e(a).prev()[0]:e(a).siblings().last()[0],t.preventDefault();break;case 39:case 40:a=0!==e(a).next().length?e(a).next()[0]:e(a).siblings().first()[0],t.preventDefault();break;default:return}(e.alopex.widget.tabs.isEnabled(i,a.index)||a==n)&&(r=!0)}e.alopex.widget.tabs._setTabIndex(a.element,a.index,!0),t.preventDefault()}},refreshButtons:function(e,t,a){e.buttonGroup.children().attr("aria-selected","false").attr("tabindex","-1").removeClass("af-selected Selected"),1==a?e.buttonGroup.children().eq(t).attr("aria-selected","true").attr("tabindex","0").addClass("af-selected Selected").focus():e.buttonGroup.children().eq(t).attr("aria-selected","true").attr("tabindex","0").addClass("af-selected Selected")},_loadHTML:function(t,a,n){this.requestButton=t;var i=e(t).attr("data-content-iframe");if(e.alopex.loading=!0,"true"===i||!0===i){var r=e("<iframe></iframe>").attr("src",e(t).attr("data-content")).attr("name",e(t).attr("data-content-iframe-id")).attr("id",e(t).attr("data-content-iframe-id"));e(t.content).html(r),t.loadType="local",r.on({load:function(){t.loadType="local",e(a).trigger("tabchange",e.alopex.widget.tabs._getIndexArrayFromButton(t)),n&&n()}})}else{var o=!1;void 0==e(t).attr("data-subtab-button1")?o=!1:"true"!=e(t).attr("data-subtab-button1")&&(o=!0);var s=e(t).attr("data-url")||e(t).attr("data-content");"#"===s.charAt(0)&&(s=s.replace("#","")),e.ajax({url:s,cache:!1,async:o,complete:function(t,i){var r=e.alopex.widget.tabs.requestButton;if("error"===i){var o='<p>해당 웹페이지를 사용할 수 없음</p><p style="color:red;">'+t.statusText+"</p>";e(r.content).html(o)}else r.loadType="local",e(r.content).html(t.responseText).convert(),e(a).trigger("tabchange",e.alopex.widget.tabs._getIndexArrayFromButton(r)),e(document).trigger("alopexuiready"),n&&n(),e(window).trigger("resize")}})}},getCurrentTabIndex:function(e){return 1===e.depth?e._currentTabIndex:2===e.depth?[e._currentTabIndex,e.buttons[e._currentTabIndex].depth2Tabs._currentTabIndex]:void 0},getCurrentTabContent:function(e){return 1===e.depth?e._currentTabContent:2===e.depth?[e._currentTabContent,e.buttons[e._currentTabIndex].depth2Tabs._currentTabContent]:void 0},getTabContentByIndex:function(t,a,n){if(e.alopex.util.isValid(a)&&t.buttons&&t.buttons[a]){if(n)try{return t.buttons[a].depth2Tabs.buttons[n].content}catch(e){return}return t.buttons[a].content}return null},setTabByContent:function(e,t){if(e.buttonGroup.length>0){var a=e.buttonGroup.find('[data-content="'+t+'"]').index();if(!this.isEnabled(e,a))return;this._setTabIndex(e,a)}},cancelThisTabChange:function(e){e.canceltabchange=!0},setTabIndex:function(t,a,n){var i,r=e(t);if("object"==typeof a){var o=a[0],s=a[1];if(!e.alopex.widget.tabs.isEnabled(t,o,s))return;var l=e(t).getSubTabByIndex(o);if(!1===(i=r.triggerHandler("beforetabchange",a)))return;if(!0===t.canceltabchange)return void(t.canceltabchange=!1);e.alopex.widget.tabs._setTabIndex(t,o,n),e.alopex.widget.tabs._setTabIndex(l,s,n)}else{if(t.isDepth2Tab){var d=e.alopex.widget.tabs.getSubTabByIndex(t,a);i=d?r.triggerHandler("beforetabchange",[a,d._currentIndex]):r.triggerHandler("beforetabchange",[a,0])}else i=r.triggerHandler("beforetabchange",[a]);if(!1===i)return;if(!0===t.canceltabchange)return void(t.canceltabchange=!1);if(e.alopex.widget.tabs._setTabIndex(t,a,n),t.isDepth2Tab&&t.buttons[t._currentTabIndex].depth2Tabs){var c=t.buttons[t._currentTabIndex].depth2Tabs;e.alopex.widget.tabs._setTabIndex(c,c._currentTabIndex,!1)}}},_setTabIndex:function(t,a,n){var i=e(t);if(this.isEnabled(t,a)){if(!0===t.canceltabchange)return t.canceltabchange=!1,void e.alopex.widget.tabs._setTabIndex(t,t._currentTabIndex,!0);if(!(t.options&&t.options.beforeunload&&t.options.beforeunload[t._currentTabIndex]&&t.options&&!1===t.options.beforeunload[t._currentTabIndex]())){t._currentTabIndex=a;var r=this,o=[];if(t.buttonGroup.length>0){var s=t.buttonGroup.children();if(t._currentTabContent=e(s[a]).attr("data-content"),e(s).each(function(n,s){var l=s;if(n===a)if("true"===i.attr("data-flexbox")?e(l.content).css({display:"-webkit-box"}):e(l.content).css("display","block"),"ajax"===l.loadType)isAjax=!0,t.options.preloading?setTimeout(function(){r._loadHTML(l,t)},100):r._loadHTML(l,t);else{var d=e.alopex.widget.tabs._getIndexArrayFromButton(l);t.isDepth2Tab&&2===d.length?e(t).trigger("tabchange",e.alopex.widget.tabs._getIndexArrayFromButton(l)):t.isDepth2Tab||e(t).trigger("tabchange",e.alopex.widget.tabs._getIndexArrayFromButton(l))}else o.push(l.content)}),t.options&&t.options.carousel)i.setIndex(a,{animationDuration:0});else for(var l=0;l<o.length;l++){var d=e(o[l]);1===t.depth&&d.find("> div.Vertical-sub-tabs > div.af-tabs-content").css("display","none"),d.css("display","none")}this.refreshButtons(t,a,n),t.options&&t.options.buttonScroller&&(this._moveScrollToShowTabButton(t),this._toggleButtonScrollDisabled(t))}}}},clear:function(t,a){var n=e(this.getContent(t,a));if(e.alopex&&e.alopex.page)for(var i in e.alopex.page)e.alopex.page.hasOwnProperty(i)&&0==i.indexOf("#")&&n.find(i).length>0&&delete e.alopex.page[i];n.empty(),this.getButtons(t)&&this.getButtons(t)[a]&&(this.getButtons(t)[a].loadType="ajax")},setEnabledByContent:function(t,a,n){if(t.buttonGroup.length>0){var i=t.buttonGroup.find('[data-content="'+n+'"]').index();-1===i&&this._isDepth2Tab(t)&&e.each(t.buttons,function(e,a){if(-1!==a.depth2Tabs.buttonGroup.find('[data-content="'+n+'"]').index())return t=a.depth2Tabs,!1}),a!=this.isEnabled(t,i)&&this.setEnabled(t,a,i)}},setEnabled:function(e,t,a){if(void 0!=a)if(a instanceof Array)for(var n=0;n<a.length;n++)this._setEnabled(e,t,a[n]);else this._setEnabled(e,t,a);else for(n=0;n<e.buttons.length;n++)this._setEnabled(e,t,n)},_addDisabledStyle:function(t,a){var n=e(t.buttons).eq(a).addClass("af-disabled Disabled");t.options.removebutton?n.find("."+this.classNames.removebutton).addClass("af-disabled Disabled"):e(t.buttons).eq(a).find("."+this.classNames.removebutton).length>0&&n.find("."+this.classNames.removebutton).addClass("af-disabled Disabled"),t.options.refreshbutton?n.find("."+this.classNames.refreshbutton).addClass("af-disabled Disabled"):e(t.buttons).eq(a).find("."+this.classNames.refreshbutton).length>0&&n.find("."+this.classNames.refreshbutton).addClass("af-disabled Disabled")},_removeDisabledStyle:function(t,a){var n=e(t.buttons).eq(a).removeClass("af-disabled Disabled");t.options.removebutton?n.find("."+this.classNames.removebutton).removeClass("af-disabled Disabled"):e(t.buttons).eq(a).find("."+this.classNames.removebutton).length>0&&n.find("."+this.classNames.removebutton).removeClass("af-disabled Disabled"),t.options.refreshbutton?n.find("."+this.classNames.refreshbutton).removeClass("af-disabled Disabled"):e(t.buttons).eq(a).find("."+this.classNames.refreshbutton).length>0&&n.find("."+this.classNames.refreshbutton).removeClass("af-disabled Disabled")},isEnabled:function(t,a,n){return a<0||t.buttons.length<=a?(console.error("[Alopex] index : "+a+" is not valid"),!1):n&&(n<0||t.buttons[a].depth2Tabs.buttons.length<=n)?(console.error("[Alopex] index : ["+a+","+n+"] is not valid"),!1):!e(t.buttons).eq(a).hasClass("af-disabled Disabled")},_setEnabled:function(e,t,a){t?this.isEnabled(e,a)||(this._bindEvent(e,a),this._removeDisabledStyle(e,a)):(this._unbindEvent(e,a),this._addDisabledStyle(e,a))},_selectCallback:function(t){for(var a=e.alopex.widget.tabs,n=t.currentTarget,i=n.element;null===n.index||void 0===n.index;)n=n.parentNode;var r=e.inArray(n,i.buttons);if(n.defaultStyleClass=e(n).attr("class"),2===i.depth){var o=n.depth1Tabs;a.setTabIndex(o,[o._currentTabIndex,r])}else if(i.isDepth2Tab&&1===i.depth){var s=e.alopex.widget.tabs.getSubTabByIndex(i,r);a.setTabIndex(i,[r,s._currentTabIndex])}else a.setTabIndex(i,r);i.options.eventState="focused"},removeTab:function(t,a,n){var i=t,r=a,o=n;if(void 0!==n){if(!t.buttons[a])return;t=t.buttons[a].depth2Tabs,a=n}if((t.buttons&&0!=t.buttons.length||(t.buttons=t.buttonGroup.find("> li")),t.buttons[a])&&!1!==e(i).triggerHandler("beforetabremove",[r,o]))if(e(i).trigger("removetab",[r,o]),e(t.buttons[a].content).remove(),e(t.buttons[a]).remove(),t.buttons[a]=null,t.buttons.splice(a,1),t.removebuttons&&(t.removebuttons[a]=null,t.removebuttons.splice(a,1)),e.alopex.widget.tabs._re_setTabIndex(t),e.alopex.widget.tabs._setButtongroupWidth(t),t.buttons.length>0){if(a===t._currentTabIndex){var s=e.alopex.widget.tabs.getLength(t);s-1>=a?e.alopex.widget.tabs.setTabIndex(t,a,!0):s-1<a&&e.alopex.widget.tabs.setTabIndex(t,a-1,!0)}}else t.buttons.length},_re_setTabIndex:function(t){e.each(t.buttons,function(a,n){n.index=a,(e(n).hasClass("Selected")||e(n).hasClass("af-selected")||"true"===e(n).attr("aria-selected")||"0"===e(n).attr("tabindex"))&&(t._currentTabIndex=a)})},_setRemoveBtnEvent:function(t){var a=t.currentTarget,n=a.parentElement.element,i=a.parentElement.index;return e(n).trigger("removebuttnclick"),e.alopex.widget.tabs.removeTab(n,i),!1},_setRefreshBtnEvent:function(t){var a=t.currentTarget,n=a.parentElement.element,i=a.parentElement.index;e(n).trigger("refreshbuttonclick"),e.alopex.widget.tabs.reload(n,i)},_bindEvent:function(t,a){var n,i,r,o=this;0!=(n=a?e(t.buttons).eq(a):e(t.buttons)).length&&(n.each(function(){o.addHoverHighlight(this),o.addPressHighlight(this)}),n.on(t.options.tabstrigger,this._selectCallback),(i=t.options.removebutton?a?n.find("."+e.alopex.widget.tabs.classNames.removebutton):e(t.removebuttons):n.find("."+e.alopex.widget.tabs.classNames.removebutton))&&i.length>0&&(i.each(function(){o.addHoverHighlight(this),o.addPressHighlight(this)}),i.on("click",this._setRemoveBtnEvent)),(r=t.options.refreshbutton?a?n.find("."+e.alopex.widget.tabs.classNames.refreshbutton):e(t.refreshbuttons):n.find("."+e.alopex.widget.tabs.classNames.refreshbutton))&&r.length>0&&(r.each(function(){o.addHoverHighlight(this),o.addPressHighlight(this)}),r.on("click",this._setRefreshBtnEvent)))},_unbindEvent:function(t,a){var n,i=this;if(0!=(n=void 0!=a?e(t.buttons).eq(a):e(t.buttons)).length){if(n.each(function(){i.removeHoverHighlight(this),i.removePressHighlight(this)}),n.off(t.options.tabstrigger,this._selectCallback),t.options.removebutton){var r;if(0==(r=a?n.find("."+e.alopex.widget.tabs.classNames.removebutton):e(t.removebuttons)).length)return;r.each(function(){i.removeHoverHighlight(this),i.removePressHighlight(this)}),r.off("click",this._setRemoveBtnEvent)}if(t.options.refreshbutton){var o;if(0==(o=a?n.find("."+e.alopex.widget.tabs.classNames.refreshbutton):e(t.refreshbuttons)).length)return;o.each(function(){i.removeHoverHighlight(this),i.removePressHighlight(this)}),o.off("click",this._setRefreshBtnEvent)}}},_showButtonScrollerPosition:function(t,a){var n=e(t).find(".ScrollerbuttonL, .ScrollerbuttonR, .RemoveAllTabs");e(n).each(function(){if(t[e(this).attr("class")]=e(this).attr("class"),this.el=t,t.buttons&&t.buttons.length>0){var a=e(this).css("margin").split("px")[0];e(this).css("min-height",e(t.buttons[0]).height()-2*Number(a))}});var i=this._clickScrollbutton;e.alopex.util.isValid(e.alopex.widget.tabs.scrollButtonClickCallback)&&"function"==typeof e.alopex.widget.tabs.scrollButtonClickCallback&&(i=e.alopex.widget.tabs.scrollButtonClickCallback),a?(this._toggleButtonScrollDisabled(t),n.show(),n.off("mouseup",i),n.on("mouseup",i)):(n.hide(),n.off("mouseup",i))},_moveScrollToShowTabButton:function(t){var a=e(t).find(".ButtonScroller");if(0!==a.length){var n,i,r=e(this._getButtonByTabIndex(t));if((n=r.offset().left+r.outerWidth())>(i=a.offset().left+a.innerWidth()))if(this._isfirstTabSelected(t))a.scrollLeft(1e4);else{var o=a.scrollLeft();a.scrollLeft(o+(n-i))}if((n=r.offset().left)<(i=a.offset().left))if(0===t._currentTabIndex)a.scrollLeft(0);else{o=a.scrollLeft();a.scrollLeft(o-(i-n))}}},_toggleButtonScrollDisabled:function(t){this._isfirstTabSelected(t)?(e(t).find(".ScrollerbuttonL").setEnabled(!1),e(t).find(".ScrollerbuttonR").setEnabled(!0)):this._isLastTabSelected(t)?(e(t).find(".ScrollerbuttonL").setEnabled(!0),e(t).find(".ScrollerbuttonR").setEnabled(!1)):(e(t).find(".ScrollerbuttonL").setEnabled(!0),e(t).find(".ScrollerbuttonR").setEnabled(!0)),t.options&&t.options.useremoveall&&e(t).find(".RemoveAllTabs").setEnabled(!0)},_isfirstTabSelected:function(e){return 0===e._currentTabIndex},_isLastTabSelected:function(e){return e._currentTabIndex===this._getLastIndex(e)},_getLastIndex:function(e){return e.buttons.length-1},_getButtonByTabIndex:function(e){return e.buttons[e._currentTabIndex]},_clickScrollbutton:function(t){var a=t.currentTarget,n=a.el;if(e(a).hasClass("ScrollerbuttonL"))e.alopex.widget.tabs._setTabIndex(n,n._currentTabIndex-1),e.alopex.widget.tabs._moveScrollToShowTabButton(n);else if(e(a).hasClass("ScrollerbuttonR"))e.alopex.widget.tabs._setTabIndex(n,n._currentTabIndex+1),e.alopex.widget.tabs._moveScrollToShowTabButton(n);else if(e(a).hasClass("RemoveAllTabs")){for(;n.buttons.length>0;)e.alopex.widget.tabs.removeTab(n,0);e.alopex.widget.tabs._setButtongroupWidth(n)}return!1},_setButtongroupWidth:function(t){var a=e(t),n=a.find(">div.Scroller");if(n.length>0){var i=0;if(e(t.buttonGroup[0]).find("> li").each(function(){if(this.style.width){var t=this.style.width.replace(/[^0-9]/g,"");i+=Number(t)}else i+=e.alopex.widget.tabs._getCouputedWidth(this)}),t.options&&t.options.buttonScroller&&(i>e(t).innerWidth()?this._showButtonScrollerPosition(t,!0):this._showButtonScrollerPosition(t,!1)),n.length&&n.width()>i)e(t.buttonGroup).css("width",n.width());else if(a.width()>i)e(t.buttonGroup).css("width",a.width());else{var r=document.querySelector(".Tabs.Fixed > ul, .Tabs.Fixed > .Scroller > ul"),o=0;if(r){var s=window.getComputedStyle(r,":before");s&&s.getPropertyValue("width")&&-1!==s.getPropertyValue("width").indexOf("1px")&&(o=1)}e(t.buttonGroup).css("width",i+o+"px")}}},_getCouputedWidth:function(t){var a=window.getComputedStyle(t),n=e(t).outerWidth(),i=Number(a.width.replace("px","")),r=Number(a.paddingLeft.replace("px","")),o=Number(a.paddingRight.replace("px","")),s=Number(a.borderLeftWidth.replace("px","")),l=Number(a.borderLeftWidth.replace("px",""));return(i-=parseInt(i))+n+(r-=parseInt(r))+(o-=parseInt(o))+(s-=parseInt(s))+(l-=parseInt(l))},_makeTabButton:function(t,a,n,i){var r=t.buttonGroup,o=e(a),s=e(t);if(t._currentTabIndex=n,a.element=t,a.index=n,a.depth=1,t.options&&t.options.removebutton){if(!a.removeBtn){var l=document.createElement("button"),d=e(l);d.attr("type","button"),d.addClass(this.classNames.removebutton),d.addClass("af-tabs-removebutton"),d.appendTo(a),a.removeBtn=l,void 0==t.removebuttons&&(t.removebuttons=[],초기화),t.removebuttons.push(a.removeBtn)}}else t.removebuttons=s.find("."+this.classNames.removebutton);if(t.options&&t.options.refreshbutton){var c=o.attr("data-content-iframe");if(("true"===c||!0===c)&&!a.refreshBtn){var p=document.createElement("button"),u=e(p);if(u.attr("type","button"),u.addClass(this.classNames.refreshbutton),u.addClass("af-tabs-refreshbutton"),u.appendTo(a),u.siblings("."+this.classNames.removebutton).length>0){var h=u.css("right");u.css("right",parseInt(h)+u.outerWidth()+2)}o.css("padding-right",38),a.refreshBtn=p,void 0==t.refreshbuttons&&(t.refreshbuttons=[]),t.refreshbuttons=s.find("."+this.classNames.refreshbutton)}}else t.refreshbuttons=s.find("."+this.classNames.refreshbutton);if(0===e(t.buttonGroup).find("> li").length)o.appendTo(t.buttonGroup);else{0===n?o.prependTo(t.buttonGroup):n===t.buttonGroup[0].childElementCount?o.appendTo(t.buttonGroup):e(t.buttonGroup).find("> li").eq(n).before(o);for(var f=n+1;f<e(t.buttonGroup).find("> li").length;f++)e(t.buttonGroup).find("> li").eq(f)[0].index=f}var g=e(t).children(":first-child"),m=g.hasClass("Scroller");o.hasClass("af-tabs-button")||o.addClass("af-tabs-button"),o.find("img").hasClass("af-tabs-button-icon")||o.find("img").addClass("af-tabs-button-icon"),-1!=i&&o.outerWidth(i);var v="li"===a.tagName.toLowerCase()?o:o.find("li"),x=null;if(void 0!=v.attr("data-content")&&(x=v.attr("data-content").split("#")),null!=x&&void 0!=x&&""!=x&&x!=[""]){switch(1===x.length?a.loadType="ajax":x.length>=2&&(""===x[0]||x[0]===document.URL.split("#")[0]?(a.loadType="local",a.hashAddr=x[1]):a.loadType="ajax"),a.loadType){case"local":var b=e(t).find("#"+a.hashAddr);if(b.length>0)a.content=b[0];else{var w=document.getElementById(a.hashAddr);e.alopex.util.isValid(w)?a.content=w:(a.content=document.createElement("div"),e(a.content).attr("id",a.hashAddr),m?e(a.content).insertAfter(g[0]):e(a.content).insertAfter(r))}break;case"ajax":a.content=document.createElement("div"),m?e(a.content).insertAfter(g[0]):e(a.content).insertAfter(r)}e.alopex.util.isValid(e(a.content).attr("class"))||e(a.content).addClass("af-tabs-content")}else console.error("'data-content' attribute in the Tabs component is not defined.")},addTab:function(){var t,a=null,n=null,i=e.makeArray(arguments),r=i[0],o=!0;if("number"==typeof i[i.length-1]&&(t=i[i.length-1],i.pop()),"boolean"==typeof i[i.length-1]&&(o=i[i.length-1],i.pop()),e(r).show(),4==i.length){r.isDepth2Tab=!0;a=e(r).find('li[data-content="'+i[2]+'"]')[0],n=e(a);if(a&&a.element)return e.alopex.util.isValid(i[1])&&n.html(i[1]),r.buttons[0].element==r&&e(r).find(".Vertical-sub-tabs").show(),e.alopex.widget.tabs.setTabIndex(r,a.index,o),a.depth2data=i[3],"number"==typeof t?e.alopex.widget.tabs._addSubTab(r,a,t):e.alopex.widget.tabs._addSubTab(r,a),void e.alopex.widget.tabs._resizeHandler(r);(n=e("<li></li>")).attr("data-content",i[2]),n.html(i[1]),n[0].depth2data=i[3]}else 3==i.length?((n=e("<li></li>")).attr("data-content",i[2]),n.html(i[1])):n=e(i[1]);a=n[0],n.addClass("Ellipsis"),this._setTabWidth(r),"number"!=typeof t&&(t=e.alopex.widget.tabs._getLastIndex(r)+1),this._makeTabButton(r,a,t,-1),r.buttons=r.buttonGroup.find("> li"),this._setTabWidth(r),this._unbindEvent(r,t),this._bindEvent(r,t),this._setButtongroupWidth(r),e.alopex.widget.tabs.setTabIndex(r,t,o),e(r).find(".ButtonScroller").scrollLeft(1e4),r.options.draggable&&this.setDraggable(r,!0),i[3]&&e.alopex.widget.tabs._addSubTab(r,a),e.alopex.widget.tabs._resizeHandler(r)},_refeshButtonGroup:function(t){var a=e(t);t.buttonGroup=a.find("> ul, >div.Scroller>ul"),0===t.buttonGroup.length?(t.buttonGroup=a.find(".af-tabs-button-group"),t.buttons=t.buttonGroup.find("> li")):(t.buttonGroup.addClass("af-tabs-button-group"),t.buttons=t.buttonGroup.find("> li")),t.removebuttons=a.find("."+this.classNames.removebutton)},_setTabWidth:function(t){var a=e(t);if("flex"==this._getProperty(t,"contentsdisplay")||"true"==a.attr("data-display-flex"))for(var n=t.buttonGroup.find("li.af-tabs-button"),i=t.buttonGroup.innerWidth()/n.length,r=0;r<n.length;r++)e(n[r]).outerWidth(i);else if(a.hasClass("Fixed")){if(0===a.children("div.Scroller").length&&a.children("ul.af-tabs-button-group").length>0){var o=document.createElement("DIV");o.className="Scroller",a.children("ul.af-tabs-button-group").wrap(o)}null!=e.alopex.widget.tabs._validationTabWidth(t.options.tabwidth)&&a.find(".Scroller ul li").css("width",t.options.tabwidth)}},_isDepth2Tab:function(e){return Boolean(e.options&&e.options.depth2position)},_getIndexArrayFromButton:function(e){return 1===e.depth?[e.index]:2===e.depth?[e.depth1Tabs._currentTabIndex,e.index]:void 0},getSubTabByIndex:function(t,a){if(e.alopex.widget.tabs.isEnabled(t,a))return t.buttons[a].depth2Tabs},_addSubTab:function(t,a,n){if(!a.depth2data||!e.isArray(a.depth2data)||0===a.depth2data.length){var i=null;try{i=JSON.stringify(a.depth2data)}catch(e){i=depth2data.toString()}console.error("[Alopex] depth2info object should be Array type and have length.\n[depth2info]: "+i)}e(t).css({"margin-left":40});var r=a.depth2Tabs;if(!r){var o=document.createElement("DIV");o.className="Tabs Vertical-sub-tabs",(r=a.depth2Tabs=o).buttonGroup=document.createElement("UL"),r.buttonGroup.className="af-tabs-button-group",o.appendChild(r.buttonGroup),r.buttonGroup=e(r.buttonGroup),r.depth=2,r.buttonGroup.buttons=[],r.buttons=[],r.options={},r.options.tabstrigger=t.options.tabstrigger,a.content.appendChild(r)}e.each(a.depth2data,function(a,i){var o=e("<li><p>"+i.title+"</p></li>"),s=o[0];s.depth=2,o.attr("data-content","#"+i.url),o.addClass("Ellipsis"),o.attr("data-url",i.url),0===a&&o.attr("data-subtab-button1",!0),o.on("click",function(e){e.preventDefault()});var l=e(r.buttonGroup);if("number"==typeof n){0===n?e(s).prependTo(r.buttonGroup):n===r.buttonGroup[0].childElementCount?e(s).appendTo(r.buttonGroup):e(r.buttonGroup).find("> li").eq(n).before(e(s));for(var d=n+1;d<r.buttonGroup;d++)r.buttonGroup[d].index+=1}else l.append(s);r.buttonGroup.buttons=l.find(">li"),r.buttons=r.buttonGroup.buttons;var c=document.createElement("DIV"),p=e(c);p.css("display","none"),p.addClass("af-tabs-content"),c.url=i.url,e(r).append(c),s.content=c,s.element=r,s.depth1Tabs=t,s.index="number"==typeof n?n++:r.buttonGroup.buttons.length-1,s.loadType="ajax",e.alopex.widget.tabs.setTabIndex(r,s.index,!1)}),e.alopex.widget.tabs._unbindEvent(r),e.alopex.widget.tabs._bindEvent(r)},moveTab:function(t,a,n){e(t);var i=e(t.buttonGroup),r=i.find(">li.af-tabs-button"),o=r.length-1,s=r.eq(a);if(s.length&&"number"==typeof a&&"number"==typeof n){if(n>=o)s.detach().appendTo(i);else if(n>a)s.detach().insertAfter(r.eq(n));else if(n===a);else{if(!(n>=0))return;s.detach().insertBefore(r.eq(n))}t._currentTabIndex===a&&(t._currentTabIndex=n),e.alopex.widget.tabs._refeshButtonGroup(t),e.alopex.widget.tabs._re_setTabIndex(t)}}})}(jQuery),function(e){e.alopex.widget.textarea=e.alopex.inherit(e.alopex.widget.object,{widgetName:"textarea",defaultClassName:"af-textarea Textarea",setters:["textarea"],init:function(e,t){}})}(jQuery),function(e){e.alopex.widget.textinput=e.alopex.inherit(e.alopex.widget.baseinput,{widgetName:"textinput",defaultClassName:"af-textinput Textinput",setters:["textinput"]})}(jQuery),function(e){e.alopex.widget.togglebutton=e.alopex.inherit(e.alopex.widget.basebutton,{widgetName:"togglebutton",eventHandlers:{toggle:{event:"click",handler:"_toggleHandler"}},triggerEvent:{},properties:{checked:!1},getters:["isChecked"],setters:["togglebutton","setChecked","toggleChecked"],init:function(t){var a=e(t);a.attr("data-on")&&(t.on=a.attr("data-on")),a.attr("data-off")&&(t.off=a.attr("data-off")),this.setChecked(t,!1)},_toggleHandler:function(t){e.alopex.widget.togglebutton.toggleChecked(this)},isChecked:function(e){return this._getProperty(e,"checked")},setChecked:function(t,a){var n=e(t);a?(this._setProperty(t,"checked",!0),n.addClass("af-checked Checked"),n.text(t.on)):(this._setProperty(t,"checked",!1),n.removeClass("af-checked Checked"),n.text(t.off))},toggleChecked:function(e){this.isChecked(e)?this.setChecked(e,!1):this.setChecked(e,!0)}})}(jQuery),function(e){e.alopex.widget.tooltip=e.alopex.inherit(e.alopex.widget.object,{defaultClassName:"af-tooltip Tooltip",getters:[],setters:["tooltip","open","close","toggle"],properties:{tooltiptrigger:"default",opentrigger:"mouseenter",closetrigger:"mouseleave",animation:"none",animationtime:"300",track:"false",position:"auto",cssstyle:{position:"absolute",top:"0px",left:"0px"},currentstate:"closed",opencallback:null,closecallback:null,margin:10},style:function(t,a){var n=e(t);if("tooltip"!==n.attr("data-type")){var i=document.createElement("div"),r=e(i);return r.attr({"data-type":"tooltip"}),r.html(n.attr("title")),r.insertAfter(t),void r.tooltip()}this.properties.base=e(t).prev(),__ALOG("properties",this.properties),e.extend(t,this.properties,a),n.css(t.cssstyle),n.css("display","none")},pre:function(t,a){var n=e(t).attr("title");e('<div data-type="tooltip">'+n+"</div>").insertAfter(t).tooltip()},init:function(t,a){var n=e(t.base);0!==n.length&&(t.base=n[0],n.each(function(){this.tooltip=t}),"default"===t.tooltiptrigger?(n.off(".alopexuitooltip"),n.on(t.opentrigger+".alopexuitooltip",e.alopex.widget.tooltip._show),n.on(t.closetrigger+".alopexuitooltip",e.alopex.widget.tooltip._hide)):t.tooltiptrigger&&(n.off(".alopexuitooltip"),t.opentrigger=t.closetrigger=t.tooltiptrigger,n.on(t.opentrigger+".alopexuitooltip",e.alopex.widget.tooltip._toggle)))},_show:function(t){var a=t.currentTarget.tooltip;e(a).open(a.opencallback)},_hide:function(t){var a=t.currentTarget.tooltip;e(a).close(a.closecallback)},_toggle:function(t){var a=t.currentTarget.tooltip;e(a).toggle()},open:function(t,a){var n=e.alopex.util.getOptions(t);e(n.base).length&&(t.base=n.base,this.init(t,n)),n.position&&n.position!==t.position&&(t.position=n.position);var i=e(t);i.css({display:"block"});for(var r=t.offsetWidth,o=t.offsetHeight,s=t.base.offsetWidth,l=t.base.offsetHeight,d=t.offsetParent;d&&d!=document.body&&"relative"!==e(d).css("position")&&"absolute"!==e(d).css("position");)d=d.offsetParent;var c=e.alopex.util.getRelativePosition(t.base),p=e.alopex.util.getRelativePosition(d),u=c.left-p.left,h=c.top-p.top,f=0,g=0;if("fixed"===e(t.offsetParent).css("position")){var m=e(t.base).position();u=m.left,h=m.top}switch(""!=t.scrolltarget&&null!=t.scrolltarget&&void 0!=t.scrolltarget&&(u-=e("#"+t.scrolltarget).scrollLeft(),h-=e("#"+t.scrolltarget).scrollTop()),t.position){case"top":g=u+s/2-r/2,f=h-o-t.margin,i.addClass("top Top");break;case"bottom":g=u+s/2-r/2,f=h+l+t.margin,i.addClass("bottom Bottom");break;case"left":g=u-r-t.margin,f=h+l/2-o/2,i.addClass("left Left");break;case"right":g=u+s+t.margin,f=h+l/2-o/2,i.addClass("right Right");break;case"top|left":g=u,f=h-o-t.margin,i.addClass("top Top");break;case"top|right":g=u+s-r,f=h-o-t.margin,i.addClass("top Top");break;case"bottom|left":g=u,f=h+l+t.margin,i.addClass("bottom Bottom");break;case"bottom|right":g=u+s-r,f=h+l+t.margin,i.addClass("bottom Bottom");break;default:g=u+s/2-r/2,f=h+l+t.margin,g<0?(g=u+s+t.margin,f=h+l/2-o/2,i.addClass("right Right")):f+o>screen.Height?(g=u+s/2-r/2,f=h-o-t.margin,i.addClass("top Top")):g+r>screen.width?(g=u-r-t.margin,f=h+l/2-o/2,i.addClass("left Left")):i.addClass("bottom Bottom")}switch(i.css({left:g+"px",top:f+"px"}),t.animation){case"slide":var v=t.offsetHeight;e(t).css("height","0px"),e(t).animate({height:v+"px"},parseInt(t.animationtime,10)),e(t).css("height","auto");break;case"fade":e(t).css("opacity","0"),e(t).animate({opacity:"1"},parseInt(t.animationtime,10));break;default:e(t).css("display","block")}t.currentstate="opened",e.alopex.util.isValid(a)&&("string"==typeof a?window[a].apply():a.apply())},close:function(t,a){var n=e(t);e(t.base);switch(n.removeClass("top bottom left right Top Bottom Left Right"),t.animation){case"slide":e(t).animate({height:"0px"},parseInt(t.animationtime,10),function(){e(t).css({height:"auto",display:"none"})});break;case"fade":e(t).fadeOut(t.animationtime,function(a){e(t).css("display","none")});break;default:e(t).css("display","none")}t.currentstate="closed",e.alopex.util.isValid(a)&&("string"==typeof a?window[a].apply():a.apply())},toggle:function(t,a){"opened"===t.currentstate?e(t).close(a):e(t).open(a)}})}(jQuery),function(e){e.alopex.widget.tree=e.alopex.inherit(e.alopex.widget.object,{widgetName:"tree",defaultClassName:"af-tree Tree",eventHandlers:{cancelEvent:{event:"selectstart",handler:"_cancelEventHandler"}},classNames:{arrow:"Arrow",checkbox:"Checkbox"},setters:["tree","createNode","expand","collapse","expandAll","collapseAll","deleteNode","editNode","setSelected","toggleCheckbox","showCheckbox","hideCheckbox","toggleExpand","setDataSource","traverseUpCheck"],getters:["getNode","getObject","getSelectedNode","getCheckedNodes","deleteAllNodes"],properties:{checked:"checked",parentIdKey:"parentId",idKey:"id",textKey:"text",subItems:"items",iconUrlKey:"iconUrl",linkUrlKey:"linkUrl",depthKey:"depth",lazyKey:"isLazy",sourcetype:"unflatten",draggable:!1},init:function(t,a){e.extend(t,this.properties,a),this.refresh(t)},toggleExpand:function(t,a){a=void 0===a?t:a.node,e.alopex.widget.tree._toggle(a)},_toggle:function(t){e.alopex.util.parseBoolean(e(t).attr("data-expand"))?e.alopex.widget.tree._collapse(t):e(t).find("ul").length>0&&e.alopex.widget.tree._expand(t)},toggleCheckbox:function(t){"visible"!==e(t).attr("data-checkbox")?this.showCheckbox(t):this.hideCheckbox(t)},showCheckbox:function(t){e(t).attr("data-checkbox","visible"),e(t).find('input[type="checkbox"]').css("display","inline-block")},hideCheckbox:function(t){e(t).removeAttr("data-checkbox"),e(t).find('input[type="checkbox"]').css("display","none")},expand:function(t,a){void 0===a&&(a=t);var n=a.node;e.alopex.widget.tree._expand(n)},_expand:function(t){var a=e(t),n=a.closest("ul");a.attr("data-expand","true").addClass("af-tree-expanded Expanded");var i=a.find("> ul");0===i.length&&a.attr("data-expand","false").removeClass("af-tree-expanded Expanded"),i.css("display","block"),e.alopex.widget.tree._triggerEvent(n,t,"expand")},collapse:function(t,a){void 0===a&&(a=t);var n=a.node;e.alopex.widget.tree._collapse(n)},_collapse:function(t){void 0===t&&(t=this);var a=e(t).closest("ul");e(t).attr("data-expand","false").removeClass("af-tree-expanded Expanded"),e(t).find("> ul").css("display","none"),e.alopex.widget.tree._triggerEvent(a,t,"collapse")},setSelected:function(t,a){var n=a.node;e(n).closest('[data-type="tree"]').find(".af-pressed, .Selected").removeClass("af-pressed Selected"),e(n).parents("li").each(function(){e.alopex.widget.tree._expand(this)}),e(n).find("> a").addClass("af-pressed Selected")},expandAll:function(t){e(t).find("li").each(function(){e.alopex.widget.tree._expand(this)})},collapseAll:function(t){e(t).find("li").each(function(){e.alopex.widget.tree._collapse(this)})},createNode:function(t,a,n,i){var r=null;e.alopex.util.isValid(a)?(a=a.node,r=(r=e(a).find("ul")).length>0?r[0]:e("<ul></ul>").appendTo(a)[0]):r=a=t;var o=null;o="flat"==t.sourcetype&&"[object Array]"===Object.prototype.toString.call(n)?e.alopex.widget.tree._unflatten(t,n):[n],e.alopex.widget.tree._createNode(t,r,o),!0!==i&&e.alopex.widget.tree.refresh(e(a).closest("ul")[0])},deleteNode:function(t,a){a=a.node;var n=e(a).find('input[type="checkbox"]');n.removeAttr("checked"),e.alopex.widget.tree._traverseUp(n[0]),e(a).remove()},deleteAllNodes:function(t){e(t).empty()},editNode:function(t,a,n){a=a.node,e(a).find("> a").text(n[t.textKey]),e(a).find("> a > img.af-tree-img").attr("src",n[t.iconUrlKey]),e(a).attr("id",n[t.idKey])},getNode:function(t,a,n){void 0!==a&&(a=e.alopex.util.trim(a));var i=null;return"id"===n?i=e(t).find('[id="'+a+'"]')[0]:e(t).find("a").each(function(){e.alopex.util.trim(e(this).text())===a&&(i=e(this).closest("li")[0])}),e.alopex.widget.tree._getTreeNodeObj(t,i)},getObject:function(t,a,n){void 0!==a&&(a=e.alopex.util.trim(a));var i=null;return"id"===n?i=e(t).find('[id="'+a+'"]')[0]:e(t).find("a").each(function(){e.alopex.util.trim(e(this).text())===a&&(i=e(this).closest("li")[0])}),i},getSelectedNode:function(t){var a=e(t).find(".af-pressed").closest("li")[0];return e.alopex.widget.tree._getTreeNodeObj(t,a)},getCheckedNodes:function(t,a){var n=[];return e(t).find('input[type="checkbox"]:checked').each(function(){var a=e(this).closest("li")[0];n.push(e.alopex.widget.tree._getTreeNodeObj(t,a))}),a&&a.indeterminate&&e(t).find(".Checkbox:indeterminate").each(function(){var a=e(this).closest("li")[0];n.push(e.alopex.widget.tree._getTreeNodeObj(t,a))}),n},setDataSource:function(t,a){e(t).empty(),"flat"==t.sourcetype&&"[object Array]"===Object.prototype.toString.call(a)&&(a=e.alopex.widget.tree._unflatten(t,a)),e.alopex.widget.tree._createNode(t,t,a),e(t).refresh(a)},_getTreeNodeObj:function(t,a){t.textKey,t.iconUrlKey,t.idKey,t.depthKey;var n={};return n[t.idKey]=e(a).attr("id"),n[t.textKey]=e.alopex.util.trim(e(a).find("> a").text()),n[t.iconUrlKey]=e(a).find("> a > img.af-tree-img").attr("src"),n[t.linkUrlKey]=e(a).find("> a").attr("href"),n[t.depthKey]=e(a).attr("depth"),n[t.parentIdKey]=e(a).parents("ul.af-tree-group:eq(0)").parents("li.expandable:eq(0)").attr("id"),n.data=e(a).prop("data"),n.node=a,n},_createNode:function(t,a,n){for(var i=0;i<n.length;i++){var r=n[i],o=e("<li/>").attr("id",e.alopex.util.isValid(r[t.idKey])?r[t.idKey]:"").attr("depth",r[t.depthKey]).prop("data",r).appendTo(e(a));e.alopex.util.parseBoolean(r[t.lazyKey])&&(e(o).attr("data-is-lazy",r[t.lazyKey]),e(o).attr("data-is-loaded","false"));e("<span/>").addClass("Arrow").appendTo(o),e("<input/>").attr("type","checkbox").addClass("Checkbox af-checkbox").appendTo(o);var s=e("<a/>").addClass("ui-all").appendTo(o);if(e.alopex.util.isValid(r[t.linkUrlKey])&&s.attr("href",r[t.linkUrlKey]),e.alopex.util.isValid(r[t.iconUrlKey]))e("<img/>").attr("src",r[t.iconUrlKey]).appendTo(s).after(r[t.textKey]);else s.html(r[t.textKey]);if(e.alopex.util.isValid(r[t.subItems])&&r[t.subItems].length>0){var l=e("<ul/>").appendTo(o)[0];this._createNode(t,l,r[t.subItems])}}},refresh:function(t,a){e.alopex.widget.tree._structure(t),e.alopex.widget.tree._removeEvent(t),e.alopex.widget.tree._addBasicEvent(t),e.alopex.widget.tree._addKeydownEvent(t),e.alopex.widget.tree._addCheckbox(t),e.alopex.widget.tree._checkCheckbox(t,a),e.alopex.widget.tree._setChecked(t)},traverseUpCheck:function(t,a){e.alopex.widget.tree._traverseUp(a)},_structure:function(t){var a;if(void 0!==e(t).attr("data-type")&&-1!==e(t).attr("data-type").indexOf("tree")){if(e(t).children().length>0)for(a=0;a<e(t).children().length;a++)0===a?e(e(t).children()[a]).find("> a").attr("tabindex",0):e(e(t).children()[a]).find("> a").attr("tabindex",-1)}else if(e(t).children().length>0)for(a=0;a<e(t).children().length;a++)e(e(t).children()[a]).find("> a").attr("tabindex",-1);e(t).find("> li").each(function(){e(this).find("> a").addClass("af-tree-link").find("> img").addClass("af-tree-img");var t=e(this).find("> ul").addClass("af-tree-group");if(t.find("li").length>0||e.alopex.util.parseBoolean(e(this).attr("data-is-lazy"))){e(this).addClass("expandable");var a=e(this).find("span.Arrow").first();0==a.length&&e("<span></span>").attr("class","af-tree-icon Arrow").attr("data-expand","false").insertBefore(e(this).children()[0]),a.attr("data-expand","false"),e.alopex.widget.tree._structure(t[0]),a.css("visibility","visible")}else e(this).attr("data-expand","false").removeClass("expandable"),e(this.querySelectorAll("span.Arrow")).css("visibility","hidden");e.alopex.util.parseBoolean(e(this).attr("data-expand"))||(e(this).attr("data-expand","false").removeClass("af-tree-expanded Expanded"),e(this).find("> ul").css("display","none")),e(this).find(">ul")&&e(this).css("list-style","none")})},_removeEvent:function(t){e(t).find(".af-tree-icon, li>span").unbind("click"),e(t).find(".af-tree-link, li>a").unbind("click").unbind("dbclick").unbind("hoverstart").unbind("focusin")},_triggerEvent:function(t,a,n){var i=e(a).closest("li").attr("id"),r=e.alopex.widget.tree._getNodeText(a),o=e.alopex.widget.tree._getNodePath(a),s=e(a).closest("li")[0],l={id:i,text:r,path:o,node:s,data:e(s).prop("data")};e(t).trigger(n,[l])},_addBasicEvent:function(t){var a=0;e(t).find(".af-tree-icon, li>span").bind("click",function(a){var n=a.target.parentNode;e.alopex.util.parseBoolean(e(n).attr("data-is-lazy"))&&!e.alopex.util.parseBoolean(e(n).attr("data-is-loaded"))?(e.alopex.widget.tree._lazyLoadHandler(t,n),e(n).attr("data-is-loaded","true")):e.alopex.widget.tree._toggle(n)}),e(t).find(".af-tree-link, li>a").bind("dbclick",function(a){var n=a.target;e.alopex.widget.tree._triggerEvent(t,n,"doubleselect"),e.alopex.widget.tree._triggerEvent(t,n,"dbclick")}),e(t).find(".af-tree-link, li>a").bind("click",function(n){var i=n.currentTarget;1==++a&&(e(t).find("[class~=af-pressed]").removeClass("af-pressed"),e(i).addClass("af-pressed"),e(t).find("[class~=Selected]").removeClass("Selected"),e(i).addClass("Selected"),setTimeout(function(){if(1==a)e.alopex.widget.tree._triggerEvent(t,i,"select");else{var r=n.target;e.alopex.widget.tree._triggerEvent(t,r,"doubleselect"),e.alopex.widget.tree._triggerEvent(t,r,"dbclick")}a=0},300))}),e(t).find(".af-tree-link, li>a").bind("hoverstart",function(a){var n=a.currentTarget;e(t).find("[class~=af-hover]").removeClass("af-hover"),e(n).addClass("af-hover"),e.alopex.widget.tree._triggerEvent(t,n,"hover")}),e(t).find(".af-tree-link, li>a").bind("hoverend",function(t){var a=t.currentTarget;e(a).removeClass("af-hover")}),"true"!==e(t).attr("data-draggable")&&!0!==e(t).attr("data-draggable")||e(t).find("li > a").each(function(){e(this).attr("draggable",!0),e(this).off("dragover.alopex").on("dragover.alopex",e.alopex.widget.tree._treeDragOver),e(this).off("dragstart.alopex").on("dragstart.alopex",e.alopex.widget.tree._treeDragStart),e(this).off("drop.alopex").on("drop.alopex",e.alopex.widget.tree._treeDrop)})},_treeDragStart:function(t){var a=e(t.target).parent("li");e.alopex.util.isValid(a.attr("id"))?t.originalEvent.dataTransfer.setData("dragElemId",a.attr("id")):(a.attr("id","alopex-tree-temp-id-"+Math.random().toString(36).substr(2,5)),t.originalEvent.dataTransfer.setData("dragTempId",a.attr("id")))},_treeDrop:function(t){var a,n;n=(a=t.originalEvent.dataTransfer.getData("dragTempId")?e("#"+t.originalEvent.dataTransfer.getData("dragTempId")).removeAttr("id"):e("#"+t.originalEvent.dataTransfer.getData("dragElemId")))[0].parentElement;var i=e(t.target).closest("li").children("ul").first();if(e.contains(a[0],e(t.target).closest("li")[0]))console.error("[Alopex] cannot move parent node to child node");else{if(0==i.length)i=e("<ul></ul>").appendTo(e(t.target).closest("li"));else if(e(i).closest("li").is(e(a).parent().closest("li")))return;var r=e(i).closest(".Tree"),o=e(t.target).closest("li")[0];e(i).append(a),"visible"===r.attr("data-checkbox")&&(e.alopex.widget.tree._traverseDown(n),e.alopex.widget.tree._traverseUp(n),e.alopex.widget.tree._traverseUp(a)),r.refresh();var s={dragTarget:{id:a[0].id,text:e(a[0]).children("a").first().text(),path:e.alopex.widget.tree._getNodePath(a[0]),node:a[0],data:e(a[0]).prop("data")},dropTarget:{id:o.id,text:e(o).children("a").first().text(),path:e.alopex.widget.tree._getNodePath(o),node:o,data:e(o).prop("data")}};r.trigger("dragdrop",[s]),t.preventDefault()}},_treeDragOver:function(e){e.preventDefault()},_getNodeText:function(t){return e.alopex.util.trim(e(t).text())},_getNodePath:function(t){var a="/"+e.alopex.widget.tree._getNodeText(t);try{for(;e(t).closest("ul").siblings("a").length>0;)t=e(t).closest("ul").siblings("a")[0],a="/"+e.alopex.widget.tree._getNodeText(t)+a;return a}catch(e){return a}},_addKeydownEvent:function(t){var a,n,i;e(t).find(".af-tree-link, li>a").bind("focusin click",function(r){e.alopex.widget.tree.currentTree=t,e(window).bind("mousedown",function(a){var n=a.target,i=e(n).closest("ul");0!==i.length&&i[0]===t||(e(document.body).unbind("keydown"),e(window).unbind("mousedown"))}),e(t).unbind("keydown"),e(t).bind("keydown",function(t){var r,o,s=t.target,l=e(s);switch(null!==t.keyCode?t.keyCode:t.which){case 36:l.removeClass("af-pressed"),(l=e(e.alopex.widget.tree.currentTree).find('[class~="af-tree-link"]')[0]).focus();break;case 35:for(l.removeClass("af-pressed"),s=e(e.alopex.widget.tree.currentTree).children("li").last();"true"===e(s).attr("data-expand");)s=e(s).children("ul").children("li").last();l=s.find('> [class="af-tree-link"]').focus();break;case 37:if("true"!==l.parent().attr("data-expand")){var d=l.closest("ul").siblings('[class~="af-tree-link"]');d.length>0&&(l.removeClass("af-pressed"),d.focus())}else e.alopex.widget.tree._toggle(l.parent()[0]);break;case 38:if(o=(r=l.closest("ul")).find('[class~="af-tree-link"]'),"false"===e(l.parent().prev()).attr("data-expand")&&0!==l.parent().prev().length){e(l.parent().prev().find('[class~="af-tree-link"]')[0]).focus();break}if(l[0]===o.first()[0])e(r.siblings("a")).focus();else if(l[0]===o.last()[0]&&"false"===e(l.parent().siblings()[0]).attr("data-expand"))e(l.parent().prev().find('[class~="af-tree-link"]')[0]).focus();else{for(i=!1,a=o.length-1;a>=0;a--)if(i){if("none"!==e(o[a]).closest("ul").css("display"))break}else o[a]===l[0]&&(i=!0);a>=0&&(o.removeClass("af-pressed"),e(o[a]).focus())}break;case 39:"true"!==l.parent().attr("data-expand")?e.alopex.widget.tree._toggle(l.parent()[0]):l.siblings("ul").find('[class~="af-tree-link"]').length>0&&(l.removeClass("af-pressed"),e(l.siblings("ul").find('[class~="af-tree-link"]').first()).focus());break;case 40:if(o=(r=l.closest("ul")).find('[class~="af-tree-link"]'),"false"===e(l.parent()).attr("data-expand")&&0!==l.parent().next().length){e(l.parent().next().find('[class~="af-tree-link"]')[0]).focus();break}if(l[0]===o.last()[0]){for(n=r.parent();0===n.next().length;)if(void 0===(n=n.closest("ul").parent())[0])return;e(n.next().find('[class~="af-tree-link"]')[0]).focus()}else if(l[0]===o.first()[0]&&"false"===e(o.first().parent()).attr("data-expand")&&o.first().siblings("span").length>0&&0===l.parent().siblings().length)if("tree"!==e(r).attr("data-type")){for(n=r.parent();0===n.next().length;)n=n.closest("ul").parent();e(n.next().find('[class~="af-tree-link"]')[0]).focus()}else l.parent().next().length>0&&e(l.parent().next().find('[class~="af-tree-link"]')[0]).focus();else{for(i=!1,a=0;a<o.length;a++)if(i){if("none"!==e(o[a]).closest("ul").css("display"))break}else o[a]===l[0]&&(i=!0);a<o.length&&(o.removeClass("af-pressed"),e(o[a]).focus())}break;default:return}t.stopPropagation(),t.preventDefault()})})},_addCheckbox:function(t){var a,n="visible"===e(t).closest(".Tree").attr("data-checkbox");e(t).find("input.Checkbox").each(function(){(a=e(this)).attr("data-type","checkbox"),a.bind("change click",e.alopex.widget.tree._checkboxHandler),a.attr("style",a.attr("style")+";"),n?a.css("display","inline-block"):a.css("display","none")})},_checkboxHandler:function(t){var a=t.currentTarget;e(a).is(":checked")?e(a.parentNode).find('input[type="checkbox"]').each(function(){this.indeterminate=!1,this.setAttribute("checked",!0),this.checked=!0}):e(a.parentNode).find('input[type="checkbox"]').removeAttr("checked").each(function(){this.indeterminate=!1,this.removeAttribute("checked"),this.checked=!1}),e.alopex.widget.tree._traverseUp(a.parentNode)},_traverseUp:function(t){var a=e(t).closest("ul").find("> li > input").length,n=0,i=0;e(t).closest("ul").find("> li > input").each(function(){this.indeterminate?i++:e(this).is(":checked")&&n++});var r=e(t).closest("ul").siblings('input[type="checkbox"]');r.length>0&&(0===n&&0===i?(r.prop("indeterminate",!1),r.removeAttr("checked"),r.each(function(){this.indeterminate=!1,this.removeAttribute("checked"),this.checked=!1})):n===a?(r.prop("indeterminate",!1),r.attr("checked","true"),r.each(function(){this.indeterminate=!1,this.setAttribute("checked","true"),this.checked=!0})):(r.prop("indeterminate",!0),r.removeAttr("checked"),r.each(function(){this.indeterminate=!0,this.removeAttribute("checked")})),e.alopex.widget.tree._traverseUp(r[0]))},_traverseDown:function(t){var a=e(t),n=e(t).find("> li > input").length,i=0,r=0;e(t).find("> li > input").each(function(){this.indeterminate?r++:e(this).is(":checked")&&i++}),0===i&&0===r?(a.prop("indeterminate",!1),a.removeAttr("checked")):i===n?(a.prop("indeterminate",!1),a.attr("checked","true"),a.indeterminate=!1):(a.prop("indeterminate",!0),a.removeAttr("checked"))},_checkCheckbox:function(t,a){var n,i={};if(a)for(var r=0;r<a.length;r++)o(a[r]);function o(e){var a=0;if(e[t.idKey]?(i.type="ID",i[e[t.idKey]]=e[t.checked]):i[e[t.textKey]]=e[t.checked],e[t.subItems]&&e[t.subItems]instanceof Array&&e[t.subItems].length>0){for(var n=0;n<e[t.subItems].length;n++)o(e[t.subItems][n])&&a++;return a==e[t.subItems].length?i[e[t.idKey]]=!0:a>0&&(i[e[t.idKey]]={},i[e[t.idKey]].ime=!0),1==i[e[t.idKey]]}return e[t.checked]}"ID"==i.type?e(t).find("li").each(function(){var t=(n=e(this)).find(">.af-checkbox")[0],a=e(t);1==i[this.id]?(a.attr("checked",!0),t.checked=!0):i[this.id]&&i[this.id].ime&&(a.prop("indeterminate",!0),a.removeAttr("checked"),t.indeterminate=!0,t.removeAttribute("checked"))}):e(t).find(".af-tree-link").each(function(){var t=(n=e(this)).find(">.af-checkbox")[0],a=e(t);i[n.text()]?(a.attr("checked",!0),t.checked=!0):i[n.text()]&&i[n.text()].ime&&(a.prop("indeterminate",!0),a.removeAttr("checked"),t.indeterminate=!0,t.removeAttribute("checked"))})},_unflatten:function(e,t){for(var a,n,i=[],r={},o=0,s=t.length;o<s;o++)r[(a=t[o])[e.idKey]]=a;for(var l in r)r.hasOwnProperty(l)&&((n=r[l])[e.parentIdKey]&&r.hasOwnProperty(n[e.parentIdKey])?(void 0===r[n[e.parentIdKey]][e.subItems]&&(r[n[e.parentIdKey]][e.subItems]=[]),r[n[e.parentIdKey]][e.subItems].push(n)):i.push(n));return i},_lazyLoadHandler:function(t,a){e.alopex.widget.tree._triggerEvent(t,a,"lazyLoad"),e.alopex.widget.tree._expand(a)},_setChecked:function(t){for(var a=e.alopex.widget.tree,n=e(t).find("input.Checkbox").filter(":checked"),i=0;i<n.length;i++)a._traverseUp(n[i])}})}(jQuery),function(e){e.alopex.widget.navmenu=e.alopex.inherit(e.alopex.widget.object,{widgetName:"navmenu",defaultClassName:"af-navmenu Navmenu",setters:["navmenu"],getters:[],properties:{},init:function(t){var a=this;t.eventState="init",e(t).find("ul").addClass("af-navmenu-sub").css("display","none"),e(t).find("li").each(function(){var t=e(this);t.find(">ul").find(">li").length>0&&(a.addHoverHighlight(this),a.addPressHighlight(this),e(t).addClass("af-expandable Expandable"),e(t).append(e(document.createElement("span")).addClass("af-navmenu-icon ArrowIcon")[0]))}),e(t).bind("dragstart selectstart",function(e){return!1}),e.alopex.widget.navmenu.resizeHandler(),e(window).bind("resize",e.alopex.widget.navmenu.resizeHandler)},_setTabIndex:function(t){var a;if(t&&t.children){var n=t.children;for(a=0;a<n.length;a++)0===a?e(n[a]).attr("tabindex","0"):e(n[a]).attr("tabindex","-1")}if(e(t).children().length>0)for(a=0;a<e(t).children().length;a++)e(e(t).children()[a]).find("li").attr("tabindex",-1)},setDataSource:function(t,a){e(t).empty(),e.alopex.widget.navmenu._createNode(t,a),t.phase=void 0,e(t).navmenu()},_createNode:function(t,a){for(var n=0;n<a.length;n++){var i=a[n],r=e("<li></li>").appendTo(t)[0];e.alopex.util.isValid(i.id)&&e(r).attr("data-id",i.id);var o=e("<a></a>").appendTo(r)[0];if(e.alopex.util.isValid(i.linkUrl)&&e(o).attr("href",i.linkUrl),e.alopex.util.isValid(i.iconUrl)&&e("<img/>").attr("src",i.iconUrl).appendTo(r),e(o).text(i.text),e.alopex.util.isValid(i.items)){var s=e("<ul></ul>").appendTo(r)[0];e.alopex.widget.navmenu._createNode(s,i.items)}}},resizeHandler:function(){var t=e('ul[data-type="navmenu"]');document.documentElement.clientWidth<=600?t.removeClass("af-desktop").addClass("af-mobile").each(function(){e.alopex.widget.navmenu.removeMobileEvent(this),e.alopex.widget.navmenu.removeDesktopEvent(this),e.alopex.widget.navmenu.addMobileEvent(this)}):t.addClass("af-desktop").removeClass("af-mobile").each(function(){e.alopex.widget.navmenu.removeMobileEvent(this),e.alopex.widget.navmenu.removeDesktopEvent(this),e.alopex.widget.navmenu.addDesktopEvent(this)}),t.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")},addDesktopEvent:function(t){var a=t;e(t).bind("keydown",function(t){var a=t.target;switch(t.keyCode?t.keyCode:t.which){case 27:for(var n=e(a).closest("ul");"navmenu"!==e(n).attr("data-type");)n.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),n=e(n.parent()).closest("ul");e(n.find(".af-navmenu-expand.Expanded").find("> a")).focus(),n.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none");break;default:return}t.stopPropagation(),t.preventDefault()}),e(t).bind("focusin",function(t){var a,n=t.target,i=e(n).closest("ul");void 0!==i&&i[0],a=e(n).closest("li")[0],void 0!==e(a).attr("class")&&e(a).hasClass("af-expandable Expandable")?(e(a).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),e(a).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):e(a).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")}),e(t).focusout(function(t){var n=t.target,i=e(n).closest("ul");(void 0===n||void 0===e(i).attr("class")||-1===e(i).attr("class").indexOf("af-navmenu"))&&i[0]!==a&&e(a).find("li").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")}),e(t).bind("mouseleave",function(t){for(var a=t.target,n=e(a).closest("ul");"navmenu"!==e(n).attr("data-type");)n.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),n=e(n.parent()).closest("ul");n.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")}),e(t).bind("mousemove",function(t){var a,n=t.target,i=e(n).closest("ul");void 0!==i&&i[0],a=e(n).closest("li")[0],void 0!==e(a).attr("class")&&e(a).hasClass("af-expandable Expandable")?(e(a).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),e(a).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):e(a).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")})},removeDesktopEvent:function(t){e(t).unbind("click").unbind("keydown")},addMobileEvent:function(t){e(t).find("li").bind("click",function(t){var a,n=t.target,i=e(n).closest("ul");void 0!==i&&i[0],a=e(n).closest("li")[0],void 0!==e(a).attr("class")&&e(a).hasClass("af-expandable Expandable")?(e(a).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),e(a).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):e(a).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")})},removeMobileEvent:function(t){e(t).find("li").unbind("click")}})}(jQuery),function(e){var t=!0,a=".alopexUiEventModel";var n,i,r,o,s,l={},d={},c=0,p={},u=[],h={},f={},g={},m=[],v={};function x(){var e={};return e.id=c++,e.entry=e.doing=e.exit=null,e.transition=[],e}for(s in(n="ontouchstart"in window)&&(t=!1),i=n?"touchstart":"mousedown",i+=a,i+=" keydown"+a,r=n?"touchmove":"mousemove",r+=a,o=n?"touchend"+a+" touchcancel"+a:"mouseup"+a,o+=" keyup"+a,p.down=null,p.move=null,p.up=null,p.timeout=null,p)p[s]=s;for(s in f.pressed=null,f.unpressed=null,f.move=null,f.hoverstart=null,f.hoverend=null,f.hovering=null,f.tap=null,f.singletap=null,f.doubletap=null,f.tripletap=null,f.longtap=null,f.drag=null,f.dragend=null,f.dragstart=null,f.dragenter=null,f.dragleave=null,f.dragover=null,f.drop=null,f.swipe=null,f.swipemove=null,f.swipecancel=null,f.swipeleft=null,f.swiperight=null,f.swipedown=null,f.swipeup=null,f.pinch=null,f.rotate=null,f.transform=null,f.transformmove=null,f.gesturestart=null,f.gesturechange=null,f.gestureend=null,f)f[s]=s;for(s in f.tap="singletap",f.singletap="onetimetap",f)m.push(f[s]);m.push("tap"),f.drag,f.dragenter,f.dragleave,f.dragover,f.dragstart,f.dragend,f.drop,f.swipe,f.swipemove,f.swipecancel,f.pinch,f.rotate,f.transform,f.transformmove,f.gesturestart,f.gesturechange,f.gestureend,g[f.swipe]=f.swipecancel,g[f.swipemove]=f.swipecancel,g[f.swiperight]=f.swipecancel,g[f.swipeleft]=f.swipecancel,g[f.swipedown]=f.swipecancel,g[f.swipeup]=f.swipecancel,g[f.pressed]=f.unpressed,g[f.hoverstart]=f.hoverend,g[f.hovering]=f.hoverend,h.move_d=5,h.swipe_d=100,h.swipe_v=100,h.longtap_t=750,h.ntap_t=250,h.hover_v=100;var b=function(t,a){return t&&a&&e(t).attr("data-"+a)?new Function("event, aevent",e(t).attr("data-"+a)+";"):null},w=function(e){var t=p.down;if(!e.which||1===e.which||13===e.which||32===e.which)return"touchstart"===e.type&&e.originalEvent.touches.length>1&&(t=p.move),$(t,e),!0},y=null,_=function(e){if(!n)if(y){if(y.x===e.pageX&&y.y===e.pageY)return;y.x=e.pageX,y.y=e.pageY}else(y={}).x=e.pageX,y.y=e.pageY;$(p.move,e)},k=function(e){var t=p.up;e.which&&1!==e.which&&13!==e.which&&32!==e.which||("touchend"===e.type&&e.originalEvent.touches.length>0&&(t=p.move),$(t,e))},C=function(t){return e(d.pressedElement)[0]===e(t.target)[0]},T=function(e){e.preventDefault()},S=function(t,a){e.each(["target","pageX","pageY","which","metakey","relatedTarget","clientX","clientY","offsetX","offsetY"],function(e,n){t[n]=a[n]}),t.originalEvent=a,t.isOriginalDefaultPrevented=function(){return!!this.originalDefaultPrevented},t.preventOriginalDefault=function(){this.originalDefaultPrevented=!0},t.isOriginalPropagationStopped=function(){return!!this.originalPropagationStopped},t.stopOriginalPropagation=function(){this.originalPropagationStopped=!0}};e(function(){t&&e(document.body).off(".alopexworkaround").on("click.alopexworkaround","[data-tap]",function(t){var a=String(this.tagName).toUpperCase();if("LABEL"!==a){if("INPUT"===a){var n=String(this.type).toLowerCase();if("checkbox"===n||"radio"===n)return}var i=e(this),r=i.data("alopex-ui-data-tap");if(i.data("alopex-ui-data-tap",null),!r){i.data("alopex-ui-data-tap-keyup",!0);var o=b(this,f.tap);return e.isFunction(o)?(t.type=f.tap,o.call(this,t)):"tap"!==f.tap&&(o=b(this,"tap"),e.isFunction(o))?(t.type="tap",o.call(this,t)):void 0}}})});var E=function(a,n,i){var r=e.makeArray(arguments).slice(3),o=e(n),s=e.Event(i);if(r.length&&typeof r[0]==typeof[]&&r[0].length>0&&(r=r[0]),"touchcancel"!==a.type){var l=b(n,i);if(l&&e===window.jQuery&&(o.one(i,l),t&&"tap"===i&&(o.data("alopex-ui-data-tap",!0),"keyup"===a.type&&o.data("alopex-ui-data-tap-keyup")&&(o.off(i,l),o.data("alopex-ui-data-tap-keyup",null),o.data("alopex-ui-data-tap",null)))),i===f.tap&&"singletap"===f.tap){var c=e.makeArray(arguments);c[2]="tap",E.apply(null,c)}if(S(s,a),"tap"!==i&&"singletap"!==i||(s.origType=a.type),o.trigger(s,r),s.isOriginalDefaultPrevented())try{a.preventDefault()}catch(e){}if(s.isDefaultPrevented())for(var p=0;p<o.length;p++)("A"===o[p].tagName||"BUTTON"===o[p].tagName&&"submit"===o[p].type)&&e(o[p]).one("click",T);if(s.isOriginalPropagationStopped())try{a.stopPropagation()}catch(e){}if(g[i]){var u=g[i];r[0]=u,d.needCancel[u]={elem:n,arg:r}}}else N(a)},N=function(t){for(var a in d.needCancel){var n=d.needCancel[a],i=e.Event(n.arg[0]);S(i,t),e(n.elem).trigger(i,n.arg.slice(1))}delete d.needCancel,d.needCancel={}},D=function(e,t){for(var a=0;a<e.transition.length;a++){var n=e.transition[a];n.trigger&&-1!==n.trigger.indexOf(p.timeout)&&O(n,t)}},O=function(e,t){var a,n=e.trigger.split(p.timeout)[1];a=setTimeout(function(){$(e.trigger,t)},n),u.push(a)},P=function(){if(u.length>0)for(var e=0;e<u.length;e++)clearTimeout(u[e]);u=[]},H=function(e){var t=M(e),a=A(e),n=d.startX-t,i=d.startY-a;return Math.sqrt(n*n+i*i)>=h.move_d},M=function(e,t){var a=e;if(t=t||d.trace,e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(a=e.originalEvent),n&&a.touches&&a.touches.length>0)return a.touches[0].pageX;if(void 0!==a.pageX&&null!==a.pageX)return a.pageX;var i=t.length-1;return i<0?0:t[i].x},A=function(e,t){var a=e;if(t=t||d.trace,e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(a=e.originalEvent),n&&a.touches&&a.touches.length>0)return a.touches[0].pageY;if(void 0!==a.pageY&&null!==a.pageY)return a.pageY;var i=t.length-1;return i<0?0:t[i].y},V=function(e,t,a,n){var i=e-a,r=t-n;return Math.floor(Math.sqrt(i*i+r*r))},I=function(e){return(new Date).getTime()},j=function(t,a){var n,i={};if(a=a||d.trace,i.startX=d.startX,i.startY=d.startY,i.pageX=M(t,a),i.pageY=A(t,a),i.distance=V(i.startX,i.startY,i.pageX,i.pageY),i.distanceX=i.pageX-i.startX,i.distanceY=i.pageY-i.startY,n=function(t,a){var n={value:0,valueX:0,valueY:0};if((a=a||d.trace).length>2){var i,r,o=a.length-2,s=a.length-1;a[o].x===a[s].x&&a[o].y===a[s].y&&(o=a.length-3),a[o-1]&&a[o].time-a[o-1].time<500&&o--,i=V(a[s].x,a[s].y,a[o].x,a[o].y),r=a[s].time-a[o].time;var l=a[s].x-a[o].x,c=a[s].y-a[o].y;n.value=Math.floor(i/r*1e3),n.valueX=Math.floor(l/r*1e3),n.valueY=Math.floor(c/r*1e3)}return e.each(["value","valueX","valueY"],function(e,t){(n[t]===1/0||isNaN(n[t]))&&(n[t]=0)}),n}(0,a),i.speed=n.value,i.speedX=n.valueX,i.speedY=n.valueY,i.alignment="",i.direction="",i.distance<h.move_d)i.alignment="stay",i.direction="none";else{var r=i.distanceY/i.distance;i.alignment=-.5<=r&&r<=.5?"horizontal":.866<=r||r<=-.866?"vertical":"diagonal",(r<=-.5||r>=.5)&&(i.distanceY>0?i.direction+="down":i.direction+="up"),-.866<=r&&r<=.866&&(i.distanceX>0?i.direction+="right":i.direction+="left")}return i},B=function(t,a){var n=!1,i=a||m;e.each(i,function(e,a){if(L(t,a))return n=!0,!1});var r=["tap",f.singletap,f.doubletap,f.tripletap,f.longtap];return e.each(r,function(a,i){e(t).attr("data-"+i)&&(n=!0)}),n},L=function(t,a,n){var i=null;if(!t)return!1;var r=t.jquery?t:e(t);t=t.jquery?r[0]:t,i=e._data?e._data(r[0],"events"):r.data("events");var o=r.attr("data-"+a);if(o&&((i={})[a]=o),i&&i[a])return!0;if(!0===n){var s=r.parent();if(s.length&&"BODY"!==r.prop("tagName"))return L(s,a,!0)}return!1},R=function(e,t){for(var a=e.target,n="string"==typeof t?[t]:t,i=B(a,n);!i&&a.parentElement;)a=a.parentElement,i=B(a,n);return t&&!i?null:a};v.swipe=function(t){var a,n,i,r,o=j(t),s=R(t,[f.swipe,f.swipeleft,f.swiperight,f.swipeup,f.swipedown,f.swipemove,f.swipecancel]),l=e(s).data("swipecondition");l&&(l.direction||l.alignment)?l.alignment&&-1===l.alignment.indexOf(o.alignment)?(a=-1,i=-1):l.alignment&&-1!==l.alignment.indexOf(o.alignment)?"vertical"===o.alignment?(a=Math.abs(o.distanceY),i=Math.abs(o.speedY)):"horizontal"===o.alignment?(a=Math.abs(o.distanceX),i=Math.abs(o.speedX)):(a=Math.abs(o.distance),i=Math.abs(o.speed)):l.direction&&-1!==l.direction.indexOf(o.direction)?"up"===o.direction?(a=-o.distanceY,i=-o.speedY):"down"===o.direction?(a=o.distanceY,i=o.speedY):"left"===o.direction?(a=-o.distanceX,i=-o.speedX):"right"===o.direction?(a=o.distanceX,i=o.speedX):(a=-1,i=-1):(a=-1,i=-1):(a=o.distance,i=o.speed),n=l&&l.distance?l.distance:h.swipe_d,r=l&&l.speed?l.speed:h.swipe_v,l&&l.distance&&!l.speed&&(i=-1),l&&l.speed&&!l.distance&&(a=-1),l&&l.distanceX&&(a=Math.abs(o.distanceX),i=-1,n=Math.abs(l.distanceX),r=0),l&&l.distanceY&&(a=Math.abs(o.distanceY),i=-1,n=Math.abs(l.distanceY),r=0),a>=n||i>=r?(e.each(["up","down","left","right"],function(e,a){o.direction===a&&E(t,d.pressedElement,"swipe"+o.direction,o)}),E(t,d.pressedElement,f.swipe,o)):E(t,d.pressedElement,f.swipecancel,o)},v.ntap=function(e){var t=[f.tap,f.singletap,f.doubletap,f.tripletap],a=d.tapcount;a>3&&(a=3),E(e,d.pressedElement,t[a]),d.tapcount=0},v.dragstart=function(e){},v.dragmove=function(e){},v.dragend=function(e){};var Y=function(){for(var e in d)d.hasOwnProperty(e)&&"pointer"!==e&&"tapcount"!==e&&delete d[e];d.pressedElement=null,d.currentElement=null,d.previousElement=null,d.startX=null,d.startY=null,d.trace=[],d.needCancel={}},F=function(e,t){if(!e)return!1;e.entry&&e.entry(t),e.doing&&e.doing(t)},z=function(){for(var e=d.pointer,t=0;t<e.transition.length;t++)if(!e.transition[t].trigger)return!0;return!1},$=function(e,t){function a(){N(t)}do{var n=d.pointer,i=null;d.previousElement=d.currentElement,d.currentElement=t.target;var r={};r.time=I(),r.x=M(t),r.y=A(t),0!==d.trace.length&&r.x===d.trace[d.trace.length-1].x&&r.y===d.trace[d.trace.length-1].y||d.trace.push(r);for(var o=0;o<n.transition.length;o++){var s=n.transition[o];if((s.trigger===e||null===s.trigger)&&(null===s.guard||"function"==typeof s.guard&&s.guard(t))){i=s;break}}if(!i){if(e!==p.down)return-1!==e.indexOf(p.timeout)&&(P(),D(n,t),!1);i={to:l.pressedinitial,effect:a}}P(),n.exit&&n.exit(t),i&&i.effect&&i.effect(t),d.pointer=i.to,n=d.pointer,F(n,t),D(n,t),e=null}while(z())};l.idle=x(),l.hover=x(),l.pressedinitial=x(),l.unpressed=x(),l.pressedinter=x(),l.moving=x(),l.endmove=x(),l.unpressedwait=x(),l.idle.entry=function(t){Y(),e(document).unbind(a),e(document).bind(i,w),e(document).bind(r,_)};var q=function(t){var a=R(t);return!!e(a).attr("disabled")};l.idle.transition.push({to:l.pressedinitial,trigger:p.down,guard:function(e){return!q(e)},effect:function(e){}});l.idle.transition.push({to:l.idle,trigger:p.move,guard:function(e){var t=j(e);return d.lastHoverTime=I(),!!(t.speed>h.hover_v||d.currentElement&&d.currentElement!==d.previousElement)},effect:function(e){}}),l.idle.transition.push({to:l.unpressed,trigger:p.up,guard:function(e){return!q(e)&&!(13===e.which||32===e.which)},effect:function(e){l.pressedinitial.entry(e),l.pressedinitial.doing(e)}}),l.hover.transition.push({to:l.hover,trigger:p.move,guard:function(e){var t=R(e,[f.hoverstart,f.hovering,f.hoverend]);return d.pressedElement===t},effect:function(e){E(e,d.pressedElement,f.hovering,j(e))}}),l.hover.transition.push({to:l.idle,trigger:p.move,guard:function(e){var t=R(e,[f.hoverstart,f.hovering,f.hoverend]);return d.pressedElement!==t},effect:function(e){E(e,d.pressedElement,f.hoverend,j(e))}}),l.hover.transition.push({to:l.pressedinitial,trigger:p.down,guard:function(e){return!q(e)},effect:function(e){E(e,d.pressedElement,f.hoverend,j(e))}}),l.pressedinitial.entry=function(t){Y(),d.tapcount=0,d.pressedElement=t.target,d.currentElement=R(t),d.startX=M(t),d.startY=A(t),e(document).unbind(r),e(document).unbind(o),e(document).bind(r,_),e(document).bind(o,k)},l.pressedinitial.doing=function(e){E(e,d.pressedElement,f.pressed,j(e))},l.pressedinitial.transition.push({to:l.moving,trigger:p.move,guard:function(e){return H(e)},effect:function(e){}}),l.pressedinitial.transition.push({to:l.unpressedwait,trigger:p.up,guard:function(e){return!q(e)},effect:function(e){}}),l.pressedinitial.transition.push({to:l.idle,trigger:p.timeout+h.longtap_t,guard:function(e){return L(d.pressedElement,f.longtap,!0)},effect:function(e){E(e,d.pressedElement,f.longtap,j(e)),E(e,d.pressedElement,f.unpressed,j(e))}});var W={to:l.unpressed,trigger:null,guard:null,effect:null};for(s in n&&(W.trigger=p.timeout+50),l.unpressedwait.transition.push(W),l.unpressed.entry=function(e){E(e,d.pressedElement,f.unpressed,j(e))},l.unpressed.doing=function(e){d.tapcount++,E(e,d.pressedElement,f.tap)},l.unpressed.transition.push({to:l.idle,trigger:p.timeout+h.ntap_t,guard:null,effect:function(e){v.ntap(e)}}),l.unpressed.transition.push({to:l.pressedinter,trigger:p.down,guard:function(e){return C(e)&&!H(e)},effect:null}),l.unpressed.transition.push({to:l.pressedinitial,trigger:p.down,guard:function(e){return!C(e)||H(e)},effect:null}),l.unpressed.transition.push({to:l.unpressed,trigger:p.up,guard:function(e){return!(13===e.which||32===e.which)},effect:function(e){}}),l.pressedinter.entry=function(e){E(e,d.pressedElement,f.pressed,j(e))},l.pressedinter.transition.push({to:l.unpressedwait,trigger:p.up,guard:function(e){return!0},effect:null}),l.pressedinter.transition.push({to:l.pressedinitial,trigger:p.timeout+h.ntap_t,guard:null,effect:function(e){v.ntap(e)}}),l.pressedinter.transition.push({to:l.moving,trigger:p.move,guard:function(e){return H(e)},effect:function(e){v.ntap(e)}}),l.moving.doing=function(e){var t=j(e);E(e,d.pressedElement,f.move,t),E(e,d.pressedElement,f.swipemove,t)},l.moving.transition.push({to:l.endmove,trigger:p.up,guard:null,effect:null}),l.moving.transition.push({to:l.moving,trigger:p.move,guard:null,effect:null}),l.endmove.doing=function(e){E(e,d.pressedElement,f.unpressed,j(e)),v.swipe(e)},l.endmove.transition.push({to:l.idle,trigger:null,guard:null,effect:function(e){}}),l)l[s].name=s;var U=function(){e(document).unbind(a),e(document).unbind(i),e(document).unbind(r),e(document).unbind(o)};!function(){if(e.each(["","left","right","up","down"],function(t,a){e.event.special["swipe"+a]={setup:function(t,a,n){t&&e(this).data("swipecondition",t)},teardown:function(t){e(this).removeData("swipecondition")}}}),!n){var a=[f.hoverend,f.hovering,f.hoverstart],i=[],r=function(t){var a={};a.time=I(),a.x=M(t,i),a.y=A(t,i),i.push(a),i.length>5&&i.shift();var n=j(t,i);e(this).data("hovercondition"),"mousedown"===t.type||"mouseout"===t.type?e(this).trigger("hoverend",n):"mouseup"===t.type||"mouseover"===t.type?e(this).trigger("hoverstart",n):"mousemove"===t.type&&0===t.which&&e(this).trigger("hovering",n)},o=["mousedown","mouseup","mouseover","mousemove","mouseout",""];e.each(a,function(t,a){e.event.special[a]={setup:function(t,a,n){t&&e(this).data("hovercondition",t)},add:function(t){t.data&&e(this).data("hovercondition",t.data),e(this).on(o.join(".alopexeventhover"+a+" "),t.selector||null,r)},teardown:function(t){e(this).removeData("hovercondition"),e(this).off(o.join(".alopexeventhover"+a+" "),r)}}})}if(e.each(["tap","singletap"],function(t,a){e.fn[a]=function(e){return e?this.bind(a,e):this.trigger("tap").trigger("singletap")}}),t){var s={x:null,y:null};e.each(["tap","singletap"],function(t,a){e.event.special[a]={setup:function(t,n){var i=String(this.tagName).toUpperCase();if("LABEL"!==i){if("INPUT"===i){var r=String(this.type).toLowerCase();if("checkbox"===r||"radio"===r)return}var o=e(this);o.on("click.alopexuitapworkaround"+a,function(t){var n=o.data("alopex-ui-tap-wtapped"+a);if(o.data("alopex-ui-tap-wtapped"+a,null),!n){var i=!1,r=e.Event(a);o.each(function(){e(this).triggerHandler(r,[!0])}),i=i||r.isDefaultPrevented(),o.data("alopex-ui-tap-wtapped-keyup"+a,!0)}}).on("mousedown.alopexuitapworkaround"+a,function(e){s.x=e.pageX,s.y=e.pageY}).on("mouseup.alopexuitapworkaround"+a,function(t){var n=h.move_d;(Math.abs(s.x-t.pageX)>n||Math.abs(s.y-t.pageY)>n)&&e(this).data("alopex-ui-tap-wtapped"+a,!0)})}},teardown:function(){e(this).off(".alopexuitapworkaround"+a)},_default:function(t,n){e(this).data("alopex-ui-tap-wtapped-keyup"+a,null)},handle:function(t,n){var i=e(this),r=t.handleObj,o=(jQuery.data(t.target),null);return t.type=r.origType,"keyup"===t.origType&&i.data("alopex-ui-tap-wtapped-keyup"+a)||(o=r.handler.apply(this,arguments),!0!==n&&i.data("alopex-ui-tap-wtapped"+a,!0)),t.type=r.type,o}}})}var l=[f.singletap,f.doubletap,f.tripletap,f.longtap];e.each(l,function(t,a){e.fn[a]=function(t,n){e.isFunction(t)?this.on(a,t):e.isPlainObject(t)&&e.isFunction(n)?this.on(a,t,n):this.trigger(a)}})}(),U(),Y(),d.tapcount=0,d.pointer=l.idle,F(d.pointer,{})}(jQuery),function(e){e(function(){var t={};for(var a in e.alopex.widget)for(var n=0;n<e.alopex.widget[a].getters.length;n++){t[e.alopex.widget[a].getters[n]]=null}for(var a in t)e.fn[a]=new Function('return $.alopex._getter.call(this, "'+a+'", arguments)');for(var a in t={},e.alopex.widget)for(n=0;n<e.alopex.widget[a].setters.length;n++){t[e.alopex.widget[a].setters[n]]=null}for(var a in t)e.fn[a]=new Function('return $.alopex._setter.call(this, "'+a+'", arguments)');e.alopex.checkBrowser(),e.alopex.convert("body")})}(jQuery),function(e){var t="ready";window.isAlopexReady=!1,window.alopexController&&(t="alopexready"),e(document).on(t,function(){window.isAlopexReady=!0})}(jQuery),function(e){e.extend(e.alopex,{session:function(){return isAlopexWindowPopup()?window.opener.$a.session.apply(this,arguments):checkAlopexWindowParent()&&window.parent&&window.parent!=window&&window.parent.$a?window.parent.$a.session.apply(this,arguments):1==arguments.length?memoryPreference.get(arguments[0]):void(arguments.length>1&&memoryPreference.put.apply(memoryPreference,arguments))},cookie:function(){if(1==arguments.length)return preference.get(arguments[0]);arguments.length>1&&preference.put.apply(preference,arguments)}}),e.alopex.session.clear=function(){0===arguments.length?memoryPreference.removeAll():1===arguments.length&&memoryPreference.remove(arguments[0])},e.alopex.cookie.clear=function(){preference.removeAll()}}(jQuery),function(e){e.alopex.validator=window.Validator,window.$a=e.alopex}(jQuery),function(e){if(!window.alopexController){function t(e){return void 0!=e&&null!=e}function a(){this.data,sessionStorage.alopex||(sessionStorage.alopex=""),this.data=sessionStorage.alopex}function n(){}function i(e){try{return JSON.parse(e)}catch(t){return console.error("JSON.parse() error : "+e),!1}}a.prototype.setData=function(e){this.data=e,sessionStorage.alopex=e},a.prototype.contains=function(e){if(t(e)){if(-1!=this.data.indexOf("ù"))for(var a=this.data.split("ù")[0].split("♠"),n=0;n<a.length;n++)if(a[n]=="mp-"+e||a[n]=="mp-json-"+e)return!0;return!1}},a.prototype.get=function(e){if(t(e)){if(-1!=this.data.indexOf("ù"))for(var a=this.data.split("ù")[0],n=this.data.split("ù")[1],r=a.split("♠"),o=n.split("♠"),s=0;s<r.length;s++){if(r[s]=="mp-"+e)return o[s];if(r[s]=="mp-json-"+e)return i(o[s])}return"undefined"}return"undefined"},a.prototype.put=function(a,n){if(t(a)&&t(n))if("[object String]"===Object.prototype.toString.call(n)||!e.isArray(n)&&n.constructor!=Object||(n=function(e){try{return JSON.stringify(e)}catch(t){return console.error("JSON.stringify() error"),console.error(e),!1}}(n),a="json-"+a),-1!=this.data.indexOf("ù")){for(var i=this.data.split("ù")[0],r=this.data.split("ù")[1],o=i.split("♠"),s=r.split("♠"),l=0;l<o.length;l++)if(o[l]=="mp-"+a)return s[l]=n,void this.setData(o.join("♠")+"ù"+s.join("♠"));o.push("mp-"+a),s.push(n),this.setData(o.join("♠")+"ù"+s.join("♠"))}else this.setData("mp-"+a+"ù"+n)},a.prototype.remove=function(e){if(t(e)){var a=this.data.split("ù")[0],n=this.data.split("ù")[1];if(null!=a&&null!=n)for(var i=a.split("♠"),r=n.split("♠"),o=0;o<i.length;o++)if(i[o]=="mp-"+e||i[o]=="mp-json-"+e)return i.splice(o,1),r.splice(o,1),void this.setData(i.join("♠")+"ù"+r.join("♠"))}},a.prototype.removeAll=function(){var e=this.data.split("ù")[0],t=this.data.split("ù")[1];if(null!=e&&null!=t){for(var a=e.split("♠"),n=t.split("♠"),i=a.length,r=0;r<i;r++)null!=a[r]&&("mp-"!=a[r].substring(0,3)&&"mp-json-"!=a[r].substring(0,8)||(a.splice(r,1),n.splice(r,1),r--,i--));this.setData(a.join("♠")+"ù"+n.join("♠"))}},window.memoryPreference||(window.memoryPreference=new a),n.prototype.contains=function(e){return!!t(e)&&(void 0!==preference.get(e)&&"undefined"!==preference.get(e))},n.prototype.get=function(e){if(t(e))for(var a=function(e){return decodeURIComponent(e.replace(/\+/g," "))},n=document.cookie.split("; "),i=0,r=n.length;i<r;i++){var o=n[i].split("=");if(a(o.shift())===e)return a(o.join("="))}else;},n.prototype.put=function(e,a,n){if(t(e)){if("number"==typeof n){var i=n,r=n=new Date;r.setDate(r.getDate()+i)}document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(a),n?"; expires="+n.toUTCString():""].join("")}},n.prototype.remove=function(e){t(e)&&void 0!==preference.get(e)&&preference.put(e,void 0)},n.prototype.removeAll=function(){notSupported("Preference.removeAll")},window.preference||(window.preference=new n)}}(jQuery),function(e){e.alopex.decorator=function(t){return this.process=function(){t.template=this.template;var a=e('script[type="text/alopex-decorator"]').attr("data-decorator"),n=t.options.metas;for(i in n){var r="<meta";for(j in n[i]){var o=n[i][j];r+=" "+o.prop+'="'+o.value+'"'}r+="/>",e("head").prepend(r)}t[a||t.options.defaultDecorator]&&t[a||t.options.defaultDecorator](),e("html").show()},this},e.alopex.view=function(t,a){var n=e.alopex.viewConfig.views[t];return void 0==n&&void 0!==a&&(n=new e.alopex._view(t,a),e.alopex.viewConfig.views[t]=n),n},e.alopex.viewSetup=function(t){e.extend(e.alopex.viewConfig.settings,t)},e.alopex.viewConfig={views:{},settings:{templateBasePath:"source/templates",templateFileExtension:".html"}},e.alopex._view=function(t,a){this.name=t,e.extend(this,a)},e.alopex._view.prototype={template:function(t){var a=this.templateName||this.name+e.alopex.viewConfig.settings.templateFileExtension,n=AlopexWebApp.Templates[e.alopex.viewConfig.settings.templateBasePath+"/"+a];return n&&"function"==typeof n?n(t):""},render:function(t){var a=this.outlet||this.name;t=(t=t||this.model)&&"function"==typeof t?t():t;var n=e('[data-outlet="'+a+'"]');n.html(this.template(t)),n.convert()}}}(jQuery),function(e){function t(e){this.form,this.input,this.files,this.add,this.iframe,this.selected=[],this.options=e}t.prototype.addForm=function(t){var a="_iframe_"+Math.random();this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id",a),this.iframe.setAttribute("name",a),this.form=document.createElement("form"),this.form.setAttribute("method","post"),this.form.setAttribute("enctype","multipart/form-data"),this.form.setAttribute("target",a),e(this.iframe).appendTo("body"),e(this.form).appendTo(t),e(t).css("overflow","hidden")},t.prototype.addInput=function(){this.input&&(this.selected.push(this.input),e(this.input).hide()),this.input=document.createElement("input"),this.input.setAttribute("type","file"),this.input.setAttribute("name","file"),this.options.multiple&&this.input.setAttribute("multiple",!0),e(this.input).css({display:"block",top:0,right:0,height:"100%",width:"100%","font-size":"1000px"}),e(this.input).css({position:"absolute",right:"0px",top:"0px",height:"40px",width:"200px",opacity:0});var t=this;e(this.input).on("change",function(e){e.target.files?t.files=e.target.files:t.files=[{name:e.target.value}],t.options.success&&t.options.success.apply(this,[t.files])}),e(this.input).appendTo(this.form)},t.prototype.upload=function(t){this.form.action=t.url;var a=e(this.form).find('input[type="file"]');a.length>2&&a.eq(0).remove();var n=this;window.aa=this.iframe,e(this.iframe).one("load",function(a){var i,r;try{r={code:"E001",message:"Cross-Domain"},i=e(n.iframe.contentDocument.body).find("pre").html(),r={code:"E002",message:"JSON Parse Error"},i=JSON.parse(i)}catch(a){}i&&(t.isSuccess&&t.isSuccess(i)||!t.isSuccess)?t.success(i):t.error(r)}),t.success&&(window._uploadSuccessCallback=t.success),t.error&&(window._uploadErrorCallback=t.error),e(this.form).trigger("submit")},t.prototype.removeSelected=function(t){for(var a=0;a<this.selected.length;a++)if(this.selected[a].value==t){e(this.selected[a]).remove(),this.selected.splice(a,1);break}},e.fn.fileselect=function(e){var a=this[0],n=new t(e);return n.addForm(a),n.addInput(),n}}(jQuery),jQuery,function(e){e.extend(e.alopex,{fragment:function(e){var t;if("function"==typeof e){t=isAlopexReady?"alopexuiready":window.alopexController?"alopexready":"ready";var a=e.toString();return a=(a=a.replace(/function\s*\(\s*\)\s*\{/i,"")).substr(0,a.length-1),new Function("var exports = {};"+a+'$(document).one("'+t+'", function() {;init($a.parameters);});;return exports;')()}}})}(jQuery),function(e){var t=[];function a(){this.error=-1,this.errorMessage=null,this.response=null,this.responseHeader=null,(t=t||[]).push(this),this.index=t.length-1,this.httpRequestHeaders={},this.httpObject,this.isTimeout=!1}function n(e){return void 0!==e&&null!==e}a.prototype.cancelDownload=function(){null!=this.httpObject&&this.httpObject.abort()},a.prototype.cancelRequest=function(){null!=this.httpObject&&this.httpObject.abort()},a.prototype.cancelUpload=function(){null!=this.httpObject&&this.httpObject.abort()},a.prototype.download=function(e,t,a,n,i){},a.prototype.getResponseHeader=function(e){return null!=this.httpObject?this.httpObject.getResponseHeader(e):null},a.prototype.jsonpHandler=function(t,a,n){try{var i=t.jsonp||"jsonp_callback_"+Math.round(1e5*Math.random());window[i]=function(t){delete window[i];var n={};e.isEmptyObject(t)?(n.isSuccess=!1,n.response={}):(n.isSuccess=!0,n.response=t),a(n)};var r="";if("get"==t.method.toLowerCase()||"delete"==t.method.toLowerCase()){var o="";if(null!=t.parameters){for(var s in o="?",t.parameters)o=o+"&"+s+"="+t.parameters[s];o=o.substring(0,1)+o.substring(2)}r=t.url+(-1!==(t.url+o).indexOf("?")?"&":"?")+"callback="+i}else r=t.url+(-1!==t.url.indexOf("?")?"&":"?")+"callback="+i;var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(l)}catch(t){http.errorInfo="error",e.alopex.util.isValid(t.message)&&(http.errorMessage=t.message),e.alopex.util.isValid(t.name)&&(http.errorName=t.name),e.alopex.util.isValid(t.stack)&&(http.errorStack=t.stack),n(http,this)}return!1},a.prototype.request=function(t,a,i){if("jsonp"==t.dataType)return this.jsonpHandler(t,a,i);if(n(t)&&n(a)||n(i)){t.index=this.index;var r={};e.alopex.util.isValid(t.paramType)&&(r.paramType=t.paramType);var o="";if(null!=t.parameters){for(var s in o="?",t.parameters)o=o+"&"+s+"="+t.parameters[s];o=o.substring(0,1)+o.substring(2)}for(var l in this.httpObject=new XMLHttpRequest,this.httpObject.ontimeout=function(){this.isTimeout=!0},this.httpObject.onreadystatechange=function(){if(4==this.readyState){r.status=this.status,r.statusText=this.statusText;var n=this.getAllResponseHeaders();if(n){r.responseHeader={};for(var o=n.split("\r\n"),s=0,l=o.length;s<l;s++){var d=o[s],c=d.indexOf(": ");c>0&&(r.responseHeader[d.substring(0,c)]=d.substring(c+2))}}if(200==this.status){r.successCallback=a,r.errorCallback=i;try{"json"==t.dataType?r.response=JSON.parse(this.responseText):r.response=this.responseText}catch(t){r.errorInfo="JSON.parse() error : responseText = "+this.responseText,e.alopex.util.isValid(t.message)&&(r.errorMessage=t.message),e.alopex.util.isValid(t.name)&&(r.errorName=t.name),e.alopex.util.isValid(t.stack)&&(r.errorStack=t.stack),i(r,this)}finally{e.alopex.util.isValid(r.errorInfo)||a(r,this),delete this.responseText,delete r.response;try{this.responseText=null}catch(e){}r.response=null,r=null}}else this.onloadend=function(){r.error=this.status,r.errorMessage=this.statusText,!0===this.isTimeout&&""===r.errorMessage&&(r.errorMessage="timeout"),r.XMLHttpRequest=this,r.response=this.response,r.responseText=this.responseText,r.responseURL=this.responseURL,r.responseType=this.responseType,i(r,this),delete this.responseText,delete r.response;try{this.responseText=null}catch(e){}r.response=null,r=null}}},"get"==t.method.toLowerCase()||"delete"==t.method.toLowerCase()?this.httpObject.open(t.method,t.url+o,t.async):this.httpObject.open(t.method,t.url,t.async),this.httpRequestHeaders["Content-Type"]||(t.onBody?e.alopex.util.isValid(r.paramType)&&"queryString"===r.paramType?this.httpObject.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"):this.httpObject.setRequestHeader("Content-Type","application/json; charset=UTF-8"):this.httpObject.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),this.httpRequestHeaders)this.httpObject.setRequestHeader(l,this.httpRequestHeaders[l]);t.async&&this.timeout&&(this.httpObject.timeout=this.timeout);try{"post"==t.method.toLowerCase()||"put"==t.method.toLowerCase()?t.onBody?(e.alopex.util.isValid(r.paramType)&&"queryString"===r.paramType&&("string"==typeof t.content&&(t.content=JSON.parse(t.content)),t.content=e.param(t.content),e.alopex.util.isValid(t.gridData)&&(t.content+="&"+encodeURIComponent("gridData"),t.content+="=",t.content+=encodeURIComponent(JSON.stringify(t.gridData)))),this.httpObject.send(t.content)):this.httpObject.send(o):this.httpObject.send()}catch(e){var d={};return d.error=e.code,d.errorMessage=e.message,void i(d,this.httpObject)}finally{delete this.httpObject,this.httpObject=null}this.httpRequestHeaders={}}},a.prototype.setRequestHeader=function(e,t){n(e)&&n(t)&&(this.httpRequestHeaders[e]=t)},a.prototype.setTimeout=function(e){this.timeout=e},a.prototype.upload=function(e,t,a,n,i){},window._legacyHttp=a}(jQuery),function(e){e.extend(e.alopex,{alopex_blockTargetParent:null,block:function(t,a){var n,i,r=0;e.alopex.util.isValid(t.document)?(e.alopex.alopex_blockTargetParent=t.document,n=e(t.document).find("html"),i=e(t.document).find("body"),r=-1!=window.navigator.userAgent.indexOf("Chrome")?i[0].scrollTop:t.document.documentElement.scrollTop):(n=e("html"),i=e("body"));var o=e("<div></div>").attr("data-alopexmodal","true").appendTo(i);a&&o.attr("data-blockname",a),o.css({position:"absolute",top:r,left:"0",width:"100%",height:"100%","z-index":"9999",opacity:"0.7","background-color":"#111"}),e.alopex.__htmlHeight=n[0].style.height,e.alopex.__htmlWidth=n[0].style.width,e.alopex.__bodyHeight=i[0].style.height,e.alopex.__bodyWidth=i[0].style.width,n.css({height:"100%",width:"100%"}),i.css({height:"100%",width:"100%",overflow:"hidden"}),o.on("mousedown.alopexbloack mouseup.alopexblock scroll.alopexblock",function(e){return e.preventDefault(),e.stopPropagation(),!1})},unblock:function(t){var a,n,i=t?"div[data-blockname="+t+"]":"div[data-alopexmodal]";e.alopex.util.isValid(e.alopex.alopex_blockTargetParent)?(a=e(e.alopex.alopex_blockTargetParent).find("html"),n=e(e.alopex.alopex_blockTargetParent).find("body")):(a=e("html"),n=e("body")),a[0].style.height=e.alopex.__htmlHeight?e.alopex.__htmlHeight:"",a[0].style.width=e.alopex.__htmlWidth?e.alopex.__htmlWidth:"",n[0].style.height=e.alopex.__bodyHeight?e.alopex.__bodyHeight:"",n[0].style.width=e.alopex.__bodyWidth?e.alopex.__bodyWidth:"",n.css({overflow:""}),e(e.alopex.alopex_blockTargetParent).find(i).remove()}})}(jQuery),function(t){var a=/([^&=]+)=?([^&]*)/g,n=function(e){return decodeURIComponent(e.replace(/\+/g," "))};function i(i){for(var r={};e=a.exec(i);){var o=n(e[1]),s=n(e[2]);void 0!==r[o]?(t.isArray(r[o])||(r[o]=[r[o]]),r[o].push(s)):r[o]=s}return r}t.extend(t.alopex,{_navigationCofig:{url:function(e,t){return e},querystring:!1}}),t.extend(t.alopex,{parameters:function(){var e;if(window.alopexController){if("mobile"===window.browser&&(t.alopex._navigationCofig.querystring=!0),t.alopex._navigationCofig.querystring)return void t(document).on("alopexready",function(){t.alopex.parameters=navigation.parameters})}else if(t.alopex._navigationCofig.querystring)return"?"==(e=String(window.location.search)).substr(0,1)&&(e=e.substr(1)),i(e);var a={};try{if("true"===$a.session("from_navigate"))$a.session("alopex_parameters"+window.location.href,$a.session("alopex_parameters"));else if(""!==window.location.search&&"undefined"===$a.session("alopex_parameters"+window.location.href)){"?"==(e=String(window.location.search)).substr(0,1)&&(e=e.substr(1));var n=i(e);$a.session("alopex_parameters"+window.location.href,JSON.stringify(n))}$a.session("alopex_parameters",""),$a.session("from_navigate",!1),a=JSON.parse($a.session("alopex_parameters"+window.location.href))}catch(e){}return a}(),results:function(){var e;if(!window.alopexController){try{e=JSON.parse($a.session("alopex_results")),$a.session("alopex_results",""),$a.session("from_back",!1)}catch(e){}return e}t(document).on("alopexready",function(){t.alopex.results=navigation.results})}(),pageId:function(){if(!window.alopexController)return window.location.pathname;t(document).on("alopexready",function(){t.alopex.pageId=navigation.pageId})}(),page:function(){var e={},a=t.makeArray(arguments),n=[];return t.each(a,function(a,i){t.isFunction(i)?(t.extend(e,i.call(e,$a.pageId,t.extend(!0,{},$a.parameters,$a.results,$a.popupdata,$a.dialogdata))),"function"==typeof e.init&&n.push(e.init)):t.isPlainObject(i)&&(t.alopex.page=t.extend(t.alopex.page,i),i.init&&n.push(i.init))}),t.each(n,function(a,n){function i(){n.call(e,$a.pageId,t.extend(!0,{},$a.parameters,$a.results,$a.popupdata,$a.dialogdata)),$a.dialogdata=null}isAlopexReady?t.alopex.loading?(t.alopex.loading=!1,t(document).one("alopexuiready",function(){t(i)})):t(i):window._useAlopexController?t(document).one("alopexready",function(){t(i)}):t(document).ready(function(){t(i)})}),e},navigate:function(e,a,n){if("string"==typeof e){var i=t.alopex._navigationCofig.url(e,a),r={pageId:i};if(window.alopexController)"mobile"===window.browser&&(t.alopex._navigationCofig.querystring=!0),t.alopex._navigationCofig.querystring?r.parameters=a:(t.alopex.session("alopex_parameters",JSON.stringify(a)),t.alopex.session("from_navigate",!0)),navigation.backToOrNavigate(r);else if(t.alopex._navigationCofig.querystring?-1==i.indexOf("?")?i+="?"+t.param(a):i+="&"+t.param(a):(t.alopex.session("alopex_parameters",JSON.stringify(a)),t.alopex.session("from_navigate",!0)),"_blank"===n)window.open("about:blank").location.href=i;else window.location.href=i}},back:function(e){window.alopexController?navigation.back(e):(t.alopex.session("from_back",!0),t.alopex.session("alopex_results",JSON.stringify(e)),history.back())},backTo:function(e,t){navigation.backTo({pageId:_url,parameters:t})},backToOrNavigate:function(e,t){navigation.backToOrNavigate({pageId:_url,parameters:t})},exit:function(){navigation.exit()},goHome:function(){navigation.goHome()}}),t.extend(t.alopex.navigate,{setup:function(e){t.extend(t.alopex._navigationCofig,e)}})}(jQuery),function(e){var t=window.name,a=null,n=null;function i(t){var a=t.data;e(t.target);e("#"+a.setting.id).attr("tabindex","1")}function r(t){var a=e.alopex.widget.dialog,n=!0;e.each(a.dialoglist,function(e,t){a.dialoglist[e].modal&&(n=!1)}),n&&function(t){var a=t.data,n=(e(t.target),e("#"+a.setting.id)),i=n[0],r=e.alopex.widget.dialog,o=r.dialoglist.length;if(o<=1)return n.css("z-index",r.maxZindex),void(i.modal&&e(i.blocker).css("z-index",r.maxZindex-1));e.each(r.dialoglist,function(t,a){if(r.dialoglist[t]===i){var s=r.dialoglist.splice(t,1);r.maxZindex=1e3+o,n.css("z-index",r.maxZindex),i.modal&&e(i.blocker).css("z-index",r.maxZindex-1),r.dialoglist=s.concat(r.dialoglist);for(var l=r.maxZindex,d=1;d<o;d++)l--,e(r.dialoglist[d]).css("z-index",l),r.dialoglist[d].modal&&e(r.dialoglist[d].blocker).css("z-index",l-1)}})}(t)}function o(t){var a=t.data,n=e(t.target),i=e("#"+a.setting.id);switch(null!==t.keyCode?t.keyCode:t.which){case 27:i.close();break;case 9:var r="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";!0!==t.shiftKey&&n[0]===e(this).find(r).last()[0]&&(i.find(r).first().focus(),t.preventDefault())}}try{isAlopexWindowPopup()?(e(window).on("beforeunload",function(){if(isAlopexWindowPopup()){var a=null;null!==e.alopex.popup.result?a=e.alopex.popup.result:null!==window.opener.$.alopex.popup.result&&(a=window.opener.$.alopex.popup.result),window.opener.$a.beforeunloadHandlerInParent(t,a)}}),window.opener.$.alopex&&window.opener.$.alopex.popup.config&&window.opener.$.alopex.popup.config[t]&&(a=window.opener.$.alopex.popup.config[t],e.alopex.util.isValid(a)&&e.alopex.util.isValid(a.data)&&a.id===t&&(n=JSON.parse(a.data)))):checkAlopexWindowParent()&&e(window.parent.document).find('[data-type="dialog"]').each(function(i,r){a=e(r).prop("alopexPopupSetting"),e.alopex.util.isValid(a)&&e.alopex.util.isValid(a.data)&&r.id===t&&(n=JSON.parse(a.data))})}catch(e){}e.extend(e.alopex,{popupdata:n,popup:function(t,a){if(!e.alopex.util.isValid(t.popid)||-1===e.inArray("Alopex_Popup_"+t.popid,e.alopex.popup.names)){var n={id:function(t){e.alopex.popup.names.length;var a="Alopex_Popup_"+(e.alopex.util.isValid(t)?t:parseInt(1e4*Math.random()));return e.alopex.popup.names.push(a),a}(t.popid),title:t.title||t.url};e.extend(n,e.alopex.popup.defaultOptions,t),0===n.width&&(n.width=parseInt(.9*window.innerWidth)),0===n.height&&(n.height=parseInt(.9*window.innerHeight));var s=e.alopex.popup.defaultOptions.url?e.alopex.popup.defaultOptions.url:e.alopex._navigationCofig.url;return n.url=s(n.url,n.data),n.data&&(n.data=JSON.stringify(n.data)),e.alopex.popup.config[n.id]=n,n.windowpopup?function(t,a){var n="";if(t.width&&(n+="width="+t.width+","),t.height&&(n+="height="+t.height+","),!0===t.center){var i=Math.max((window.screen.height-parseInt(t.height))/2-50,0)-e("body")[0].scrollTop;n+="top="+i+",",n+="left="+(window.screen.width-parseInt(t.width))/2+","}else n+="top=0,",n+="left=0,";if(!0===t.scroll&&(n+="scrollbars=yes,"),t.other&&(n+=t.other),!0===t.modal&&checkAlopexWindowParent()&&$a.block(window.parent,t.id),e.alopex.util.isValid(a)||(a=window),!(window.navigator.userAgent.indexOf("Trident")>=0))return l=a.open(t.url,t.id,n),e.alopex.popup.children.push(l),l;var r,o="N/A",s=navigator.userAgent.toLowerCase();if("Microsoft Internet Explorer"==navigator.appName?r="msie ":s.search("trident")>-1?r="trident/.*rv:":s.search("edge/")>-1&&(r="edge/"),null!=new RegExp(r+"([0-9]{1,})(\\.{0,}[0-9]{0,1})").exec(s)&&(o=RegExp.$1+RegExp.$2),"9.0"!=o){var l=a.open(t.url,t.id,n);return e.alopex.popup.children.push(l),l}setTimeout(function(){var i=a.open(t.url,t.id,n);return e.alopex.popup.children.push(i),i},0)}(n,a):function(t,a){var n=document.getElementById(t.id),s=e(n);if(0==s.length){var l='<div id="'+t.id+'" data-type="dialog"';t.modalclose&&(l+='data-modalclose="true" '),t.toggle&&(l+='data-toggle="true" '),l+=">",t.iframe?l+='<iframe name="'+t.id+'" data-type="panel" data-fill="vertical" style="width:100%;overflow:auto;border:0"></iframe>':t.scroll&&(l+="<div></div>"),l+="</div>",s=a?e(l).appendTo(a).dialog():e(l).appendTo("body").dialog(),n=document.getElementById(t.id)}if(!0===t.center){t.top=(e(window).height()-t.height)/2,t.left=(e(window).width()-t.width)/2;var d=e.alopex.widget.dialog;null!=d&&null!=d.dialoglist&&d.dialoglist.length>0&&(t.top=t.top+10*d.dialoglist.length,t.left=t.left+10*d.dialoglist.length)}else!1===e.alopex.util.isValid(t.left)&&(t.left=0),!1===e.alopex.util.isValid(t.top)&&(t.top=0);return s.one("close",function(a){var n=a.currentTarget,i=e(n),r=e.inArray(n.id,e.alopex.popup.names);if(n&&-1!==r){var o=null;t.callback&&(!e.alopex.popup.result&&i&&i.prop("callbackData")?(o=i.prop("callbackData"),i.prop("callbackData",null)):(o=e.alopex.popup.result,e.alopex.popup.result=null)),e.alopex.popup.names.splice(r,1),n.blocker&&e(n.blocker).remove(),i.remove();var s=e(document.body).find("div").filter(".Dialog-mask:visible");if(0===s.length){var l=document.body,d=Math.abs(parseInt(l.style.top));e(l).css({top:"",position:this.bodyposition?this.bodyposition:"",width:this.bodywidth?this.bodywidth:""}),"ie"===window.browser||e.alopex.util.isValid(window.browser)&&-1!==window.browser.indexOf("Microsoft Internet Explorer")?e(document.documentElement).scrollTop(n.scrollTopValue):e(l).scrollTop(d)}s=null,t.callback&&t.callback(e.extend(!0,{},{tempKey:o}).tempKey)}}),s.prop("alopexPopupSetting",t),t.iframe?(t.preLoading||s.open(t),setTimeout(function(){s.find("iframe").attr("src",t.url),t.preLoading&&s.open(t);var a=s.find("iframe");a.refresh(),isAlopexIframeChild(a[0].contentWindow)&&(a[0].contentWindow.alopexready=!0),a[0].onload=function(a){"mobile"!=window.browser&&(e(this).contents().on("pressed focusin",{setting:t},r),e(this).contents().on("keydown",{setting:t},o),e(this).contents().on("click",{setting:t},i)),null!=t.focus&&-1!==t.focus.indexOf("#")&&e(this).contents().find(t.focus).focus()}},0)):(t.data?$a.dialogdata=JSON.parse(t.data):$a.dialogdata=null,e.alopex.loading=!0,(t.scroll?s.find("div"):s).load(t.url,function(){s.open(t),e.alopex.convert(n),e(document).trigger("alopexuiready")})),n}(n,a)}},close:function(t){var a;if(isAlopexWindowPopup()&&0!=window.opener.$.alopex.popup.children.length&&0===e.alopex.popup.names.length)e.alopex.popup.result=t,window.opener!==window&&(window.opener.$.alopex.popup.result=t),window.name="",window.close(),window.navigator.userAgent.indexOf("Trident")>=0?setTimeout(function(){e.alopex.popup.result=null,window.opener!==window&&(window.opener.$.alopex.popup.result=null)},300):(e.alopex.popup.result=null,window.opener!==window&&(window.opener.$.alopex.popup.result=null));else if(checkAlopexWindowParent()){window!==window.parent?(e=window.parent.$,window.parent.$.alopex.popup.result=t):e.alopex.popup.result=t;var n=null;if(e.each(e(window.parent.document).find('[id*="Alopex_Popup_"]'),function(t,a){a=e(a),null==n?n=a:a.css("z-index")>n.css("z-index")&&(n=a)}),n){if(n.prop("callbackData",t),a=n.prop("alopexPopupSetting"),e.alopex.util.isValid(a)){if(a.beforeCloseHandler&&"function"==typeof a.beforeCloseHandler&&a.beforeCloseHandler(n[0]),e.alopex.util.isValid(window.parent.$.alopex.widget.dialog.dialoglist))for(var i=window.parent.$.alopex.widget.dialog.dialoglist,r=0;r<window.parent.$.alopex.widget.dialog.dialoglist.length;r++)i[r]==n[0]&&i.splice(r,1);setTimeout(function(){n.close()},0)}}else window.close()}},beforeunloadHandlerInParent:function(t,a){var n=t,i=null;try{null!==a&&(i=JSON.stringify(a))}catch(e){i=null}setTimeout(function(){for(var t=e.alopex.popup.children,a=!0,r=0;r<t.length;r++)try{t[r].name===n&&(a=!1)}catch(e){}if(a){var o=e.alopex.popup.config[n];if(o&&(o.modal&&$a.unblock(n),o.callback))try{o.callback.call(window,JSON.parse(i))}catch(e){}var s=e.inArray(n,e.alopex.popup.names);-1!==s&&e.alopex.popup.names.splice(s,1)}},300)}}),e.extend(e.alopex.popup,{setup:function(t){e.extend(e.alopex.popup.defaultOptions,t)},names:[],children:[],config:{},result:null,defaultOptions:{width:parseInt(.9*window.innerWidth),height:parseInt(.9*window.innerHeight),type:"blank",center:!0,scroll:!0,modal:!0,modalclose:!1,iframe:!0,windowpopup:!1,toggle:!1,preLoading:!0,beforeCloseHandler:null,focus:"close"}})}(jQuery),function(e){function t(t){var a=t.jquery?t:e(t);return a.attr("data-bind")?e.trim(a.attr("data-bind").replace("grid","").replace(":","")):a.attr("id")}var a=0;function n(e){0===--a&&e&&e()}var i={async:!0,method:"POST",platform:"default",data:{},dataType:"json",requestHeaders:{},responseHeaders:{},showProgress:function(){window.platformUIComponent&&platformUIComponent.showProgressDialog({cancelable:!1,color:"grey"})},dismissProgress:function(){window.platformUIComponent&&platformUIComponent.dismissProgressDialog()}};e.alopex.request=function(t,r){r||(r={});var o=e.extend(!0,{id:t},i,r);o.data=o.interface,e.alopex.util.isValid(o.platform)&&(o.data=e.extend(!0,o.data,o[o.platform].interface));var s,l=new("function"!=typeof Http&&"function"==typeof _legacyHttp?_legacyHttp:Http);if(r.data){var d,c,p=e.makeArray(r.data);e.alopex.util.isValid(o.platform)?(d=o[o.platform].object,c=o[o.platform].grid):(d=o.object,c=o.grid);for(var u=0;u<p.length;u++)if("function"==typeof p[u])e.extend(!0,o.data,p[u].call(o,r));else if("object"==typeof p[u])e.extend(!0,o.data,r.data);else{var h=e(p[u]);if(h.length<=0)continue;var f=h[0];if(h.attr("data-alopexgrid")){var g=e.alopex.request.getGridData(f);if(g.key&&g.list)(m=c(g,o.data)).setList(g.list),e.alopex.util.isValid(g.paging)&&(m.setCurrentPage(g.paging.currentPage),m.setperPage(g.list.currentLength),m.setcurrentLength(g.paging.perPage),m.settotalLength(g.paging.totalLength))}else{var m=d(f,o.data);e.extend(!0,m,e(f).getData())}}}"function"==typeof i.before&&i.before.call(o,t,r),i.before!==o.before&&"function"==typeof o.before&&o.before.call(o,t,r),o.platform&&o[o.platform]&&"function"==typeof o[o.platform].before&&o[o.platform].before.call(o,t,r),o.showProgress&&(s=o.showProgress,0===a&&s(),a++),r.array&&(o.data=r.array),e.isPlainObject(o.requestHeaders)&&e.each(o.requestHeaders,function(e,t){l.setRequestHeader(e,t)});var v,x,b={};e.alopex.util.isValid(o.paramType)&&(b.paramType=o.paramType),e.alopex.util.isValid(o.paramType)&&(b.gridData=o.gridData),b.url=e.isFunction(o.url)?o.url.call(o,t,r):o.url,b.method=e.isFunction(o.method)?o.method.call(o,t,r):o.method,b.onBody="POST"===String(o.method).toUpperCase()||"PUT"===String(o.method).toUpperCase(),b.async=o.async,b.dataType=e.isEmptyObject(o.dataType)?"json":o.dataType,b.jsonp=o.jsonp,b.content="object"==typeof o.data?JSON.stringify(o.data):String(o.data),"GET"!==String(o.method).toUpperCase()&&"DELETE"!==String(o.method).toUpperCase()||!e.isPlainObject(o.data)||e.isEmptyObject(o.data)||(b.url+="?"+e.param(o.data)),b.async&&l.setTimeout(o.timeout||3e4),window.deviceJSNI&&l.setRequestHeader("Content-Type","application/json; charset=UTF-8"),l.request(b,(x=o,function(t){if(x.response=t.response,x.responseHeaders=t.responseHeader,x.http=t,x.platform&&x[x.platform]&&"function"==typeof x[x.platform].after&&x[x.platform].after.call(x,x.response),!x.isError){if(!1!==x.isSuccess&&"function"==typeof i.after&&i.after.call(x,x.response),!1!==x.isSuccess&&i.after!==x.after&&"function"==typeof x.after&&x.after.call(x,x.response),x.showProgress&&n(x.dismissProgress),!1===x.isSuccess)x.platform&&x[x.platform]&&"function"==typeof x[x.platform].fail&&x[x.platform].fail.call(x,x.response),"function"==typeof i.fail&&i.fail.call(x,x.response),i.fail!==x.fail&&"function"==typeof x.fail&&x.fail.call(x,x.response);else{function a(t,a){var n,i,r=e.makeArray(a);e.alopex.util.isValid(o.platform)?(n=t[t.platform].object,i=t[t.platform].grid):(n=t.object,i=t.grid);for(var s=0;s<r.length;s++)if("function"==typeof r[s])r[s].call(t,t.response);else{var l=e(r[s]);if(l.length<=0)continue;var d=l[0];if(l.attr("data-alopexgrid")){var c=i(d,t.response);e(d).alopexGrid("dataSet",c.list,c.list&&c.list.length>0&&e.alopex.util.isValid(c.currentPage)&&c.currentPage>0?{current:c.currentPage,perPage:c.perPage,dataLength:c.totalLength}:void 0)}else c=n(d,t.response),l.setData(c)}}x.platform&&x[x.platform]&&x[x.platform].success&&a(x,x[x.platform].success),i.success&&a(x,i.success),i.success!==x.success&&x.success&&a(x,x.success)}delete x.response,delete t.response,x=null,t=null}}),(v=o,function(e){v.responseHeaders=e.responseHeader,v.data=e.status,v.status=e.status,v.statusText=e.statusText,v.showProgress&&n(v.dismissProgress),v.platform&&v[v.platform]&&"function"==typeof v[v.platform].error&&v[v.platform].error.call(v,e),"function"==typeof i.error&&i.error.call(v,e),i.error!==v.error&&"function"==typeof v.error&&v.error.call(v,e),delete v.response,delete e.response,v=null,e=null}))},e.extend(e.alopex.request,{setup:function(){"string"==typeof arguments[0]?i[arguments[0]]?e.extend(!0,i[arguments[0]],arguments[1]):i[arguments[0]]=arguments[1]:e.extend(!0,i,arguments[0])},setupConfig:i,register:e.alopex.services?e.alopex.services:void 0,sendRegistered:e.alopex.services?e.alopex.services.send:void 0,prototype:{},getGridData:function(a){var n=t(a),i=a.jquery?a:e(a),r=AlopexGrid.trimData(i.alopexGrid("dataGet",{_state:{deleted:!0}},{_state:{edited:!0}},{_state:{added:!0}})),o=i.alopexGrid("pageInfo");return{key:n,list:r,paging:{currentPage:o.current,currentLength:r.length,perPage:o.perPage,totalLength:o.dataLength}}},setGridData:function(e,t){}}),e.alopex.request.setup("default",{interface:{},grid:function(a,n){var i;return i=e.alopex.util.isValid(a.key)?a.key:t(a),e.alopex.util.isValid(n[i])||(n[i]={}),{list:n[i].list,currentPage:n[i].currentPage,perPage:n[i].perPage,currentLength:n[i].currentLength,totalLength:n[i].totalLength,setList:function(e){n[i].list=e},setCurrentPage:function(e){n[i].currentPage=e},setperPage:function(e){n[i].perPage=e},setcurrentLength:function(e){n[i].currentLength=e},settotalLength:function(e){n[i].totalLength=e}}},object:function(e,t){return t},before:function(e,t){!1!==t.useServiceId&&(this.data.serviceId=e)},after:function(e){}}),e.alopex.request.setup("NEXCORE.J2EE",{interface:{dataSet:{message:{},fields:{},recordSets:{}},transaction:{},attributes:{}},object:function(e,t){return t.dataSet.fields},grid:function(t,a){var n;if(e.alopex.util.isValid(t.key))n=t.key;else{var i=e(t).attr("data-bind")?e.trim(e(t).attr("data-bind").replace(/\s*grid\s*:/gi,"")):void 0;n=i||t.id}return e.alopex.util.isValid(a.dataSet.recordSets[n])||(a.dataSet.recordSets[n]={}),{list:a.dataSet.recordSets[n].nc_list,currentPage:a.dataSet.recordSets[n].nc_pageNo,perPage:a.dataSet.recordSets[n].nc_recordCountPerPage,currentLength:a.dataSet.recordSets[n].nc_recordCount,totalLength:a.dataSet.recordSets[n].nc_totalRecordCount,setList:function(e){a.dataSet.recordSets[n].nc_list=e},setCurrentPage:function(e){a.dataSet.recordSets[n].nc_pageNo=e},setperPage:function(e){a.dataSet.recordSets[n].nc_recordCountPerPage=e},setcurrentLength:function(e){a.dataSet.recordSets[n].nc_recordCount=e},settotalLength:function(e){a.dataSet.recordSets[n].nc_totalRecordCount=e}}},before:function(e,t){this.requestHeaders["Content-Type"]="application/json; charset=UTF-8",this.data.transaction.id=e},after:function(e){}}),e.alopex.request.setup("NEXCORE.J2EE.V7",{interface:{context:{txId:{}},body:{}},object:function(e,t){return t.body},grid:function(t,a){var n;if(e.alopex.util.isValid(t.key))n=t.key;else{var i=e(t).attr("data-bind")?e.trim(e(t).attr("data-bind").replace(/\s*grid\s*:/gi,"")):void 0;n=i||t.id}return e.alopex.util.isValid(a.body[n])||(a.body[n]={},a.body[n].type="recordSet"),{list:a.body[n].record,currentPage:a.body[n].nc_pageNo,perPage:a.body[n].nc_recordCountPerPage,currentLength:a.body[n].nc_recordCount,totalLength:a.body[n].nc_totalRecordCount,setList:function(e){a.body[n].records=e},setCurrentPage:function(e){a.body[n].nc_pageNo=e},setperPage:function(e){a.body[n].nc_recordCountPerPage=e},setcurrentLength:function(e){a.body[n].nc_recordCount=e},settotalLength:function(e){a.body[n].nc_totalRecordCount=e}}},before:function(e,t){this.requestHeaders["Content-Type"]="application/json; charset=UTF-8",this.data.context.txId=e},after:function(e){}}),e.alopex.request.setup("NEXCORE.NET",{interface:{request:{ServiceType:{},ServiceName:{},ServiceData:{DataSet:{DataSetName:{},Tables:[]},Hashtable:{}}}},object:function(e,t){return t.request.ServiceData.Hashtable},grid:function(a,n){var i;i=e.alopex.util.isValid(a.key)?a.key:t(a);var r=n.request.ServiceData.DataSet.Tables,o=null;return e.each(r,function(e,t){t.TableName===i&&(o=t)}),null===o&&(o={TableName:i},r.push(o)),{list:o.Rows,currentPage:o.PageSize,perPage:o.RowspPage,currentLength:o.RowsLength,totalLength:o.TotalRowsLength,setList:function(e){o.Rows=e},setCurrentPage:function(e){o.PageSize=e},setperPage:function(e){o.RowspPage=e},setcurrentLength:function(e){o.RowsLength=e},settotalLength:function(e){o.TotalRowsLength=e}}},before:function(e,t){this.requestHeaders["Content-Type"]="application/json; charset=UTF-8",this.data.request=JSON.stringify(this.data.request)},after:function(t){try{this.response=JSON.parse(t.d)}catch(a){this.http.errorInfo="JSON.parse() error : responseText = "+t.d,e.alopex.util.isValid(a.message)&&(this.http.errorMessage=a.message),e.alopex.util.isValid(a.name)&&(this.http.errorName=a.name),e.alopex.util.isValid(a.stack)&&(this.http.errorStack=a.stack),this.isError=!0,this.http.errorCallback(this.http),delete this.http}}})}(jQuery),function(e){function t(t,a){e.each(a,function(n,i){!e.isFunction(i)&&a.hasOwnProperty(n)&&(t[n]=e.isPlainObject(i)?e.extend(!0,{},i):i)})}var a=/^(?:before|after|success|fail|error)/i,n=100*Math.random()|0;function i(){e.each(e.alopex.service,function(t,a){e.alopex.service.hasOwnProperty(t)&&e.isFunction(a)&&(e.alopex.service[t]=e.alopex.service.prototype[t]=a)})}function r(e){return!0===e||"pre"===e||"meta"===e||"post"===e}function o(t,a,n){if(e.isArray(a)){var i=[],o=[],s=[],l=!0;return e.each(a,function(t,a){e.isArray(a)&&r(a[0])&&e.isFunction(a[1])&&(!0===a[0]||"meta"===a[0]?i.push(a[1]):"pre"===a[0]?o.push(a[1]):"post"===a[0]&&s.push(a[1]))}),l&&e.each(o,function(a,i){if(!1===i.apply(t,e.isFunction(n)?n(t):n))return l=!1,!1}),l&&e.each(a,function(a,r){if(e.isFunction(r)){if(!1===r.apply(t,e.isFunction(n)?n(t):n))return l=!1,!1}else if(e.isArray(r)&&!0!==r[0])for(var o=0,s=i.length;o<s;o++)if(!1===i[o].apply(t,r))return l=!1,!1}),l&&e.each(s,function(a,i){if(!1===i.apply(t,e.isFunction(n)?n(t):n))return procees=!1,!1}),l}}function s(t,a,n){if(e.isFunction(a))t.push(a);else if(e.isArray(a))if(r(a[0])&&e.isFunction(a[1]))t.push(a);else if("string"==typeof a[0])t.push(a);else for(var i=0,o=a.length;i<o;i++)s(t,a[i]);else e.isPlainObject(a)&&t.push(a)}e.alopex.service=function(a){var r=this;return r instanceof e.alopex.service&&!r.alopexservice?(r.alopexservice="alopexservice"+n++,r.settings={success:[],fail:[],error:[]},r.request={},r.response={},r.request.chain=[],r.response.chain=[],a&&a.alopexservice&&t(r.settings,a.settings),a&&a.request&&e.isArray(a.request.chain)&&(r.request.chain=r.request.chain.concat(a.request.chain)),a&&a.response&&e.isArray(a.response.chain)&&(r.response.chain=r.response.chain.concat(a.response.chain))):(r=new e.alopex.service,arguments[0]!==e.alopex&&arguments.length&&r.service.apply(r,arguments)),i(),r},e.extend(e.alopex.service,{settings:{platform:"GENERIC",url:"",method:"GET",async:!0,before:[],after:[],success:[],fail:[],error:[]},fix:function(t){return i(),t&&t.alopexservice?t:new e.alopex.service},clone:function(){return this.alopexservice?new e.alopex.service(this):new e.alopex.service},setup:function(t){var n=this;return e.isPlainObject(t)&&(n.settings=n.settings||{},e.each(t,function(t,i){void 0===i||null===i?(delete n.settings[t],a.test(t)&&(n.settings[t]=[])):a.test(t)?s(n.settings[t],i):e.isPlainObject(i)&&!0===i.platform?(e.alopex.service[t]&&e.alopex.service[t].alopexservice||(e.alopex.service[t]=new e.alopex.service),e.each(i,function(a,n){"before"!==a&&"after"!==a&&"platform"!==a&&"success"!==a&&"fail"!==a&&"error"!==a&&(e.alopex.service[t].settings[a]=n)}),e.each(["after","before","success","fail","error"],function(a,n){i[n]&&e.alopex.service[t][n](i[n])})):n.settings[t]=i})),n},before:function(t){var a=e.alopex.service.fix(this);return s(a.request.chain,e.makeArray(arguments)),a},after:function(t){var a=e.alopex.service.fix(this);return s(a.response.chain,e.makeArray(arguments)),a},success:function(t){var a=e.alopex.service.fix(this);return s(a.settings.success,e.makeArray(arguments)),a},fail:function(t){var a=e.alopex.service.fix(this);return s(a.settings.fail,e.makeArray(arguments)),a},error:function(t){var a=e.alopex.service.fix(this);return s(a.settings.error,e.makeArray(arguments)),a},service:function(a,n,i,r,s){var l=e.alopex.service.fix(this),d=e.makeArray(arguments),c={data:null,headers:{}},p={data:null,headers:{}};t(c,e.alopex.service.settings);var u=c.platform;if(t(c,l.settings),t(c,l.request),c.chain=[],c.chain=c.chain.concat(c.before||[]).concat(l.request.chain||[]).concat(e.alopex.service[c.platform].request.chain||[]),!1===o(c,c.chain,d))return!1;p.request=c,p.chain=[],p.chain=p.chain.concat(e.alopex.service[u].response.chain||[]).concat(c.after||[]).concat(l.response.chain||[]);var h=new("function"!=typeof Http&&"function"==typeof _legacyHttp?_legacyHttp:Http),f={};f.url=e.isFunction(c.url)?c.url.apply(c,d):c.url,f.method=e.isFunction(c.method)?c.method.apply(c,d):c.method,f.onBody="POST"===String(c.method).toUpperCase(),f.content=e.isPlainObject(c.data)?JSON.stringify(c.data):String(c.data),f.async=c.async,"GET"===String(c.method).toUpperCase()&&e.isPlainObject(c.data)&&!e.isEmptyObject(c.data)&&(f.url+="?"+e.param(c.data)),e.isPlainObject(c.headers)&&e.each(c.headers,function(e,t){h.setRequestHeader(e,t)}),f.async&&h.setTimeout(c.timeout||3e4);var g,m,v,x,b,w,y,_;return window.platformUIComponent&&platformUIComponent.showProgressDialog({cancelable:!1,color:"grey"}),window.deviceJSNI&&h.setRequestHeader("Content-Type","application/json; charset=UTF-8"),h.request(f,(b=l,w=p,y=i,_=r,function(t){var a=w.request.platform;w.response=t.response,w.headers=t.responseHeader,e.isArray(w.chain)&&o(w,w.chain,function(e){return[e.data,e.headers]}),window.platformUIComponent&&platformUIComponent.dismissProgressDialog(),!1===w.success?(o(w,[].concat(e.alopex.service[a].settings.fail).concat(e.alopex.service.settings.fail).concat(b.settings.fail),[w.data,w.headers]),e.isFunction(_)&&_.call(w,w.data,w.headers)):(o(w,[].concat(e.alopex.service[a].settings.success).concat(e.alopex.service.settings.success).concat(b.settings.success),[w.data,w.headers]),e.isFunction(y)&&y.call(w,w.data,w.headers))}),(g=l,m=p,v=r,x=s,function(t){var a=m.request.platform;m.originalResponse=m.responseText,m.data=t.status,m.status=t.status,m.statusText=t.statusText,o(m,[].concat(e.alopex.service[a].settings.error).concat(e.alopex.service.settings.error).concat(g.settings.error),[m.data,m.headers]),e.isFunction(x)&&x.call(m,m.data,m.headers),x||(o(m,[].concat(e.alopex.service[a].settings.fail).concat(e.alopex.service.settings.fail).concat(g.settings.fail),[m.data,m.headers]),e.isFunction(v)&&v.call(m,m.data,m.headers)),window.platformUIComponent&&platformUIComponent.dismissProgressDialog()})),l},prototype:{}})}(jQuery),function(e){e.alopex.service.setup({GENERIC:{platform:!0,before:[function(t,a,n,i,r){this.data=e.extend(!0,{},this.data,a),this.url=this.url||t},[!0,function(t){var a=this;t&&(e.isArray(t)||(t=e.makeArray(arguments)),e.each(t,function(t,n){if(e(n).length){var i=e.alopex.datamodel(n,!0).get();a.data=e.extend(!0,{},a.data,i)}}))}]],after:[function(e,t){var a=this;try{a.data=JSON.parse(a.responseText)}catch(e){try{if(window.DOMParser)var n=(new DOMParser).parseFromString(a.reponseText,"text/xml");else(n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(a.reponseText);a.data=a.responseText}catch(e){a.data=a.responseText,a.success=!1}}}],success:[[!0,function(t){var a=this;a.data&&t&&(e.isArray(t)||(t=e.makeArray(t)),e.each(t,function(t,n){e(n).length&&e.alopex.databind(a.data,n)}))}]]}})}(jQuery),jQuery.alopex.service.setup({"NEXCORE.J2EE":{platform:!0,before:[function(e,t,a,n,i){this.data.transaction={id:e},this.headers={"Content-Type":"application/json; charset=UTF-8"}}],after:[function(e,t){var a=this;e={};try{(e=JSON.parse(a.responseText))&&(a.originalResponse=e),e&&e.dataSet&&(a.data=e.dataSet)}catch(e){a.success=!1}},function(e,t){this.data&&this.data.message&&"OK"!==this.data.message.result&&(this.success=!1)}]}}),function(e){function t(t,a){if(e.isPlainObject(t)&&!e.isEmptyObject(t)&&e.isPlainObject(a)&&e.isPlainObject(a.recordSets)){var n=t.TableName,i=t.Rows;if(n&&e.isArray(i))if(a.recordSets[n]={nc_list:i},a.fields["nc_rowCount_"+n]){var r=a.recordSets[n];a.fields["nc_rowCount_"+n]>0&&(r.nc_recordCount=i.length,r.nc_pageNo=a.fields["nc_pageNum_"+n],r.nc_recordCountPerPage=a.fields["nc_rowCount_"+n],r.nc_totalRecordCount=a.fields["nc_totalRowCount_"+n])}}}function a(e,t,a){var n=t[e];a.DataSet.Tables.push({TableName:e,Rows:n.nc_list}),a.Hashtable["nc_pageNum_"+e]=n.nc_pageNo,a.Hashtable["nc_???_"+e]=n.nc_recordCount,a.Hashtable["nc_rowCount_"+e]=n.nc_recordCountPerPage,a.Hashtable["nc_totalRowCount_"+e]=n.nc_totalRecordCount}e.alopex.service.setup({"NEXCORE.NET":{platform:!0,before:[function(t,n,i,r,o){var s,l=e.extend(!0,{},this.data.dataSet),d={DataSet:{DataSetName:"DataSetName",Tables:[]},Hashtable:{}};if(this.data={},this.data.request={},-1==t.indexOf("#"))this.data.request.ServiceId=t;else{if(2!=t.split("#").length)return alert("Service 함수의 TransactionId 값이 유효하지 않습니다."),!1;this.data.request.ServiceType=String(t.split("#")[0]),this.data.request.ServiceName=String(t.split("#")[1])}for(var c in l.recordSets)l.recordSets.hasOwnProperty(c)&&a(c,l.recordSets,d);e.extend(d.Hashtable,l.fields),this.data.request.ServiceData=d,this.data.request=(s=this.data.request,encodeURIComponent(JSON.stringify(s)))}],after:[function(e,t){var a,n=this;e={};try{(e=JSON.parse(n.responseText)).InvokeServiceResult=(a=e.InvokeServiceResult,JSON.parse(decodeURIComponent(a))),n.originalResponse=e}catch(e){n.success=!1}},function(a,n){if(!1!==this.success){a={fields:{},recordSets:{}};var i=this.originalResponse.InvokeServiceResult;e.extend(!0,a.fields,i.Hashtable),i.Object&&(a.fields.Object=i.Object),i.DataTable&&!e.isEmptyObject(i.DataTable)&&t(i.DataTable,a),i.DataSet&&e.isArray(i.DataSet.Tables)&&e.each(i.DataSet.Tables,function(e,n){t(n,a)}),this.data=a}else this.data=this.originalResponse.InvokeServiceResult}]}})}(jQuery),function(e){e.alopex.service.setup({before:[function(t,a,n,i,r){this.data={},this.data.attributes={},this.data.dataSet={fields:e.extend(!0,{},a),recordSets:{}}},[!0,function(t){if(t){e.isArray(t)||(t=e.makeArray(arguments));var n=this.data.dataSet;e.each(t,function(t,r){if("string"==typeof r||r&&r.jquery&&r.prop("nodeType")){var o=e(r);if(!o.length||!o.prop("nodeType"))return;if(o.prop("id")||o.prop(id,a()),o.attr("data-alopexgrid"))n.recordSets=e.extend(!0,n.recordSets,{}),n.recordSets[o.prop("id")]=i(o);else n.fields=e.extend(!0,n.fields,{}),function(t,a){var n=t&&t.jquery?t:e(t);if(!n.length||!n.prop("nodeType"))return;e.alopex.page["#"+n.prop("id")]||(e.alopex.page["#"+n.prop("id")]=e.alopex.datamodel("#"+n.prop("id")));var i=e.alopex.page["#"+n.prop("id")].get();e.isPlainObject(a)&&e.extend(!0,a,i)}(o,n.fields)}if(e.isPlainObject(r)){if(!response.data.recordSets)return;e.each(r,function(t,a){e(a).attr("data-alopexgrid")&&(n.recordSets=e.extend(!0,n.recordSets,{}),n.recordSets[o.prop("id")]=i(o))})}})}}]],after:[],success:[[!0,function(t){if(t){e.isArray(t)||(t=e.makeArray(arguments));var i=this;e.each(t,function(t,r){if("string"==typeof r||r&&r.jquery&&r.prop("nodeType")){var o=e(r);if(!o.length||!o.prop("nodeType"))return;if(o.prop("id")||o.prop(s,a()),o.attr("data-alopexgrid")){if(!(l=i.data.recordSets))return;l.hasOwnProperty(o.prop("id"))&&n(l[o.prop("id")],o)}else{var s=o.attr("id");!function(t,a){var n=a&&a.jquery?a:e(a);if(!n.length||!n.prop("nodeType"))return;e.alopex.page["#"+n.prop("id")]?e.alopex.page["#"+n.prop("id")].set(t):(e.alopex.page["#"+n.prop("id")]=e.alopex.datamodel(n,!0),e.alopex.page["#"+n.prop("id")].set(t))}(function(t,a){var n=e.extend(!0,{},t.fields);a||(a="Table");t.recordSets&&t.recordSets[a]&&e.isArray(t.recordSets[a].nc_list)&&e.extend(!0,n,t.recordSets[a].nc_list[0]);return n}(i.data,s),o)}}if(e.isPlainObject(r)){var l;if(!(l=i.data.recordSets))return;e.each(r,function(t,a){l.hasOwnProperty(t)&&e(a).attr("data-alopexgrid")&&n(l[t],e(a))})}})}}]]});var t=1e3*Math.random()|0;function a(){return"J2EE"+t++}function n(t,a){var n,i=a.jquery?a:e(a);if((n=a)&&n.prop("nodeType")&&(t&&a&&(a=a||e("#"+tableObject.TableName)).prop("nodeType")&&a.attr("data-alopexgrid"))){var r=t,o=r.hasOwnProperty("nc_pageNo")&&r.nc_pageNo>0&&r.hasOwnProperty("nc_totalRecordCount")&&r.hasOwnProperty("nc_recordCountPerPage");i.alopexGrid("dataSet",e.isArray(r.nc_list)?r.nc_list:[],o?{current:r.nc_pageNo,total:0|Math.ceil(1*r.nc_totalRecordCount/r.nc_recordCountPerPage),perPage:r.nc_recordCountPerPage,dataLength:r.nc_totalRecordCount}:null)}}function i(t,a){for(var n=t.jquery?t:e(t),i={},r=n.alopexGrid("dataGet"),o=0,s=r.length;o<s;o++)r[o]=AlopexGrid.trimData(r[o]);var l=n.alopexGrid("pageInfo");return i.nc_recordCount=r.length,i.nc_pageNo=l.current,i.nc_recordCountPerPage=l.perPage,i.nc_totalRecordCount=l.dataLength,i.nc_list=r,e.isPlainObject(a)?(e.extend(!0,a,i),a):i}}(jQuery),function($,window,document){var commonModule="common",pageModule="page";function Response(e){if(this.responseText=e.responseText,this.response=e.responseJSON,!this.response)try{this.response=JSON.parse(this.responseText)}catch(e){}this.status=e.status,this.errorCode=e.status,this.errorText=e.statusText}function Request(id,setup,request){this.id=id,this.headers,this.method,this.timeout,this.url,this.data,this.context,this.setup,this.request,setup=setup||{},this.setup=setup,this.request=request;var setting=$.extend(!0,setting,setup,request),Func;if(setting.method=setup.method||request.method,setting.url=request.url||setup.url,"function"==typeof setting.url?Func=setting.url:-1!=setting.url.indexOf("function")&&(Func=eval("("+setting.url+")")),Func&&(setting.url=Func(id,request)),setting.data=setting.parameter,setting.variables)for(var i in setting.variables)$.alopex.util.setValueOnObject(setting.data,i,setting.variables[i]);setting.dataType="json",setting.requeestHeaders&&(setting.header=setting.requeestHeaders),setting.context=this,this.success=successCallback,this.error=errorCallback,this.method=setting.method,this.url=setting.url,this.data=setting.data,this.response=null,this.proceed=new Proceed(this)}function Proceed(e){this.id=Math.random(),this.status,this.canProceed=!1,this.request=e}function sendRequest(e){var t=$.alopex.services.list[e],a=$.alopex.request.setupConfig,n=new Request(e,a,t);for(var i in n.setting=t,t.parameter)$.alopex.util.setValueOnObject(n.data,i,t.parameter[i]);if(t.parambind)for(var i in t.parambind){var r=t.parambind[i];$.alopex.util.setValueOnObject(n.data,i,$a.getDataByService(r,"data-bind"))}if(a.before)try{if((o=window[commonModule][a.before])&&(o(n,n.proceed.next()),!n.proceed.checkProceed()))return}catch(e){}if(t.before&&t.before.length)for(i=0;i<t.before.length;i++)try{var o;if((o=window[pageModule][t.before[i]])&&(o(n,n.proceed.next()),!n.proceed.checkProceed()))return}catch(e){}var s=new("function"!=typeof Http&&"function"==typeof _legacyHttp?_legacyHttp:Http);n.onBody="POST"===String(n.method).toUpperCase(),n.content="object"==typeof n.data?JSON.stringify(n.data):String(n.data),"GET"===String(n.method).toUpperCase()&&$.isPlainObject(n.data)&&!$.isEmptyObject(n.data)&&(entity.url+="?"+$.param(n.data)),n.async&&s.setTimeout(n.timeout||3e4),window.deviceJSNI&&s.setRequestHeader("Content-Type","application/json; charset=UTF-8"),s.request(n,__successCallback(n),__errorCallback(n))}function successCallback(e,t,a){var n=this,i=n.id;n.response=new Response(a);var r=$.alopex.services.list[i],o=$.alopex.request.setupConfig;if(o.after)try{if((l=window[commonModule][o.after])&&(l(n,n.response,n.proceed.next()),!n.proceed.checkProceed()))return}catch(e){}if(r.after&&r.after.length)for(var s=0;s<r.after.length;s++)try{var l;if((l=window[pageModule][r.after[s]])&&(l(n,n.response,n.proceed.next()),!n.proceed.checkProceed()))return}catch(e){}if("fail"!=n.proceed.status)if("error"!=n.proceed.status){if(window[commonModule]&&o.success&&"function"==typeof window[commonModule][o.success]&&window[commonModule][o.success](e,n,n.response),window[pageModule]&&r.success&&"function"==typeof window[pageModule][r.success]&&window[pageModule][r.success](e,n,n.response),n.setting.databind&&n.response.response)for(var s in n.setting.databind){e=$.alopex.util.getValueOnObject(n.response.response,s);$.alopex.setDataByService(n.setting.databind[s],e,"data-bind")}if($.alopex.services.dependency[i])for(s=0;s<$.alopex.services.dependency[i].length;s++)sendRequest($.alopex.services.dependency[i][s])}else errorCallback.call(n,a,n.response.status);else failCallback.call(n)}function failCallback(){var e=this.id,t=$.alopex.services.list[e],a=$.alopex.request.setupConfig;window[commonModule]&&a&&a.fail&&"function"==typeof window[commonModule][a.fail]&&window[commonModule][a.fail](this.response.errorCode,this.response.errorText),window[pageModule]&&t&&t.fail&&t.fail&&"function"==typeof window[pageModule][t.fail]&&window[pageModule][t.fail](this.response.errorCode,this.response.errorText)}function errorCallback(e,t,a){var n=this.id,i=$.alopex.services.list[n],r=$.alopex.request.setupConfig;this.response||(this.response=new Response(e)),window[commonModule]&&r&&r.error&&"function"==typeof window[commonModule][r.error]&&window[commonModule][r.error](this.response.errorCode,this.response.errorText),window[pageModule]&&i&&i.error&&i.error&&"function"==typeof window[pageModule][i.error]&&window[pageModule][i.error](this.response.errorCode,this.response.errorText)}function __successCallback(e){return function(t,a){successCallback.call(e,t.response,t.status,a)}}function __errorCallback(e){return function(t,a){errorCallback.call(e,a,t.status)}}$.alopex.services=function(e){for(var t in $.alopex.services.list=$.extend(!0,$.alopex.services.list,e),e){if(!e.hasOwnProperty(t))return;var a=document.querySelectorAll('[data-trigger*="@'+t+'"]');if(a)for(var n=new RegExp("\\w+\\s*@\\s*"+t+"(?![\\d\\w])","gi"),i=0;i<a.length;i++){var r,o=a[i],s=o.getAttribute("data-trigger").match(n);if(s)for(var l=0;l<s.length;l++)(r=$.trim(s[l].split("@")[0]))&&("load"==r?sendRequest(t):$(o).on(r,function(e){return function(){sendRequest(e)}}(t)))}var d=e[t];if(d.trigger&&d.trigger instanceof Array)for(i=0;i<d.trigger.length;i++){var c=d.trigger[i];$.alopex.services.dependency[c]||($.alopex.services.dependency[c]=[]),$.alopex.services.dependency[c].push(t)}}},$.alopex.services.dependency={},Proceed.prototype.next=function(){return this.canProceed=!1,e=this,function(t){e.canProceed=!0,t&&(e.status=t)};var e},Proceed.prototype.checkProceed=function(){return!!this.canProceed},$.alopex.services.defaultSetting={request:{url:"",method:"POST",async:"true",timeout:"1000",parameter:{}},after:{},before:{},response:{failCondition:[],response:{}},success:{callback:void 0,bindMapping:{}},error:{callback:void 0},fail:{callback:void 0}},$.alopex.services.send=sendRequest,$.alopex.services.list={},$.alopex.registerSetup("request",function(e){$.alopex.services.defaultSetting=e}),$.alopex.request&&"function"==typeof $.alopex.request&&($.alopex.request.register=$.alopex.services,$.alopex.request.sendRegistered=sendRequest)}(jQuery,window,window.document,void 0),function(e){e.alopex.request.setup({}),e.alopex.navigate.setup({url:function(e,t){return e}})}(jQuery),function(e){var t="data-bind-format",a="data-bind";function n(){}e.fn.findAll=function(e){return this.find(e).addBack(e)},n.prototype.toObject=function(t){var a,n={},i=t;return a=i.split("@"),-1!==i.indexOf("@")&&2===a.length&&(n.firstSegment=e.trim(a[1]),i=e.trim(a[0])),(a=i.split(":")).length<2?n.thirdSegment=i:(n.secondSegment=e.trim(a[0]),a.shift(),n.thirdSegment=e.trim(a.join(":"))),n},n.prototype.parseByKey=function(e){for(var t=[],a=this.splitRules(e),n=0;n<a.length;n++){var i=a[n].match(this.regexp);if(1===i.length&&i[0]==a[n]){var r=this.toObject(a[n]);if(r&&r.thirdSegment&&-1!==r.thirdSegment.indexOf("{"))for(var o=r.thirdSegment.replace(/[\{\}]/gi,""),s=this.splitRules(o),l=0;l<s.length;l++){var d=this.toObject(s[l]);d&&t.push({serviceName:r.firstSegment,controlName:r.secondSegment,subcontrolName:d.secondSegment,key:d.thirdSegment})}else t.push({serviceName:r.firstSegment,controlName:r.secondSegment,key:r.thirdSegment})}}return t},n.prototype.parseByControl=function(t){var a,n,i,r,o={},s=this.splitRules(t);for(i=0;i<s.length;i++){for(n=(a=s[i]).match(/[^\{\,\:\s\{\}]+/gi),r=0;r<n.length;r++)a=a.replace(n[r],'"'+n[r]+'"');a="{"+a+"}";try{e.extend(o,JSON.parse(a))}catch(e){}}return o},n.prototype.regexp=/[^\s,{}]+\s*:\s*(\{(\s*[^\s,{}]+\s*:\s*[^\s,{}]+\s*,?)+}|[^\s,{}]+)(\s*\@\s*[^\s,{}]+)?/gi,n.prototype.splitRules=function(e){return e&&e.match&&e.match(this.regexp)||[]},n.prototype.isValidServiceData=function(t,a){var n=t.split("@");return n.length>1&&e.trim(n[1])===a};e.alopex.BindParser=new n;function i(t,n){var i,r,o,s,l=e(t);return n=n||a,i=l.findAll("["+n+"]").toArray(),r=n,o=[],s=e(t),e(i).each(function(t,a){var n=e(a).parents("["+r+"*=foreach], ["+r+"*=with]").eq(0);0==n.length?o.push(a):n.each(function(e,t){0==s.findAll(t).length&&o.push(a)})}),o}function r(e,t,a){var n=t.split("."),i=e;if(n.length<1)return!1;for(var r=0;r<n.length-1;r++){var o=n[r];i instanceof Array?(0==i.length&&i.push({}),i=i[0]):(i[o]||(i[o]={}),i=i[o])}typeof i[n[n.length-1]]!=typeof a&&(i[n[n.length-1]]=a)}e.alopex.setDataOnElements=function(n,i,r,o){i&&(r=r||a,e.each(n,function(a,n){for(var s,l,d=e(n).attr(r),c=e.alopex.BindParser.parseByKey(d),p=0;p<c.length;p++)if((!o||o==c[p].serviceName)&&null!=(l=e.alopex.util.getValueOnObject(i,c[p].key))&&void 0!=l&&(s=c[p].controlName,e.alopex.DataBinder[s]&&e.alopex.DataBinder[s].render)){var u=e(n).attr(t);e.alopex.util.isValid(u)&&(l=e.alopex.format(l,e(n).attr(t))),e.alopex.DataBinder[s].render(n,c[p].key,l,i,c[p])}}))},e.alopex.getDataFromElements=function(n,i){var r={};return i=i||a,e.each(n,function(a,n){var o,s,l=e(n),d=e(n).attr(i),c=e.alopex.BindParser.parseByKey(d);if("object"!=typeof n){if(0===l.length)return;n=l[0]}for(var p=0;p<c.length;p++)if((o=c[p].controlName)&&e.alopex.DataBinder[o]&&e.alopex.DataBinder[o].data){var u=e(n).attr(t);void 0!=(s=e.alopex.DataBinder[o].data(n,c[p].key,void 0,r,c[p]))&&null!=s&&(e.alopex.util.isValid(s)&&e.alopex.util.isValid(u)&&(s=e.alopex.unformat(s,e(n).attr(t))),e.alopex.util.setValueOnObject(r,c[p].key,s))}}),r},e.alopex.getCandidates=function(t,n,i){var r=[];return i||(i=document.body),n=n||a,e(i).findAll("["+n+'*="@'+t+'"]').each(function(e,t){r.push(t)}),r},e.alopex.getBindMapping=function(t,n,i){i=i||a;for(var r=t.getAttribute(i),o=e.alopex.BindParser.parseByKey(r),s=0;s<o.length;s++)o[s].serviceName!=n&&o.splice(s--,1);return o},e.alopex.getBindObject=function(t,a,n){for(var i={},o=e.alopex.getCandidates(t,a,n),s=0;s<o.length;s++)for(var l=e.alopex.getBindMapping(o[s],t),d=0;d<l.length;d++)"foreach"==l[d].controlName||"options"==l[d].controlName?r(i,l[d].key,[]):r(i,l[d].key,"");return i},e.alopex.getBindMappingList=function(t,a,n){for(var i={},r=e.alopex.getCandidates(t,a,n),o=0;o<r.length;o++)for(var s=e.alopex.getBindMapping(r[o],t),l=0;l<s.length;l++)i[s[l].key]={element:"<__ALOPEX_ELEMENT_>"+e.alopex.util.getElementSelector(r[o]),control:s[l].controlName,service:s[l].serviceName};return i},e.alopex.getDataByService=function(t,a){var n=e.alopex.getCandidates(t,a);return e.alopex.getDataFromElements(n,a)},e.alopex.setDataByService=function(t,a,n){var i=e.alopex.getCandidates(t,n);e.alopex.setDataOnElements(i,a,n,t)},e.fn.setData=function(t,n,i){var r;return i=i||a,r=this.findAll("["+i+"]").toArray(),e.alopex.setDataOnElements(r,t,i,n),this},e.fn.getData=function(t,n){return n=n||a,t&&t.selectOptions?o.options.setting.selectOption=t.selectOptions:o.options.setting.selectOption=!1,e.alopex.getDataFromElements(i(this,n),n)};var o={};o.html={data:function(t,a,n,i,r){return e(t).html()},render:function(e,t,a,n,i){e.innerHTML=a}},o.text={data:function(t,a,n,i,r){return e(t).text()},render:function(e,t,a,n,i){if("object"==typeof a)try{a=JSON.stringify(a)}catch(e){}e.innerText=a}},o.value={data:function(t,a,n,i,r){var o=e(t);n=o.val();return o.attr("data-maskedinput-rule")&&t.maskedinputOptions.everyRuleRegExpOpposite&&(n=n.replace(t.maskedinputOptions.everyRuleRegExpOpposite,"")),n},render:function(e,t,a,n,i){void 0!==a&&null!=a&&e.value!==a&&(e.getAttribute("data-maskedinput-rule")?(e.maskedinputOptions.previousValue=e.value,e.value=$a.maskedinputRegExpCheck(e,a)):e.value=a)}},o.checked={availableValueList:{y:{true:"y",false:"n"},n:{true:"y",false:"n"},yes:{true:"yes",false:"no"},no:{true:"yes",false:"no"},Y:{true:"Y",false:"N"},N:{true:"Y",false:"N"},YES:{true:"YES",false:"NO"},NO:{true:"YES",false:"NO"},0:{true:"1",false:"0"},1:{true:"1",false:"0"},true:{true:!0,false:!1},false:{true:!0,false:!1},TRUE:{true:"TRUE",false:"FALSE"},FALSE:{true:"TRUE",false:"FALSE"},True:{true:"True",false:"False"},False:{true:"True",false:"False"}},data:function(t,a,n,i,r){var s,l=e(t),d=o.checked.availableValueList,c=l.attr("data-type")||t.type,p=l.attr("value"),u=l.attr("name");if("checkbox"===c)if(u){for(var h=e('[name="'+u+'"]'),f=[],g=0;g<h.length;g++)h[g].checked&&f.push(h[g].value);s=f}else{var m,v=l.prop("data-checked-model");p?m=p:v&&v[0]&&v[0].get&&(m=v[0].get()),s=void 0!=m&&d[m]?d[m][t.checked]:t.checked}else if(u){var x=e('input[name="'+u+'"]:checked');x.length>0&&(s=e(x[0]).val())}return s},render:function(t,a,n,i,r){var s=o.checked.availableValueList,l=!1,d=e(t).attr("data-type")||t.type,c=e(t).attr("value");if("checkbox"===d)if(n instanceof Array){for(var p=0;p<n.length;p++)if(t.value===n[p]){l=!0;break}}else"boolean"==typeof n?n&&(l=!0):c?c===n&&(l=!0):s[n]&&n==s[n].true&&(l=!0);else t.value===n&&(l=!0);var u=e(t).parent();l?(t.checked=!0,t.setAttribute("checked",!0),(u.hasClass("ImageCheckbox")||u.hasClass("ImageRadio"))&&u.addClass("Checked")):(t.checked=!1,t.removeAttribute("checked"),(u.hasClass("ImageCheckbox")||u.hasClass("ImageRadio"))&&u.removeClass("Checked"))}},o.options={setting:{valueKey:void 0,textKey:void 0,selectOption:!1},data:function(t,a,n,i,r){var s=[];if(1==o.options.setting.selectOption){var l,d=o.options.setting.valueKey||"value",c=o.options.setting.textKey||"text";if(l=t.getAttribute("data-bind-option")){var p=l.split(":");d=e.trim(p[0]),c=e.trim(p[1])}return e(t).find("option").each(function(){if(!e(this).attr("data-placeholder")){var t={};t[d]=e(this).attr("value"),t[c]=e(this).text(),s.push(t)}}),s}},render:function(t,a,n,i,r){var s,l=t,d=e(t),c=null;"divselect"==d.attr("data-type")&&"div"===d[0].tagName.toLowerCase()&&(c=d.find(">select:eq(0)"));var p=o.options.setting.valueKey,u=o.options.setting.textKey;if(s=t.getAttribute("data-bind-option")){var h=s.split(":");p=e.trim(h[0]),u=e.trim(h[1])}d.val();if(c?c.empty():d.empty(),("select"==d.attr("data-type")||"divselect"==d.attr("data-type")||"mselect"==d.attr("data-type"))&&d.attr("data-placeholder")){var f=d.attr("data-placeholder");d.setPlaceholder(f)}if(void 0!=n)for(var g=0;g<n.length;g++){var m=n[g],v=document.createElement("option");if("string"==typeof m)v.setAttribute("value",m),v.innerHTML=m;else{var x="";p?x=m[p]:m.value?x=m.value:m.VALUE&&(x=m.VALUE);var b="";u?b=m[u]:m.text?b=m.text:m.TEXT&&(b=m.TEXT),v.setAttribute("value",x),v.innerHTML=b,m.title?v.setAttribute("title",m.title):m.TITLE&&v.setAttribute("title",m.TITLE)}c?c[0].appendChild(v):d[0].appendChild(v)}if(l._waiting&&(l._selectedOptionsRefresh=!0,e.alopex.DataBinder.selectedOptions&&e.alopex.DataBinder.selectedOptions.render&&e.alopex.DataBinder.selectedOptions.render(l,a,l._value,i,r)),e.fn.multiselect&&d.is('[data-type="mselect"]')?e.alopex.util.isConverted(t)&&d.multiselect("refresh"):e.alopex.util.isValid(t)&&e.alopex.util.isValid(d.refresh)&&("divselect"===d.parent("div").attr("data-type")?d.parent("div").refresh():d.refresh()),"combobox"==e(t).attr("data-type")){var w=e.alopex.widget.combobox;w._updateOptions(t),w._style(t)}}},o.selectedOptions={data:function(t,a,n,i,r){var o=e(t);return"divselect"==o.attr("data-type")&&"DIV"===t.tagName?t._value||o.find(">select:eq(0)").val()||"":"divselect"==o.attr("data-type")&&"SELECT"===t.tagName?t.divSelect._value||"":o.val()||""},render:function(t,a,n,i,r){var o=null;if("divselect"==e(t).attr("data-type")&&"DIV"===t.tagName&&(o=e(t).find(">select:eq(0)")),n instanceof Array)e(t).find("option").prop("selected",!1),e.each(n,function(a,n){e(t).find("option[value='"+n+"']").prop("selected",!0)});else{t._waiting&&t._selectedOptionsRefresh&&(t._waiting=!1,n=t._value);var s=!1;e(t).find("option").each(function(){if(e(this).val()==n)return s=!0,!1}),s?(o?o.val(n):e(t).val(n),t.divSelect?t.divSelect._value=n.toString():t._value=n.toString()):(t._waiting=!0,t._selectedOptionsRefresh=!1,t._value=n);var l=e(t).parent("div");(l&&"divselect"==l.attr("data-type")||t.divSelect)&&l.refresh()}e.fn.multiselect&&e(t).is('[data-type="mselect"]')?e.alopex.util.isConverted(t)&&e(t).multiselect("refresh"):e.alopex.util.isValid(t)&&e.alopex.util.isValid(e(t).refresh)&&e(t).refresh(),"combobox"==e(t).attr("data-type")&&e.alopex.widget.combobox._updateValue(t)}},o.attr={data:function(t,a,n,i,r){return e(t).attr(r.subcontrolName)},render:function(t,a,n,i,r){e(t).attr(r.subcontrolName,n)}},o.css={render:function(t,a,n,i,r){e(t).css(r.subcontrolName,n)},data:function(t,a,n,i,r){return e(t).css(r.subcontrolName)}},o.visible={render:function(t,a,n,i,r){n?e(t).show():e(t).hide()},data:function(e,t,a,n,i){return"none"!=e.style.display}},o.with={render:function(t,a,n,i,r){e(t).setData(n)},data:function(t,a,n,i,r){var o={};return e(t).find("> *").each(function(t,a){e.extend(o,e(a).getData())}),o}},o.foreach={data:function(t,a,n,i,r){for(var o,s=e(t).children(),l=[],d=0;d<s.length;d++)o=s[d],e(o).attr("alopex-databind-template")||l.push(e(o).getData());return l},render:function(t,n,i,r,o){if(i instanceof Array){e(t).find("[alopex-databind-created=true]").remove();var s,l=e(t).data("databind-template");if(!l){var d=e.alopex.BindParser.parseByControl(e(t).attr(a));d&&d.template&&d.template.id?l=e("#"+d.template.id).html():(l=t.innerHTML,"true"===e(t).find("> *").attr("alopex-template-remove")?e(t).find("> *").attr("alopex-databind-template","true").remove():e(t).find("> *").attr("alopex-databind-template","true").hide()),e(t).data("databind-template",l)}for(var c=0;c<i.length;c++){var p=e(l).clone().attr("alopex-databind-created","true").appendTo(t);p.find("[data-bind]").each(function(){var e=this.getAttribute("data-bind");this.setAttribute("data-bind",e.replace(new RegExp(":"+n+".\\d+.","gi"),":"))}),e(p).setData(i[c],o.serviceName,a)}document.createEvent?((s=document.createEvent("Event")).initEvent("dataupdate",!0,!0),s.datalength=i.length,s.perpage=0,s.totallength=0,t.dispatchEvent(s)):e(t).trigger("dataupdate",{datalength:i.length,perpage:0,totallength:0})}}},o.template={getTemplate:function(t){var n,i,r=e(t).data("databind-template");return r||(i=e.alopex.BindParser.parseByControl(e(t).attr(a)))&&i.template&&(n=e("#"+i.template.name)).length>0&&(r=n.html(),e(t).data("databind-template",r)),r},render:function(t,a,n,i,r){var s=o.template.getTemplate(t);if(e(t).empty(),e.alopex.util.isValid(n)&&e.alopex.util.isValid(s))if(n instanceof Array)if(0==n.length);else for(var l=0;l<n.length;l++){e(s).appendTo(t).setData(n[l])}else e(s).clone().appendTo(t).setData(n)},data:function(t,n,i,r,s){if("foreach"==s.subcontrolName){var l=o.template.getTemplate(t);if(s=e.alopex.BindParser.parseByControl(e(t).attr(a)),e.alopex.util.isValid(l)&&s&&s.template){if(s.template.foreach){for(var d=[],c=t.children,p=0;p<c.length;p++)d.push(e(c[p]).getData());return d}s.template}}}},o.binder={data:function(e,t,a,n,i){if(e&&e.binder&&e.binder.getBindElement){var r=e.binder.getBindElement();if(r&&r.tagName)return r}return""},render:function(e,t,a,n,i){if(e&&e.binder&&e.binder.setBindElement){document.body.querySelector("iframe").contentDocument;a?e.binder.setBindElement(a):e.binder.removeBindElement()}}},o.grid={render:function(t,a,n,i,r){var o=t.jquery?t:e(t);e.alopex.util.isValid(e(t).attr("data-alopexgrid"))&&e.alopex.util.isValid(e.fn.alopexGrid)&&(e.isPlainObject(n)?o.alopexGrid("dataSet",e.isArray(n.list)?n.list:[],o.alopexGrid("readOption").pager?{current:n.currentPage,perPage:n.perPage,dataLength:n.totalLength}:void 0):e.isArray(n)&&o.alopexGrid("dataSet",n))},data:function(t,a,n,i,r){var o,s,l,d;if((o=t.jquery?t:e(t)).attr("data-alopexgrid"))return s=AlopexGrid.trimData(o.alopexGrid("dataGet")),o.alopexGrid("readOption").pager?(d={list:s},(l=o.alopexGrid("pageInfo"))&&e.extend(d,{currentLength:s.length,currentPage:l.current,perPage:l.perPage,totalLength:l.dataLength}),d._griddata=!0,d):s}},o.time={render:function(t,a,n,i,r){var o,s,l=new Date(n);if(isNaN(l.getTime())){var d=n.match(/(\d+)(?::(\d\d))?\s*(p?)/i);if(!d)return;o=parseInt(d[1],10),s=parseInt(d[2],10)||0}else o=l.getHours(),s=l.getMinutes();var c=t.querySelector("[data-hour]"),p=t.querySelector("[data-minute]"),u=t.querySelector("[data-ampm]");u?(e(u).val(u.am),"12H"===e(t).data("hours")?("string"==typeof n&&n.toUpperCase().indexOf(u.pm)>-1||o>=12)&&(e(u).val(u.pm),o>12?o-=12:0==o&&(o+=12)):("string"==typeof n&&n.toUpperCase().indexOf(u.pm)>-1&&o<12&&0==(o+=12)&&(o+=12),o>=12?e(u).val(u.pm):e(u).val(u.am))):"12H"===e(t).data("hours")&&o>12&&(o-=12),e(c).val(o<10?"0"+o:o),e(p).val(s<10?"0"+s:s)},data:function(t,a,n,i,r){for(var o,s=e(t).children(),l="",d=0;d<s.length;d++)((o=e(s[d])).is("[data-hour]")||o.is("[data-minute]")||o.is("[data-seperator]")||o.is("[data-ampm]"))&&(o.val()?l+=0===d?o.val():" "+o.val():o.text()&&(l+=0===d?o.text():" "+o.text()));return l}},o.addBinder=function(t,a){o[t]={},e.extend(o[t],a)},e.alopex.DataBinder=o,e.alopex.registerSetup("databind",function(e){e.optionsValueKey&&(o.options.setting.valueKey=e.optionsValueKey),e.optionsTextKey&&(o.options.setting.textKey=e.optionsTextKey)})}(jQuery),function(e){function t(e,t){this._parent=t,this._key=e}function a(e,a){for(var n in this._scope=e,this._data=a,a)a.hasOwnProperty(n)&&(this[n]=new t(n,this))}t.prototype.get=function(){try{return e(this._parent._scope).getData()[this._key]}catch(e){return}},t.prototype.set=function(t){var a={};a[this._key]=t;try{return e(this._parent._scope).setData(a)}catch(e){}},a.prototype.get=function(){return e(this._scope).getData()},a.prototype.set=function(t){return e(this._scope).setData(t)},e.alopex.databind=function(t,n){return n=n||document.body,e(n).setData(t),new a(n,t)},e.alopex.datamodel=function(){var t="body";void 0===arguments[0]||"boolean"==typeof arguments[0]||(t=arguments[0]);var n=e(t).getData;return e(t).setData(n),new a(t,n)},e.fn.alopex=function(t,a){return"dataSet"===t||"setData"===t?e(this).setData(a):"dataGet"===t||"getData"===t?e(this).getData():void 0},e.alopex.data={bind:e.alopex.databind,model:e.alopex.datamodel,control:e.alopex.DataBinder.addBinder}}(jQuery),function(e){var t="data-bind-format";e(document).ready(function(){e(document.body).on("focus","["+t+"]",function(a){var n=a.currentTarget,i=e.alopex.unformat(n.value,e(n).attr(t));n.value=i}),e(document.body).on("blur","["+t+"]",function(a){var n=a.currentTarget,i=e.alopex.format(n.value,e(n).attr(t));n.value=i})}),e.alopex.format=function(t,a){return e.alopex.Formatter[a]?e.alopex.Formatter[a].toFormat(t):t},e.alopex.unformat=function(t,a){return e.alopex.Formatter[a]?e.alopex.Formatter[a].toValue(t):t},e.alopex.Formatter={},e.alopex.Formatter.currency={toFormat:function(e){var t,a,n,i,r;if((r=e.toString().replace(/[^0-9\.]/gi,""))!==e.toString()||null!==r.match(/\./gi)&&1!==r.match(/\./gi).length)return e;for(n=(a=(t=e.toString().split("."))[0].split("")).length-3;n>0;n-=3)a.splice(n,0,",");return i=a.join(""),2==t.length&&(i+=i[1]),i},toValue:function(e){return e.replace(new RegExp(",","g"),"")},validate:function(e){return e<32||e>=48&&e<=57||127===e}},e.alopex.Formatter.dollar={toFormat:function(t){return isNaN(parseInt(e.alopex.Formatter.currency.toFormat(t)))?t:"$"+e.alopex.Formatter.currency.toFormat(t)},toValue:function(t){return e.alopex.Formatter.currency.toValue(t.replace("$",""))},validate:function(t){return e.alopex.Formatter.currency.validate(t)}},e.alopex.Formatter.date={normalize:function(){return"yyyy/MM/dd"},toFormat:function(e){var t=e.match(/(\d{4})(\d{2})(\d{2})/);return t?t[1]+"/"+t[2]+"/"+t[3]:""},toValue:function(e){return e.replace(new RegExp("/","g"),"")},validate:function(e){var t=e.match(/(\d{4})(\d{2})(\d{2})/),a=t[1],n=t[2],i=t[3];return!(n<1||n>12)&&(!(i<1||i>31)&&((4!=n&&6!=n&&9!=n&&11!=n||31!=i)&&(2!=n||!(i>29)&&(29!=i||a%4==0&&(a%100!=0||a%400==0)))))}},e.alopex.Formatter.time={normalize:function(){return"hh:mm:ss"},toFormat:function(e){var t=e.match(/(\d{2})(\d{2})(\d{2})/);return t?t[1]+":"+t[2]+":"+t[3]:""},toValue:function(e){return e.replace(new RegExp(":","g"),"")},validate:function(e){var t=str.match(/(\d{2})(\d{2})(\d{2})/),a=t[1],n=t[2],i=t[3];return!(a<0||a>24)&&(!(n<0||n>59)&&!(i<0||i>59))}},e.alopex.addFormatter=function(t){e.extend(!0,e.alopex.Formatter,t)}}(jQuery),function(e){function t(){this.servicelist={},this.requestlist={}}t.prototype.loadServiceInfo=function(t,a){this.servicelist={},this.requestlist={};var n=this;e.get(t,function(t){var i={};"string"==typeof t?i=JSON.parse(t):"object"==typeof t&&(i=t),e.extend(n.servicelist,i),a&&"function"==typeof a&&a()})},t.prototype.isCached=function(e,t){return!!t&&(this.requestlist[e]&&this.requestlist[e].data===t.data)},t.prototype.bind=function(t,a){if(a||(a={}),this.successCallback=a.success,this.errorCallback=a.error,this.callback=a.complete,this.isCached(t,a)){this.requestlist[t].responseObj;this.databinding(t)}else{var n=this.servicelist[t];n&&(e.extend(n,a,{type:n.method,complete:this._requestCallback,error:this._requestErrorCallback,success:this._requestSuccessCallback}),n.staticSchema&&(n.data=e.extend({},n.data,e.alopex.datamodel("body").get())),this.requestlist[t]={data:n.data,responseText:"",responseObject:null},e.ajax(n),e.alopex.datasource.object=this)}},t.prototype._requestSuccessCallback=function(){e.alopex.datasource.object.successArguments=arguments},t.prototype._requestErrorCallback=function(){e.alopex.datasource.object.errorArguments=arguments},t.prototype._requestCallback=function(t,a){var n;for(var i in e.alopex.datasource.servicelist){var r=this.url.split("?")[0].trim();if(e.alopex.datasource.servicelist[i].url===r){n=i;break}}var o=e.alopex.datasource.object;try{o.requestlist[n].responseText=t.responseText,o.requestlist[n].responseObject=JSON.parse(t.responseText);var s=o.databinding(n);"success"===a&&o.successCallback?o.successCallback.apply(this,o.successArguments):"success"!=a&&o.errorCallback&&o.errorCallback.apply(this,o.errorArguments),o.callback&&o.callback.call(this,arguments[0],arguments[1],s)}catch(e){}},t.prototype.databinding=function(t){var a,n=this;return $candidate=e('[data-provider*="'+t+'"]'),$candidate.each(function(){var i=this.getAttribute("data-provider"),r=i.split(":")[0];if(t===r){if(1===i.split(":").length)s=n.requestlist[t].responseObject;else for(var o=i.split(":")[1].split("."),s=n.requestlist[t].responseObject,l=0;l<o.length;l++)s=s[o[l]];if(a=e.alopex.databind(s),e.alopex.data.servicemodel[t]=a,document.createElement){var d=document.createEvent("Events");d.initEvent("databind",!0,!0),document.dispatchEvent(d)}else e(document).trigger("databind")}}),a},t.prototype.update=function(t,a,n){var i=n.get();a.data=i,a.type&&(a.method=a.type);var r=this.servicelist[t];e.extend(r,a),r.method="post",e.ajax(r),e.alopex.datasource.object=this},t.prototype.search=function(t){t||(t="body");var a=this;e(t).find("[data-trigger]").addBack("[data-trigger]").each(function(){var t=e(this),n=t.attr("data-trigger"),i=new e.alopex.datarule(n);for(var r in i.object)"load"==i.object[r]?a.bind(r):t.data("_data_trigger_"+r)||(t.on(i.object[r],function(e){a.bind(r)}),t.data("_data_trigger_"+r,i.object[r]))})},e.alopex.datasource=new t}(jQuery),function($,window){var rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rCRLF=/\r?\n/g;function idFilterValue(e){if("string"==typeof e&&0===e.indexOf("#")){var t=$(e);return t.length?t.val():e}return e}var Validator={defaultOption:{},addMethod:function(e,t){this.method[e]=function(e,a,n){return t(n,e,a)}},defineMethod:function(e,t){this.method[e]=t},test:function(e,t,a){var n=this.method[e];return $.isFunction(n)?n(t,a):"No such method : "+e},method:{required:function(e,t,a){if("string"==typeof t){var n=$(t),i=n.attr("type")||"";if(manipulation_rcheckableType.test(i)){var r=n.attr("name"),o=$(locateForm(n));n=n.add(o.find('[name="'+r+'"]'))}if(0===getValueLength(extractValueFromArray(r,serializeInputs(n))))return"optional"}return!isNullValue(e)||!1===t},checkOnlySpace:function(e,t,a){return""!=e.replace(/^\s+|\s+$/g,"")},equalTo:function(e,t,a){return("string"==typeof t&&0===t.indexOf("#")?$(t).val():t)===e},minlength:function(e,t,a){return getValueLength(e)>=t},maxlength:function(e,t,a){return getValueLength(e)<=t},rangelength:function(e,t,a){if(!$.isArray(t))return!1;var n=getValueLength(e);return t[0]<=n&&n<=t[1]},minblength:function(e,t,a){return getByteLength(e)>=t},maxblength:function(e,t,a){return getByteLength(e)<=t},rangeblength:function(e,t,a){if(!$.isArray(t))return!1;var n=getByteLength(e);return t[0]<=n&&n<=t[1]},min:function(e,t,a){return Number(e)>=Number(t)},max:function(e,t,a){return Number(e)<=Number(t)},range:function(e,t,a){return!!$.isArray(t)&&(Number(t[0])<=Number(e)&&Number(e)<=Number(t[1]))},digits:function(e,t,a){return/^\s*\d+\s*$/.test(e)},number:function(e,t,a){return!isNaN(Number(e))},integer:function(e,t,a){return/^\s*(\+|-)?\d+\s*$/.test(e)},alphabet:function(e,t,a){return/^[a-zA-Z]*$/.test(e)},numalpha:function(e,t,a){return/^[0-9a-zA-Z]*$/.test(e)},nospace:function(e,t,a){return!/\s/g.test(e)},hangul:function(e,t,a){return/^[ㄱ-힣]*$/.test(e)},numhan:function(e,t,a){return/^[0-9ㄱ-힣]*$/.test(e)},email:function(e,t,a){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},url:function(e,t,a){return new RegExp("^(http[s]?:\\/\\/(www\\.)?|ftp:\\/\\/(www\\.)?|(www\\.)?){1}([0-9A-Za-z-\\.@:%_‌​+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?").test(e)},date:function(e,t,a){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},mindate:function(e,t,a){var n=new Date(e).getTime(),i=new Date(idFilterValue(t)).getTime();return!isNaN(n)&&!isNaN(i)&&i<=n},maxdate:function(e,t,a){var n=new Date(e).getTime(),i=new Date(idFilterValue(t)).getTime();return!isNaN(n)&&!isNaN(i)&&n<=i},daterange:function(e,t,a){if(!/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)||!$.isArray(t))return!1;var n=new Date(idFilterValue(t[0])).getTime(),i=new Date(idFilterValue(t[1])).getTime(),r=new Date(e).getTime();return!(isNaN(n)||isNaN(i)||isNaN(r))&&(n<=r&&r<=i)},oneof:function(e,t,a){if($.isArray(t))for(var n=0,i=t.length;n<i;n++)if(e===t[n])return!0;return!1},phone:function(e,t,a){return/^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})?-?[0-9]{3,4}-?[0-9]{4}$/.test(e)},mobile:function(e,t,a){return/^(01[016789]{1})-?[0-9]{3,4}-?[0-9]{4}$/.test(e)},decimal:function(e,t,a){var n=String(e).split(",").join("");if(isNaN(parseFloat(n))||!isFinite(n))return!1;var i=String(n).replace(/[+\-,]/g,""),r=t[0],o=t[1]||0,s=i.split(".")[0],l=i.split(".")[1];return!(r&&s&&s.length>r-o)&&!(l&&l.length>o)}},defaultOption:{onsubmit:!0,oninit:!1,onkeyup:!0,onchange:!0,onblur:!0,messageToLabel:!1,messageToDataFor:!0,validClass:null,invalidClass:null,validMessageClass:"valid",invalidMessageClass:"invalid"},message:{},setLocale:function(e){var t="";$.alopex.util.isValid($.alopex.config.locale)&&(t=$.alopex.config.locale),Validator.locale&&(t=Validator.locale),$.alopex.util.isValid(e)&&e.hasOwnProperty("locale")&&(t=e.locale),t||(t="ko"),Validator.locale=t=t.toLowerCase(),this.message=$.alopex.config.language[t].validator},setMessage:function(e,t){this.message[e]=t},mergeErrorMessage:function(e,t){function a(e,t){var a="";return t=t||e.name,$.isArray(e)&&(a=t?t+" : ":"",$.each(e,function(e,t){a+=t+" "})),a}return $.isArray(e)?a(e,t):(n=e,i="",$.isPlainObject(n)&&$.each(n,function(e,t){i+=a(t,null)+"\n"}),i);var n,i}},uniqueidbase=(new Date).getTime()%100;function generateUniqueId(){return"alopexvalidator"+uniqueidbase++}function stringify(e,t){var a="";if($.isPlainObject(e)){a+="{";var n=!1;for(var i in e)e.hasOwnProperty(i)&&(n?a+=",":n=!0,a+=i+":",a+=stringify(e[i],t));a+="}"}else if($.isArray(e)){for(var r=[],o=0;o<e.length;o++)r[o]=stringify(e[o],t);a+="["+r.join(",")+"]"}else if("string"==typeof e){var s="string"==typeof t?t:"'";a+=s+e+s}else a+=e;return a}function evalObjectString(str){if("string"!=typeof str||""===str||!str)return null;var result=eval("("+str+")");return $.isPlainObject(result)?result:null}function getObjectProperty(){var e=$.makeArray(arguments);return e.length<=1||!$.isPlainObject(e[0])?e[0]:(e[1]=e[0][e[1]],getObjectProperty.apply(null,e.slice(1)))}function hasClass(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function addClass(e,t){hasClass(e,t)||(e.className=e.className+(e.className?" ":"")+t)}function removeClass(e,t){hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function serializeInputs(e){return e.filter(function(){var e=this.type;return this.name&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!manipulation_rcheckableType.test(e))}).map(function(e,t){var a=jQuery(this).val();return null==a?null:jQuery.isArray(a)?jQuery.map(a,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:a.replace(rCRLF,"\r\n")}}).get()}function extractValueFromArray(e,t){var a=null;return $.each(t,function(t,n){n.name===e&&(null===a?a=n.value:(a=$.isArray(a)?a:[a]).push(n.value))}),a}function isNullValue(e){return null===e||void 0===e||""===e}function getByteLength(e){if(isNullValue(e))return 0;if(e.hasOwnProperty("length")){for(var t,a=0,n=0;t=e.charCodeAt(n++);a+=t>>11?3:t>>7?2:1);return a}return 0}function getValueLength(e){return isNullValue(e)?0:e.hasOwnProperty("length")&&e.length||0}function validate(e,t,a,n,i,r){var o=!0,s={};return Validator.setLocale(),t.filter("[data-validate-rule],[data-validation-rule]").each(function(e){var t=this,l=t.attributes.type,d=t.attributes.name,c=$.extend({},evalObjectString(t.attributes["data-validation-rule"]?t.attributes["data-validation-rule"].value:null),evalObjectString(t.attributes["data-validate-rule"]?t.attributes["data-validate-rule"].value:null));if(!$.isEmptyObject(c)){var p=$.extend({},Validator.defaultOption,$.data(t,"data-validation-option"),evalObjectString(t.attributes["data-validation-option"]?t.attributes["data-validation-option"].value:null),evalObjectString(t.attributes["data-validate-option"]?t.attributes["data-validate-option"].value:null)),u=$.extend({},Validator.message,$.data(t,"data-validation-message"),evalObjectString(t.attributes["data-validation-message"]?t.attributes["data-validation-message"].value:null),evalObjectString(t.attributes["data-validate-message"]?t.attributes["data-validate-message"].value:null)),h=t.attributes["data-validate-name"]||t.attributes["data-validation-name"],f=!0,g=t.id;l=l?l.value:"text";var m=extractValueFromArray(d=d?d.value:"",n);for(var v in c){var x=Validator.method[v],b=c[v],w=!!$.isFunction(x)&&x(m,b,t);if("optional"===w){delete s[d],f=!0;break}if(w||!d||s[d]||(s[d]=[]),!w){var y=u[v]||"";if($.isFunction(y))y=y.call(t,t,b);else{for(var _=$.isArray(b)?b:[b],k=0;k<_.length;k++)y=y.split("{"+k+"}").join(idFilterValue(_[k]));y=(y=y.replace(/{param}/g,$.isArray(b)?'"'+b.join('", "')+'"':idFilterValue(b))).replace(/{attr:([^}]*)}/g,function(e,a,n,i){return t.getAttribute(a)})}y=p.title?y.replace("{title}",p.title):y,h&&h.value&&s[d]&&(s[d].name=h.value),s[d]&&s[d].push(y)}if(!1===w&&(f=!1,!0!==i))break}isNullValue(m)&&!0!==c.required&&"string"!=typeof c.required&&(f=!0,delete s[d]),!0!==r&&(a&&a.each(function(){var e=!1;p.messageToLabel&&"LABEL"===this.tagName&&this.attributes.for&&this.attributes.for.value===g&&(e=!0),p.messageToDataFor&&this.attributes["data-for"]&&this.attributes["data-for"].value===g&&(e=!0),e&&(this.innerText=!0===i?(s[d]||[]).join(" "):getObjectProperty(s,d,0)||"",p.validMessageClass&&(f?addClass:removeClass)(this,p.validMessageClass),p.invalidMessageClass&&(f?removeClass:addClass)(this,p.invalidMessageClass))}),(p.validClass||p.invalidClass)&&(p.validClass&&(f?addClass:removeClass)(t,p.validClass),p.invalidClass&&(f?removeClass:addClass)(t,p.invalidClass))),!1===f&&(o=!1)}}),!0===r?s:o}function locateForm(e){e.jquery&&e.length>0&&(e=e[0]);for(var t=e.tagName;"FORM"!==t&&"BODY"!==t&&"HEAD"!==t;){if(!(e=e.parentNode))return document.body;t=e.tagName}return"BODY"===t||"HEAD"===t?document.body:e}function createNameForInputs(e){e.filter(function(){var e=this.type;return!this.name&&(this.attributes["data-validate-rule"]||this.attributes["data-validation-rule"])&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&((this.checked||manipulation_rcheckableType.test(e))&&(this.value||this.value.length)||!manipulation_rcheckableType.test(e))}).each(function(){this.name||(this.name=generateUniqueId())})}function addGroupInputs(e,t){return t.each(function(a,n){var i=n.type;manipulation_rcheckableType.test(i)&&(t=t.add(e.find('[name="'+n.name+'"]')))}),t}$.fn.validate=function(){var e,t,a=this.eq(0),n=null,i=null,r=!1,o=!1,s=0;$.isPlainObject(arguments[0])&&(o=arguments[s++]);var l=arguments[s++],d=arguments[s++];if($.isPlainObject(a[0])&&(r=a[0]),n=$(locateForm(a)),r){i=$();$.each(a[0],function(e,t){var a=$('<input type="hidden">');a.attr("name",e).attr("value",t),i=i.add(a)})}else i="FORM"===a.prop("tagName")?n.map(function(){var e=jQuery.prop(this,"elements");return jQuery.makeArray(e)}):rsubmittable.test((a.prop("tagName")+"").toLowerCase())?this:(n=this).find("[data-validate-rule],[data-validation-rule]");o&&i.validator(o),createNameForInputs(i=addGroupInputs(n,i)),t=serializeInputs(i),e=n.find("[for], [data-for]");var c=validate(n,i,e,t,l,d);return!0===d&&"FORM"!==a.prop("tagName")&&a.prop("name")&&(c=c[a.prop("name")]||null),c},$.fn.validator=function(e){var t=this,a=(locateForm(this),!1);return"FORM"===this.prop("tagName")&&(t=t.add($($.makeArray(this.prop("elements")))),a=!0),t.each(function(){var t=$(this),n="FORM"===this.tagName,i=(t.attr("type"),t.attr("name"));if($.isPlainObject(e)&&!$.isEmptyObject(e)){if(!n){var r=$.extend({},evalObjectString(t.attr("data-validation-rule")),evalObjectString(t.attr("data-validate-rule")),getObjectProperty(e,"rule"),getObjectProperty(e,"elements",i,"rule")),o=$.extend({},t.data("data-validation-message"),evalObjectString(t.attr("data-validation-message")),evalObjectString(t.attr("data-validate-message")),getObjectProperty(e,"message"),getObjectProperty(e,"elements",i,"message"));$.isEmptyObject(r)||t.attr("data-validation-rule",stringify(r)).removeAttr("data-validate-rule"),$.isEmptyObject(o)||t.data("data-validation-message",o).removeAttr("data-validate-message").removeAttr("data-validation-message")}var s=$.extend({},t.data("data-validation-option"),evalObjectString(t.attr("data-validation-option")),evalObjectString(t.attr("data-validate-option")),!n&&a?null:getObjectProperty(e,"option"),getObjectProperty(e,"elements",i,"option"));$.isEmptyObject(s)||t.data("data-validation-option",s).removeAttr("data-validate-option").removeAttr("data-validation-option")}var l=$.extend({},t.data("data-validation-rule"),evalObjectString(t.attr("data-validation-rule")),evalObjectString(t.attr("data-validate-rule"))),d=$.extend({},Validator.defaultOption,t.data("data-validation-option"),evalObjectString(t.attr("data-validation-option")),evalObjectString(t.attr("data-validate-option")));$.extend({},Validator.message,t.data("data-validation-message"),evalObjectString(t.attr("data-validation-message")),evalObjectString(t.attr("data-validate-message"))),$.extend({},{locale:Validator.locale},{locale:t.data("data-validation-message-locale")},{locale:t.attr("data-validation-message-locale")},{locale:t.attr("data-validate-message-locale")});if(n)t.off(".alopexvalidatorFormSubmit"),d.onsubmit&&t.on("submit.alopexvalidatorFormSubmit",d.submitHandler||function(e){$(this).validate()||e.preventDefault()});else{if("string"==typeof l.required&&0===l.required.indexOf("#")){var c=$(l.required);c.data("alopexvalidatorDependency",t.add(c.data("alopexvalidatorDependency")))}t.off(".alopexvalidatorInputChange");var p=[];d.onkeyup&&(d.onclick=!0),$.each(["onkeyup","onchange","onblur","onclick"],function(e,t){d[t]&&p.push(t.split("on")[1]+".alopexvalidatorInputChange")}),p.length&&t.on(p.join(" "),function(e){var t=$(this);setTimeout(function(){t.validate();var e=t.data("alopexvalidatorDependency");if(e){var a=$.extend({},evalObjectString(e.attr("data-validation-rule")),evalObjectString(e.attr("data-validate-rule")));if($.isPlainObject(a)&&a.required==="#"+t.prop("id"))e.validate();else{var n=c.data("alopexvalidatorDependency");n&&n.jquery&&(n=n.remove("#"+t.prop("id"))),n&&n.length||t.removeData("alopexvalidatorDependency")}}},0)})}(d.oninit||getObjectProperty(e,"oninit"))&&setTimeout(function(){t.validate()},0)}),this};var _getErrorMessageConflict=$.fn.getErrorMessage;$.fn.getErrorMessage=function(){if(_getErrorMessageConflict){var e=!0,t=this;if(t.prop("elements")&&(t=t.add($($.makeArray(t.prop("elements"))))),t.each(function(){if(this.attributes["data-validate-rule"]||this.attributes["data-validation-rule"])return e=!1,!1}),e)return _getErrorMessageConflict.apply(this,arguments)}return this.validate(!0,!0)},window.Validator=Validator,$.alopex.validator=Validator,$.extend($.alopex.validator,{setup:function(e){$.extend(!0,$.alopex.validator,e),$.alopex.validator.hasOwnProperty("locale")&&Validator.setLocale($.alopex.validator)}})}(jQuery,window);
//# sourceMappingURL=alopex-ui.min.js.map
